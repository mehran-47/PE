(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Workspace=f()}})(function(){var define,module,exports;return(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var util=require('util/');var pSlice=Array.prototype.slice;var hasOwn=Object.prototype.hasOwnProperty;var assert=module.exports=ok;assert.AssertionError=function AssertionError(options){this.name='AssertionError';this.actual=options.actual;this.expected=options.expected;this.operator=options.operator;if(options.message){this.message=options.message;this.generatedMessage=false;}else{this.message=getMessage(this);this.generatedMessage=true;}
var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace){Error.captureStackTrace(this,stackStartFunction);}
else{var err=new Error();if(err.stack){var out=err.stack;var fn_name=stackStartFunction.name;var idx=out.indexOf('\n'+fn_name);if(idx>=0){var next_line=out.indexOf('\n',idx+1);out=out.substring(next_line+1);}
this.stack=out;}}};util.inherits(assert.AssertionError,Error);function replacer(key,value){if(util.isUndefined(value)){return''+value;}
if(util.isNumber(value)&&!isFinite(value)){return value.toString();}
if(util.isFunction(value)||util.isRegExp(value)){return value.toString();}
return value;}
function truncate(s,n){if(util.isString(s)){return s.length<n?s:s.slice(0,n);}else{return s;}}
function getMessage(self){return truncate(JSON.stringify(self.actual,replacer),128)+' '+
self.operator+' '+
truncate(JSON.stringify(self.expected,replacer),128);}
function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction});}
assert.fail=fail;function ok(value,message){if(!value)fail(value,true,message,'==',assert.ok);}
assert.ok=ok;assert.equal=function equal(actual,expected,message){if(actual!=expected)fail(actual,expected,message,'==',assert.equal);};assert.notEqual=function notEqual(actual,expected,message){if(actual==expected){fail(actual,expected,message,'!=',assert.notEqual);}};assert.deepEqual=function deepEqual(actual,expected,message){if(!_deepEqual(actual,expected)){fail(actual,expected,message,'deepEqual',assert.deepEqual);}};function _deepEqual(actual,expected){if(actual===expected){return true;}else if(util.isBuffer(actual)&&util.isBuffer(expected)){if(actual.length!=expected.length)return false;for(var i=0;i<actual.length;i++){if(actual[i]!==expected[i])return false;}
return true;}else if(util.isDate(actual)&&util.isDate(expected)){return actual.getTime()===expected.getTime();}else if(util.isRegExp(actual)&&util.isRegExp(expected)){return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase;}else if(!util.isObject(actual)&&!util.isObject(expected)){return actual==expected;}else{return objEquiv(actual,expected);}}
function isArguments(object){return Object.prototype.toString.call(object)=='[object Arguments]';}
function objEquiv(a,b){if(util.isNullOrUndefined(a)||util.isNullOrUndefined(b))
return false;if(a.prototype!==b.prototype)return false;if(util.isPrimitive(a)||util.isPrimitive(b)){return a===b;}
var aIsArgs=isArguments(a),bIsArgs=isArguments(b);if((aIsArgs&&!bIsArgs)||(!aIsArgs&&bIsArgs))
return false;if(aIsArgs){a=pSlice.call(a);b=pSlice.call(b);return _deepEqual(a,b);}
var ka=objectKeys(a),kb=objectKeys(b),key,i;if(ka.length!=kb.length)
return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!=kb[i])
return false;}
for(i=ka.length-1;i>=0;i--){key=ka[i];if(!_deepEqual(a[key],b[key]))return false;}
return true;}
assert.notDeepEqual=function notDeepEqual(actual,expected,message){if(_deepEqual(actual,expected)){fail(actual,expected,message,'notDeepEqual',assert.notDeepEqual);}};assert.strictEqual=function strictEqual(actual,expected,message){if(actual!==expected){fail(actual,expected,message,'===',assert.strictEqual);}};assert.notStrictEqual=function notStrictEqual(actual,expected,message){if(actual===expected){fail(actual,expected,message,'!==',assert.notStrictEqual);}};function expectedException(actual,expected){if(!actual||!expected){return false;}
if(Object.prototype.toString.call(expected)=='[object RegExp]'){return expected.test(actual);}else if(actual instanceof expected){return true;}else if(expected.call({},actual)===true){return true;}
return false;}
function _throws(shouldThrow,block,expected,message){var actual;if(util.isString(expected)){message=expected;expected=null;}
try{block();}catch(e){actual=e;}
message=(expected&&expected.name?' ('+expected.name+').':'.')+
(message?' '+message:'.');if(shouldThrow&&!actual){fail(actual,expected,'Missing expected exception'+message);}
if(!shouldThrow&&expectedException(actual,expected)){fail(actual,expected,'Got unwanted exception'+message);}
if((shouldThrow&&actual&&expected&&!expectedException(actual,expected))||(!shouldThrow&&actual)){throw actual;}}
assert.throws=function(block,error,message){_throws.apply(this,[true].concat(pSlice.call(arguments)));};assert.doesNotThrow=function(block,message){_throws.apply(this,[false].concat(pSlice.call(arguments)));};assert.ifError=function(err){if(err){throw err;}};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){if(hasOwn.call(obj,key))keys.push(key);}
return keys;};},{"util/":15}],2:[function(require,module,exports){(function(global){var base64=require('base64-js')
var ieee754=require('ieee754')
var isArray=require('is-array')
exports.Buffer=Buffer
exports.SlowBuffer=SlowBuffer
exports.INSPECT_MAX_BYTES=50
Buffer.poolSize=8192
var rootParent={}
Buffer.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==undefined?global.TYPED_ARRAY_SUPPORT:typedArraySupport()
function typedArraySupport(){function Bar(){}
try{var arr=new Uint8Array(1)
arr.foo=function(){return 42}
arr.constructor=Bar
return arr.foo()===42&&arr.constructor===Bar&&typeof arr.subarray==='function'&&arr.subarray(1,1).byteLength===0}catch(e){return false}}
function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?0x7fffffff:0x3fffffff}
function Buffer(arg){if(!(this instanceof Buffer)){if(arguments.length>1)return new Buffer(arg,arguments[1])
return new Buffer(arg)}
this.length=0
this.parent=undefined
if(typeof arg==='number'){return fromNumber(this,arg)}
if(typeof arg==='string'){return fromString(this,arg,arguments.length>1?arguments[1]:'utf8')}
return fromObject(this,arg)}
function fromNumber(that,length){that=allocate(that,length<0?0:checked(length)|0)
if(!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<length;i++){that[i]=0}}
return that}
function fromString(that,string,encoding){if(typeof encoding!=='string'||encoding==='')encoding='utf8'
var length=byteLength(string,encoding)|0
that=allocate(that,length)
that.write(string,encoding)
return that}
function fromObject(that,object){if(Buffer.isBuffer(object))return fromBuffer(that,object)
if(isArray(object))return fromArray(that,object)
if(object==null){throw new TypeError('must start with number, buffer, array or string')}
if(typeof ArrayBuffer!=='undefined'){if(object.buffer instanceof ArrayBuffer){return fromTypedArray(that,object)}
if(object instanceof ArrayBuffer){return fromArrayBuffer(that,object)}}
if(object.length)return fromArrayLike(that,object)
return fromJsonObject(that,object)}
function fromBuffer(that,buffer){var length=checked(buffer.length)|0
that=allocate(that,length)
buffer.copy(that,0,0,length)
return that}
function fromArray(that,array){var length=checked(array.length)|0
that=allocate(that,length)
for(var i=0;i<length;i+=1){that[i]=array[i]&255}
return that}
function fromTypedArray(that,array){var length=checked(array.length)|0
that=allocate(that,length)
for(var i=0;i<length;i+=1){that[i]=array[i]&255}
return that}
function fromArrayBuffer(that,array){if(Buffer.TYPED_ARRAY_SUPPORT){array.byteLength
that=Buffer._augment(new Uint8Array(array))}else{that=fromTypedArray(that,new Uint8Array(array))}
return that}
function fromArrayLike(that,array){var length=checked(array.length)|0
that=allocate(that,length)
for(var i=0;i<length;i+=1){that[i]=array[i]&255}
return that}
function fromJsonObject(that,object){var array
var length=0
if(object.type==='Buffer'&&isArray(object.data)){array=object.data
length=checked(array.length)|0}
that=allocate(that,length)
for(var i=0;i<length;i+=1){that[i]=array[i]&255}
return that}
if(Buffer.TYPED_ARRAY_SUPPORT){Buffer.prototype.__proto__=Uint8Array.prototype
Buffer.__proto__=Uint8Array}
function allocate(that,length){if(Buffer.TYPED_ARRAY_SUPPORT){that=Buffer._augment(new Uint8Array(length))
that.__proto__=Buffer.prototype}else{that.length=length
that._isBuffer=true}
var fromPool=length!==0&&length<=Buffer.poolSize>>>1
if(fromPool)that.parent=rootParent
return that}
function checked(length){if(length>=kMaxLength()){throw new RangeError('Attempt to allocate Buffer larger than maximum '+'size: 0x'+kMaxLength().toString(16)+' bytes')}
return length|0}
function SlowBuffer(subject,encoding){if(!(this instanceof SlowBuffer))return new SlowBuffer(subject,encoding)
var buf=new Buffer(subject,encoding)
delete buf.parent
return buf}
Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)}
Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError('Arguments must be Buffers')}
if(a===b)return 0
var x=a.length
var y=b.length
var i=0
var len=Math.min(x,y)
while(i<len){if(a[i]!==b[i])break
++i}
if(i!==len){x=a[i]
y=b[i]}
if(x<y)return-1
if(y<x)return 1
return 0}
Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'binary':case'base64':case'raw':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return true
default:return false}}
Buffer.concat=function concat(list,length){if(!isArray(list))throw new TypeError('list argument must be an Array of Buffers.')
if(list.length===0){return new Buffer(0)}
var i
if(length===undefined){length=0
for(i=0;i<list.length;i++){length+=list[i].length}}
var buf=new Buffer(length)
var pos=0
for(i=0;i<list.length;i++){var item=list[i]
item.copy(buf,pos)
pos+=item.length}
return buf}
function byteLength(string,encoding){if(typeof string!=='string')string=''+string
var len=string.length
if(len===0)return 0
var loweredCase=false
for(;;){switch(encoding){case'ascii':case'binary':case'raw':case'raws':return len
case'utf8':case'utf-8':return utf8ToBytes(string).length
case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return len*2
case'hex':return len>>>1
case'base64':return base64ToBytes(string).length
default:if(loweredCase)return utf8ToBytes(string).length
encoding=(''+encoding).toLowerCase()
loweredCase=true}}}
Buffer.byteLength=byteLength
Buffer.prototype.length=undefined
Buffer.prototype.parent=undefined
function slowToString(encoding,start,end){var loweredCase=false
start=start|0
end=end===undefined||end===Infinity?this.length:end|0
if(!encoding)encoding='utf8'
if(start<0)start=0
if(end>this.length)end=this.length
if(end<=start)return''
while(true){switch(encoding){case'hex':return hexSlice(this,start,end)
case'utf8':case'utf-8':return utf8Slice(this,start,end)
case'ascii':return asciiSlice(this,start,end)
case'binary':return binarySlice(this,start,end)
case'base64':return base64Slice(this,start,end)
case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return utf16leSlice(this,start,end)
default:if(loweredCase)throw new TypeError('Unknown encoding: '+encoding)
encoding=(encoding+'').toLowerCase()
loweredCase=true}}}
Buffer.prototype.toString=function toString(){var length=this.length|0
if(length===0)return''
if(arguments.length===0)return utf8Slice(this,0,length)
return slowToString.apply(this,arguments)}
Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError('Argument must be a Buffer')
if(this===b)return true
return Buffer.compare(this,b)===0}
Buffer.prototype.inspect=function inspect(){var str=''
var max=exports.INSPECT_MAX_BYTES
if(this.length>0){str=this.toString('hex',0,max).match(/.{2}/g).join(' ')
if(this.length>max)str+=' ... '}
return'<Buffer '+str+'>'}
Buffer.prototype.compare=function compare(b){if(!Buffer.isBuffer(b))throw new TypeError('Argument must be a Buffer')
if(this===b)return 0
return Buffer.compare(this,b)}
Buffer.prototype.indexOf=function indexOf(val,byteOffset){if(byteOffset>0x7fffffff)byteOffset=0x7fffffff
else if(byteOffset<-0x80000000)byteOffset=-0x80000000
byteOffset>>=0
if(this.length===0)return-1
if(byteOffset>=this.length)return-1
if(byteOffset<0)byteOffset=Math.max(this.length+byteOffset,0)
if(typeof val==='string'){if(val.length===0)return-1
return String.prototype.indexOf.call(this,val,byteOffset)}
if(Buffer.isBuffer(val)){return arrayIndexOf(this,val,byteOffset)}
if(typeof val==='number'){if(Buffer.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==='function'){return Uint8Array.prototype.indexOf.call(this,val,byteOffset)}
return arrayIndexOf(this,[val],byteOffset)}
function arrayIndexOf(arr,val,byteOffset){var foundIndex=-1
for(var i=0;byteOffset+i<arr.length;i++){if(arr[byteOffset+i]===val[foundIndex===-1?0:i-foundIndex]){if(foundIndex===-1)foundIndex=i
if(i-foundIndex+1===val.length)return byteOffset+foundIndex}else{foundIndex=-1}}
return-1}
throw new TypeError('val must be string, number or Buffer')}
Buffer.prototype.get=function get(offset){console.log('.get() is deprecated. Access using array indexes instead.')
return this.readUInt8(offset)}
Buffer.prototype.set=function set(v,offset){console.log('.set() is deprecated. Access using array indexes instead.')
return this.writeUInt8(v,offset)}
function hexWrite(buf,string,offset,length){offset=Number(offset)||0
var remaining=buf.length-offset
if(!length){length=remaining}else{length=Number(length)
if(length>remaining){length=remaining}}
var strLen=string.length
if(strLen%2!==0)throw new Error('Invalid hex string')
if(length>strLen/2){length=strLen/2}
for(var i=0;i<length;i++){var parsed=parseInt(string.substr(i*2,2),16)
if(isNaN(parsed))throw new Error('Invalid hex string')
buf[offset+i]=parsed}
return i}
function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}
function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}
function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}
function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}
function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}
Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding='utf8'
length=this.length
offset=0}else if(length===undefined&&typeof offset==='string'){encoding=offset
length=this.length
offset=0}else if(isFinite(offset)){offset=offset|0
if(isFinite(length)){length=length|0
if(encoding===undefined)encoding='utf8'}else{encoding=length
length=undefined}}else{var swap=encoding
encoding=offset
offset=length|0
length=swap}
var remaining=this.length-offset
if(length===undefined||length>remaining)length=remaining
if((string.length>0&&(length<0||offset<0))||offset>this.length){throw new RangeError('attempt to write outside buffer bounds')}
if(!encoding)encoding='utf8'
var loweredCase=false
for(;;){switch(encoding){case'hex':return hexWrite(this,string,offset,length)
case'utf8':case'utf-8':return utf8Write(this,string,offset,length)
case'ascii':return asciiWrite(this,string,offset,length)
case'binary':return binaryWrite(this,string,offset,length)
case'base64':return base64Write(this,string,offset,length)
case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return ucs2Write(this,string,offset,length)
default:if(loweredCase)throw new TypeError('Unknown encoding: '+encoding)
encoding=(''+encoding).toLowerCase()
loweredCase=true}}}
Buffer.prototype.toJSON=function toJSON(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}}
function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}
function utf8Slice(buf,start,end){end=Math.min(buf.length,end)
var res=[]
var i=start
while(i<end){var firstByte=buf[i]
var codePoint=null
var bytesPerSequence=(firstByte>0xEF)?4:(firstByte>0xDF)?3:(firstByte>0xBF)?2:1
if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint
switch(bytesPerSequence){case 1:if(firstByte<0x80){codePoint=firstByte}
break
case 2:secondByte=buf[i+1]
if((secondByte&0xC0)===0x80){tempCodePoint=(firstByte&0x1F)<<0x6|(secondByte&0x3F)
if(tempCodePoint>0x7F){codePoint=tempCodePoint}}
break
case 3:secondByte=buf[i+1]
thirdByte=buf[i+2]
if((secondByte&0xC0)===0x80&&(thirdByte&0xC0)===0x80){tempCodePoint=(firstByte&0xF)<<0xC|(secondByte&0x3F)<<0x6|(thirdByte&0x3F)
if(tempCodePoint>0x7FF&&(tempCodePoint<0xD800||tempCodePoint>0xDFFF)){codePoint=tempCodePoint}}
break
case 4:secondByte=buf[i+1]
thirdByte=buf[i+2]
fourthByte=buf[i+3]
if((secondByte&0xC0)===0x80&&(thirdByte&0xC0)===0x80&&(fourthByte&0xC0)===0x80){tempCodePoint=(firstByte&0xF)<<0x12|(secondByte&0x3F)<<0xC|(thirdByte&0x3F)<<0x6|(fourthByte&0x3F)
if(tempCodePoint>0xFFFF&&tempCodePoint<0x110000){codePoint=tempCodePoint}}}}
if(codePoint===null){codePoint=0xFFFD
bytesPerSequence=1}else if(codePoint>0xFFFF){codePoint-=0x10000
res.push(codePoint>>>10&0x3FF|0xD800)
codePoint=0xDC00|codePoint&0x3FF}
res.push(codePoint)
i+=bytesPerSequence}
return decodeCodePointsArray(res)}
var MAX_ARGUMENTS_LENGTH=0x1000
function decodeCodePointsArray(codePoints){var len=codePoints.length
if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}
var res=''
var i=0
while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}
return res}
function asciiSlice(buf,start,end){var ret=''
end=Math.min(buf.length,end)
for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i]&0x7F)}
return ret}
function binarySlice(buf,start,end){var ret=''
end=Math.min(buf.length,end)
for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i])}
return ret}
function hexSlice(buf,start,end){var len=buf.length
if(!start||start<0)start=0
if(!end||end<0||end>len)end=len
var out=''
for(var i=start;i<end;i++){out+=toHex(buf[i])}
return out}
function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end)
var res=''
for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}
return res}
Buffer.prototype.slice=function slice(start,end){var len=this.length
start=~~start
end=end===undefined?len:~~end
if(start<0){start+=len
if(start<0)start=0}else if(start>len){start=len}
if(end<0){end+=len
if(end<0)end=0}else if(end>len){end=len}
if(end<start)end=start
var newBuf
if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=Buffer._augment(this.subarray(start,end))}else{var sliceLen=end-start
newBuf=new Buffer(sliceLen,undefined)
for(var i=0;i<sliceLen;i++){newBuf[i]=this[i+start]}}
if(newBuf.length)newBuf.parent=this.parent||this
return newBuf}
function checkOffset(offset,ext,length){if((offset%1)!==0||offset<0)throw new RangeError('offset is not uint')
if(offset+ext>length)throw new RangeError('Trying to access beyond buffer length')}
Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset|0
byteLength=byteLength|0
if(!noAssert)checkOffset(offset,byteLength,this.length)
var val=this[offset]
var mul=1
var i=0
while(++i<byteLength&&(mul*=0x100)){val+=this[offset+i]*mul}
return val}
Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset|0
byteLength=byteLength|0
if(!noAssert){checkOffset(offset,byteLength,this.length)}
var val=this[offset+--byteLength]
var mul=1
while(byteLength>0&&(mul*=0x100)){val+=this[offset+--byteLength]*mul}
return val}
Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length)
return this[offset]}
Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length)
return this[offset]|(this[offset+1]<<8)}
Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length)
return(this[offset]<<8)|this[offset+1]}
Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length)
return((this[offset])|(this[offset+1]<<8)|(this[offset+2]<<16))+
(this[offset+3]*0x1000000)}
Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length)
return(this[offset]*0x1000000)+
((this[offset+1]<<16)|(this[offset+2]<<8)|this[offset+3])}
Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset|0
byteLength=byteLength|0
if(!noAssert)checkOffset(offset,byteLength,this.length)
var val=this[offset]
var mul=1
var i=0
while(++i<byteLength&&(mul*=0x100)){val+=this[offset+i]*mul}
mul*=0x80
if(val>=mul)val-=Math.pow(2,8*byteLength)
return val}
Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset|0
byteLength=byteLength|0
if(!noAssert)checkOffset(offset,byteLength,this.length)
var i=byteLength
var mul=1
var val=this[offset+--i]
while(i>0&&(mul*=0x100)){val+=this[offset+--i]*mul}
mul*=0x80
if(val>=mul)val-=Math.pow(2,8*byteLength)
return val}
Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length)
if(!(this[offset]&0x80))return(this[offset])
return((0xff-this[offset]+1)*-1)}
Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length)
var val=this[offset]|(this[offset+1]<<8)
return(val&0x8000)?val|0xFFFF0000:val}
Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length)
var val=this[offset+1]|(this[offset]<<8)
return(val&0x8000)?val|0xFFFF0000:val}
Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length)
return(this[offset])|(this[offset+1]<<8)|(this[offset+2]<<16)|(this[offset+3]<<24)}
Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length)
return(this[offset]<<24)|(this[offset+1]<<16)|(this[offset+2]<<8)|(this[offset+3])}
Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length)
return ieee754.read(this,offset,true,23,4)}
Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length)
return ieee754.read(this,offset,false,23,4)}
Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length)
return ieee754.read(this,offset,true,52,8)}
Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length)
return ieee754.read(this,offset,false,52,8)}
function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('buffer must be a Buffer instance')
if(value>max||value<min)throw new RangeError('value is out of bounds')
if(offset+ext>buf.length)throw new RangeError('index out of range')}
Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value
offset=offset|0
byteLength=byteLength|0
if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0)
var mul=1
var i=0
this[offset]=value&0xFF
while(++i<byteLength&&(mul*=0x100)){this[offset+i]=(value/mul)&0xFF}
return offset+byteLength}
Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value
offset=offset|0
byteLength=byteLength|0
if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0)
var i=byteLength-1
var mul=1
this[offset+i]=value&0xFF
while(--i>=0&&(mul*=0x100)){this[offset+i]=(value/mul)&0xFF}
return offset+byteLength}
Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,1,0xff,0)
if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value)
this[offset]=(value&0xff)
return offset+1}
function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=0xffff+value+1
for(var i=0,j=Math.min(buf.length-offset,2);i<j;i++){buf[offset+i]=(value&(0xff<<(8*(littleEndian?i:1-i))))>>>(littleEndian?i:1-i)*8}}
Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,2,0xffff,0)
if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=(value&0xff)
this[offset+1]=(value>>>8)}else{objectWriteUInt16(this,value,offset,true)}
return offset+2}
Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,2,0xffff,0)
if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=(value>>>8)
this[offset+1]=(value&0xff)}else{objectWriteUInt16(this,value,offset,false)}
return offset+2}
function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=0xffffffff+value+1
for(var i=0,j=Math.min(buf.length-offset,4);i<j;i++){buf[offset+i]=(value>>>(littleEndian?i:3-i)*8)&0xff}}
Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,4,0xffffffff,0)
if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=(value>>>24)
this[offset+2]=(value>>>16)
this[offset+1]=(value>>>8)
this[offset]=(value&0xff)}else{objectWriteUInt32(this,value,offset,true)}
return offset+4}
Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,4,0xffffffff,0)
if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=(value>>>24)
this[offset+1]=(value>>>16)
this[offset+2]=(value>>>8)
this[offset+3]=(value&0xff)}else{objectWriteUInt32(this,value,offset,false)}
return offset+4}
Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value
offset=offset|0
if(!noAssert){var limit=Math.pow(2,8*byteLength-1)
checkInt(this,value,offset,byteLength,limit-1,-limit)}
var i=0
var mul=1
var sub=value<0?1:0
this[offset]=value&0xFF
while(++i<byteLength&&(mul*=0x100)){this[offset+i]=((value/mul)>>0)-sub&0xFF}
return offset+byteLength}
Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value
offset=offset|0
if(!noAssert){var limit=Math.pow(2,8*byteLength-1)
checkInt(this,value,offset,byteLength,limit-1,-limit)}
var i=byteLength-1
var mul=1
var sub=value<0?1:0
this[offset+i]=value&0xFF
while(--i>=0&&(mul*=0x100)){this[offset+i]=((value/mul)>>0)-sub&0xFF}
return offset+byteLength}
Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,1,0x7f,-0x80)
if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value)
if(value<0)value=0xff+value+1
this[offset]=(value&0xff)
return offset+1}
Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,2,0x7fff,-0x8000)
if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=(value&0xff)
this[offset+1]=(value>>>8)}else{objectWriteUInt16(this,value,offset,true)}
return offset+2}
Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,2,0x7fff,-0x8000)
if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=(value>>>8)
this[offset+1]=(value&0xff)}else{objectWriteUInt16(this,value,offset,false)}
return offset+2}
Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,4,0x7fffffff,-0x80000000)
if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=(value&0xff)
this[offset+1]=(value>>>8)
this[offset+2]=(value>>>16)
this[offset+3]=(value>>>24)}else{objectWriteUInt32(this,value,offset,true)}
return offset+4}
Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,4,0x7fffffff,-0x80000000)
if(value<0)value=0xffffffff+value+1
if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=(value>>>24)
this[offset+1]=(value>>>16)
this[offset+2]=(value>>>8)
this[offset+3]=(value&0xff)}else{objectWriteUInt32(this,value,offset,false)}
return offset+4}
function checkIEEE754(buf,value,offset,ext,max,min){if(value>max||value<min)throw new RangeError('value is out of bounds')
if(offset+ext>buf.length)throw new RangeError('index out of range')
if(offset<0)throw new RangeError('index out of range')}
function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4,3.4028234663852886e+38,-3.4028234663852886e+38)}
ieee754.write(buf,value,offset,littleEndian,23,4)
return offset+4}
Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)}
Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)}
function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8,1.7976931348623157E+308,-1.7976931348623157E+308)}
ieee754.write(buf,value,offset,littleEndian,52,8)
return offset+8}
Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)}
Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)}
Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0
if(!end&&end!==0)end=this.length
if(targetStart>=target.length)targetStart=target.length
if(!targetStart)targetStart=0
if(end>0&&end<start)end=start
if(end===start)return 0
if(target.length===0||this.length===0)return 0
if(targetStart<0){throw new RangeError('targetStart out of bounds')}
if(start<0||start>=this.length)throw new RangeError('sourceStart out of bounds')
if(end<0)throw new RangeError('sourceEnd out of bounds')
if(end>this.length)end=this.length
if(target.length-targetStart<end-start){end=target.length-targetStart+start}
var len=end-start
var i
if(this===target&&start<targetStart&&targetStart<end){for(i=len-1;i>=0;i--){target[i+targetStart]=this[i+start]}}else if(len<1000||!Buffer.TYPED_ARRAY_SUPPORT){for(i=0;i<len;i++){target[i+targetStart]=this[i+start]}}else{target._set(this.subarray(start,start+len),targetStart)}
return len}
Buffer.prototype.fill=function fill(value,start,end){if(!value)value=0
if(!start)start=0
if(!end)end=this.length
if(end<start)throw new RangeError('end < start')
if(end===start)return
if(this.length===0)return
if(start<0||start>=this.length)throw new RangeError('start out of bounds')
if(end<0||end>this.length)throw new RangeError('end out of bounds')
var i
if(typeof value==='number'){for(i=start;i<end;i++){this[i]=value}}else{var bytes=utf8ToBytes(value.toString())
var len=bytes.length
for(i=start;i<end;i++){this[i]=bytes[i%len]}}
return this}
Buffer.prototype.toArrayBuffer=function toArrayBuffer(){if(typeof Uint8Array!=='undefined'){if(Buffer.TYPED_ARRAY_SUPPORT){return(new Buffer(this)).buffer}else{var buf=new Uint8Array(this.length)
for(var i=0,len=buf.length;i<len;i+=1){buf[i]=this[i]}
return buf.buffer}}else{throw new TypeError('Buffer.toArrayBuffer not supported in this browser')}}
var BP=Buffer.prototype
Buffer._augment=function _augment(arr){arr.constructor=Buffer
arr._isBuffer=true
arr._set=arr.set
arr.get=BP.get
arr.set=BP.set
arr.write=BP.write
arr.toString=BP.toString
arr.toLocaleString=BP.toString
arr.toJSON=BP.toJSON
arr.equals=BP.equals
arr.compare=BP.compare
arr.indexOf=BP.indexOf
arr.copy=BP.copy
arr.slice=BP.slice
arr.readUIntLE=BP.readUIntLE
arr.readUIntBE=BP.readUIntBE
arr.readUInt8=BP.readUInt8
arr.readUInt16LE=BP.readUInt16LE
arr.readUInt16BE=BP.readUInt16BE
arr.readUInt32LE=BP.readUInt32LE
arr.readUInt32BE=BP.readUInt32BE
arr.readIntLE=BP.readIntLE
arr.readIntBE=BP.readIntBE
arr.readInt8=BP.readInt8
arr.readInt16LE=BP.readInt16LE
arr.readInt16BE=BP.readInt16BE
arr.readInt32LE=BP.readInt32LE
arr.readInt32BE=BP.readInt32BE
arr.readFloatLE=BP.readFloatLE
arr.readFloatBE=BP.readFloatBE
arr.readDoubleLE=BP.readDoubleLE
arr.readDoubleBE=BP.readDoubleBE
arr.writeUInt8=BP.writeUInt8
arr.writeUIntLE=BP.writeUIntLE
arr.writeUIntBE=BP.writeUIntBE
arr.writeUInt16LE=BP.writeUInt16LE
arr.writeUInt16BE=BP.writeUInt16BE
arr.writeUInt32LE=BP.writeUInt32LE
arr.writeUInt32BE=BP.writeUInt32BE
arr.writeIntLE=BP.writeIntLE
arr.writeIntBE=BP.writeIntBE
arr.writeInt8=BP.writeInt8
arr.writeInt16LE=BP.writeInt16LE
arr.writeInt16BE=BP.writeInt16BE
arr.writeInt32LE=BP.writeInt32LE
arr.writeInt32BE=BP.writeInt32BE
arr.writeFloatLE=BP.writeFloatLE
arr.writeFloatBE=BP.writeFloatBE
arr.writeDoubleLE=BP.writeDoubleLE
arr.writeDoubleBE=BP.writeDoubleBE
arr.fill=BP.fill
arr.inspect=BP.inspect
arr.toArrayBuffer=BP.toArrayBuffer
return arr}
var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g
function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,'')
if(str.length<2)return''
while(str.length%4!==0){str=str+'='}
return str}
function stringtrim(str){if(str.trim)return str.trim()
return str.replace(/^\s+|\s+$/g,'')}
function toHex(n){if(n<16)return'0'+n.toString(16)
return n.toString(16)}
function utf8ToBytes(string,units){units=units||Infinity
var codePoint
var length=string.length
var leadSurrogate=null
var bytes=[]
for(var i=0;i<length;i++){codePoint=string.charCodeAt(i)
if(codePoint>0xD7FF&&codePoint<0xE000){if(!leadSurrogate){if(codePoint>0xDBFF){if((units-=3)>-1)bytes.push(0xEF,0xBF,0xBD)
continue}else if(i+1===length){if((units-=3)>-1)bytes.push(0xEF,0xBF,0xBD)
continue}
leadSurrogate=codePoint
continue}
if(codePoint<0xDC00){if((units-=3)>-1)bytes.push(0xEF,0xBF,0xBD)
leadSurrogate=codePoint
continue}
codePoint=leadSurrogate-0xD800<<10|codePoint-0xDC00|0x10000}else if(leadSurrogate){if((units-=3)>-1)bytes.push(0xEF,0xBF,0xBD)}
leadSurrogate=null
if(codePoint<0x80){if((units-=1)<0)break
bytes.push(codePoint)}else if(codePoint<0x800){if((units-=2)<0)break
bytes.push(codePoint>>0x6|0xC0,codePoint&0x3F|0x80)}else if(codePoint<0x10000){if((units-=3)<0)break
bytes.push(codePoint>>0xC|0xE0,codePoint>>0x6&0x3F|0x80,codePoint&0x3F|0x80)}else if(codePoint<0x110000){if((units-=4)<0)break
bytes.push(codePoint>>0x12|0xF0,codePoint>>0xC&0x3F|0x80,codePoint>>0x6&0x3F|0x80,codePoint&0x3F|0x80)}else{throw new Error('Invalid code point')}}
return bytes}
function asciiToBytes(str){var byteArray=[]
for(var i=0;i<str.length;i++){byteArray.push(str.charCodeAt(i)&0xFF)}
return byteArray}
function utf16leToBytes(str,units){var c,hi,lo
var byteArray=[]
for(var i=0;i<str.length;i++){if((units-=2)<0)break
c=str.charCodeAt(i)
hi=c>>8
lo=c%256
byteArray.push(lo)
byteArray.push(hi)}
return byteArray}
function base64ToBytes(str){return base64.toByteArray(base64clean(str))}
function blitBuffer(src,dst,offset,length){for(var i=0;i<length;i++){if((i+offset>=dst.length)||(i>=src.length))break
dst[i+offset]=src[i]}
return i}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"base64-js":3,"ieee754":4,"is-array":5}],3:[function(require,module,exports){var lookup='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';;(function(exports){'use strict';var Arr=(typeof Uint8Array!=='undefined')?Uint8Array:Array
var PLUS='+'.charCodeAt(0)
var SLASH='/'.charCodeAt(0)
var NUMBER='0'.charCodeAt(0)
var LOWER='a'.charCodeAt(0)
var UPPER='A'.charCodeAt(0)
var PLUS_URL_SAFE='-'.charCodeAt(0)
var SLASH_URL_SAFE='_'.charCodeAt(0)
function decode(elt){var code=elt.charCodeAt(0)
if(code===PLUS||code===PLUS_URL_SAFE)
return 62
if(code===SLASH||code===SLASH_URL_SAFE)
return 63
if(code<NUMBER)
return-1
if(code<NUMBER+10)
return code-NUMBER+26+26
if(code<UPPER+26)
return code-UPPER
if(code<LOWER+26)
return code-LOWER+26}
function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr
if(b64.length%4>0){throw new Error('Invalid string. Length must be a multiple of 4')}
var len=b64.length
placeHolders='='===b64.charAt(len-2)?2:'='===b64.charAt(len-1)?1:0
arr=new Arr(b64.length*3/4-placeHolders)
l=placeHolders>0?b64.length-4:b64.length
var L=0
function push(v){arr[L++]=v}
for(i=0,j=0;i<l;i+=4,j+=3){tmp=(decode(b64.charAt(i))<<18)|(decode(b64.charAt(i+1))<<12)|(decode(b64.charAt(i+2))<<6)|decode(b64.charAt(i+3))
push((tmp&0xFF0000)>>16)
push((tmp&0xFF00)>>8)
push(tmp&0xFF)}
if(placeHolders===2){tmp=(decode(b64.charAt(i))<<2)|(decode(b64.charAt(i+1))>>4)
push(tmp&0xFF)}else if(placeHolders===1){tmp=(decode(b64.charAt(i))<<10)|(decode(b64.charAt(i+1))<<4)|(decode(b64.charAt(i+2))>>2)
push((tmp>>8)&0xFF)
push(tmp&0xFF)}
return arr}
function uint8ToBase64(uint8){var i,extraBytes=uint8.length%3,output="",temp,length
function encode(num){return lookup.charAt(num)}
function tripletToBase64(num){return encode(num>>18&0x3F)+encode(num>>12&0x3F)+encode(num>>6&0x3F)+encode(num&0x3F)}
for(i=0,length=uint8.length-extraBytes;i<length;i+=3){temp=(uint8[i]<<16)+(uint8[i+1]<<8)+(uint8[i+2])
output+=tripletToBase64(temp)}
switch(extraBytes){case 1:temp=uint8[uint8.length-1]
output+=encode(temp>>2)
output+=encode((temp<<4)&0x3F)
output+='=='
break
case 2:temp=(uint8[uint8.length-2]<<8)+(uint8[uint8.length-1])
output+=encode(temp>>10)
output+=encode((temp>>4)&0x3F)
output+=encode((temp<<2)&0x3F)
output+='='
break}
return output}
exports.toByteArray=b64ToByteArray
exports.fromByteArray=uint8ToBase64}(typeof exports==='undefined'?(this.base64js={}):exports))},{}],4:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m
var eLen=nBytes*8-mLen-1
var eMax=(1<<eLen)-1
var eBias=eMax>>1
var nBits=-7
var i=isLE?(nBytes-1):0
var d=isLE?-1:1
var s=buffer[offset+i]
i+=d
e=s&((1<<(-nBits))-1)
s>>=(-nBits)
nBits+=eLen
for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}
m=e&((1<<(-nBits))-1)
e>>=(-nBits)
nBits+=mLen
for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}
if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:((s?-1:1)*Infinity)}else{m=m+Math.pow(2,mLen)
e=e-eBias}
return(s?-1:1)*m*Math.pow(2,e-mLen)}
exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c
var eLen=nBytes*8-mLen-1
var eMax=(1<<eLen)-1
var eBias=eMax>>1
var rt=(mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0)
var i=isLE?0:(nBytes-1)
var d=isLE?1:-1
var s=value<0||(value===0&&1/value<0)?1:0
value=Math.abs(value)
if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0
e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2)
if(value*(c=Math.pow(2,-e))<1){e--
c*=2}
if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}
if(value*c>=2){e++
c/=2}
if(e+eBias>=eMax){m=0
e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen)
e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen)
e=0}}
for(;mLen>=8;buffer[offset+i]=m&0xff,i+=d,m/=256,mLen-=8){}
e=(e<<mLen)|m
eLen+=mLen
for(;eLen>0;buffer[offset+i]=e&0xff,i+=d,e/=256,eLen-=8){}
buffer[offset+i-d]|=s*128}},{}],5:[function(require,module,exports){var isArray=Array.isArray;var str=Object.prototype.toString;module.exports=isArray||function(val){return!!val&&'[object Array]'==str.call(val);};},{}],6:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined;}
module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))
throw TypeError('n must be a positive number');this._maxListeners=n;return this;};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)
this._events={};if(type==='error'){if(!this._events.error||(isObject(this._events.error)&&!this._events.error.length)){er=arguments[1];if(er instanceof Error){throw er;}
throw TypeError('Uncaught, unspecified "error" event.');}}
handler=this._events[type];if(isUndefined(handler))
return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)
args[i-1]=arguments[i];handler.apply(this,args);}}else if(isObject(handler)){len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)
args[i-1]=arguments[i];listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)
listeners[i].apply(this,args);}
return true;};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))
throw TypeError('listener must be a function');if(!this._events)
this._events={};if(this._events.newListener)
this.emit('newListener',type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])
this._events[type]=listener;else if(isObject(this._events[type]))
this._events[type].push(listener);else
this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){var m;if(!isUndefined(this._maxListeners)){m=this._maxListeners;}else{m=EventEmitter.defaultMaxListeners;}
if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error('(node) warning: possible EventEmitter memory '+'leak detected. %d listeners added. '+'Use emitter.setMaxListeners() to increase limit.',this._events[type].length);if(typeof console.trace==='function'){console.trace();}}}
return this;};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))
throw TypeError('listener must be a function');var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments);}}
g.listener=listener;this.on(type,g);return this;};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))
throw TypeError('listener must be a function');if(!this._events||!this._events[type])
return this;list=this._events[type];length=list.length;position=-1;if(list===listener||(isFunction(list.listener)&&list.listener===listener)){delete this._events[type];if(this._events.removeListener)
this.emit('removeListener',type,listener);}else if(isObject(list)){for(i=length;i-->0;){if(list[i]===listener||(list[i].listener&&list[i].listener===listener)){position=i;break;}}
if(position<0)
return this;if(list.length===1){list.length=0;delete this._events[type];}else{list.splice(position,1);}
if(this._events.removeListener)
this.emit('removeListener',type,listener);}
return this;};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)
return this;if(!this._events.removeListener){if(arguments.length===0)
this._events={};else if(this._events[type])
delete this._events[type];return this;}
if(arguments.length===0){for(key in this._events){if(key==='removeListener')continue;this.removeAllListeners(key);}
this.removeAllListeners('removeListener');this._events={};return this;}
listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners);}else{while(listeners.length)
this.removeListener(type,listeners[listeners.length-1]);}
delete this._events[type];return this;};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])
ret=[];else if(isFunction(this._events[type]))
ret=[this._events[type]];else
ret=this._events[type].slice();return ret;};EventEmitter.listenerCount=function(emitter,type){var ret;if(!emitter._events||!emitter._events[type])
ret=0;else if(isFunction(emitter._events[type]))
ret=1;else
ret=emitter._events[type].length;return ret;};function isFunction(arg){return typeof arg==='function';}
function isNumber(arg){return typeof arg==='number';}
function isObject(arg){return typeof arg==='object'&&arg!==null;}
function isUndefined(arg){return arg===void 0;}},{}],7:[function(require,module,exports){if(typeof Object.create==='function'){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor
ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}});};}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor
var TempCtor=function(){}
TempCtor.prototype=superCtor.prototype
ctor.prototype=new TempCtor()
ctor.prototype.constructor=ctor}}},{}],8:[function(require,module,exports){var process=module.exports={};var queue=[];var draining=false;function drainQueue(){if(draining){return;}
draining=true;var currentQueue;var len=queue.length;while(len){currentQueue=queue;queue=[];var i=-1;while(++i<len){currentQueue[i]();}
len=queue.length;}
draining=false;}
process.nextTick=function(fun){queue.push(fun);if(!draining){setTimeout(drainQueue,0);}};process.title='browser';process.browser=true;process.env={};process.argv=[];process.version='';process.versions={};function noop(){}
process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error('process.binding is not supported');};process.cwd=function(){return'/'};process.chdir=function(dir){throw new Error('process.chdir is not supported');};process.umask=function(){return 0;};},{}],9:[function(require,module,exports){(function(global){;(function(root){var freeExports=typeof exports=='object'&&exports;var freeModule=typeof module=='object'&&module&&module.exports==freeExports&&module;var freeGlobal=typeof global=='object'&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal){root=freeGlobal;}
var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter='-',regexPunycode=/^xn--/,regexNonASCII=/[^ -~]/,regexSeparators=/\x2E|\u3002|\uFF0E|\uFF61/g,errors={'overflow':'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw RangeError(errors[type]);}
function map(array,fn){var length=array.length;while(length--){array[length]=fn(array[length]);}
return array;}
function mapDomain(string,fn){return map(string.split(regexSeparators),fn).join('.');}
function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=0xD800&&value<=0xDBFF&&counter<length){extra=string.charCodeAt(counter++);if((extra&0xFC00)==0xDC00){output.push(((value&0x3FF)<<10)+(extra&0x3FF)+0x10000);}else{output.push(value);counter--;}}else{output.push(value);}}
return output;}
function ucs2encode(array){return map(array,function(value){var output='';if(value>0xFFFF){value-=0x10000;output+=stringFromCharCode(value>>>10&0x3FF|0xD800);value=0xDC00|value&0x3FF;}
output+=stringFromCharCode(value);return output;}).join('');}
function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22;}
if(codePoint-65<26){return codePoint-65;}
if(codePoint-97<26){return codePoint-97;}
return base;}
function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5);}
function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin);}
return floor(k+(baseMinusTMin+1)*delta/(delta+skew));}
function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0;}
for(j=0;j<basic;++j){if(input.charCodeAt(j)>=0x80){error('not-basic');}
output.push(input.charCodeAt(j));}
for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error('invalid-input');}
digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error('overflow');}
i+=digit*w;t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(digit<t){break;}
baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error('overflow');}
w*=baseMinusT;}
out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error('overflow');}
n+=floor(i/out);i%=out;output.splice(i++,0,n);}
return ucs2encode(output);}
function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<0x80){output.push(stringFromCharCode(currentValue));}}
handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter);}
while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue;}}
handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error('overflow');}
delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error('overflow');}
if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(q<t){break;}
qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT);}
output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount;}}
++delta;++n;}
return output.join('');}
function toUnicode(domain){return mapDomain(domain,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string;});}
function toASCII(domain){return mapDomain(domain,function(string){return regexNonASCII.test(string)?'xn--'+encode(string):string;});}
punycode={'version':'1.2.4','ucs2':{'decode':ucs2decode,'encode':ucs2encode},'decode':decode,'encode':encode,'toASCII':toASCII,'toUnicode':toUnicode};if(typeof define=='function'&&typeof define.amd=='object'&&define.amd){define('punycode',function(){return punycode;});}else if(freeExports&&!freeExports.nodeType){if(freeModule){freeModule.exports=punycode;}else{for(key in punycode){punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);}}}else{root.punycode=punycode;}}(this));}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],10:[function(require,module,exports){'use strict';function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}
module.exports=function(qs,sep,eq,options){sep=sep||'&';eq=eq||'=';var obj={};if(typeof qs!=='string'||qs.length===0){return obj;}
var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1000;if(options&&typeof options.maxKeys==='number'){maxKeys=options.maxKeys;}
var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys;}
for(var i=0;i<len;++i){var x=qs[i].replace(regexp,'%20'),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1);}else{kstr=x;vstr='';}
k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v;}else if(isArray(obj[k])){obj[k].push(v);}else{obj[k]=[obj[k],v];}}
return obj;};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==='[object Array]';};},{}],11:[function(require,module,exports){'use strict';var stringifyPrimitive=function(v){switch(typeof v){case'string':return v;case'boolean':return v?'true':'false';case'number':return isFinite(v)?v:'';default:return'';}};module.exports=function(obj,sep,eq,name){sep=sep||'&';eq=eq||'=';if(obj===null){obj=undefined;}
if(typeof obj==='object'){return map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(isArray(obj[k])){return map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v));}).join(sep);}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]));}}).join(sep);}
if(!name)return'';return encodeURIComponent(stringifyPrimitive(name))+eq+
encodeURIComponent(stringifyPrimitive(obj));};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==='[object Array]';};function map(xs,f){if(xs.map)return xs.map(f);var res=[];for(var i=0;i<xs.length;i++){res.push(f(xs[i],i));}
return res;}
var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))res.push(key);}
return res;};},{}],12:[function(require,module,exports){'use strict';exports.decode=exports.parse=require('./decode');exports.encode=exports.stringify=require('./encode');},{"./decode":10,"./encode":11}],13:[function(require,module,exports){var punycode=require('punycode');exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null;}
var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,delims=['<','>','"','`',' ','\r','\n','\t'],unwise=['{','}','|','\\','^','`'].concat(delims),autoEscape=['\''].concat(unwise),nonHostChars=['%','/','?',';','#'].concat(autoEscape),hostEndingChars=['/','?','#'],hostnameMaxLen=255,hostnamePartPattern=/^[a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={'javascript':true,'javascript:':true},hostlessProtocol={'javascript':true,'javascript:':true},slashedProtocol={'http':true,'https':true,'ftp':true,'gopher':true,'file':true,'http:':true,'https:':true,'ftp:':true,'gopher:':true,'file:':true},querystring=require('querystring');function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u;}
Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url);}
var rest=url;rest=rest.trim();var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length);}
if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==='//';if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true;}}
if(!hostlessProtocol[proto]&&(slashes||(proto&&!slashedProtocol[proto]))){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))
hostEnd=hec;}
var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf('@');}else{atSign=rest.lastIndexOf('@',hostEnd);}
if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth);}
hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))
hostEnd=hec;}
if(hostEnd===-1)
hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||'';var ipv6Hostname=this.hostname[0]==='['&&this.hostname[this.hostname.length-1]===']';if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart='';for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+='x';}else{newpart+=part[j];}}
if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2]);}
if(notHost.length){rest='/'+notHost.join('.')+rest;}
this.hostname=validParts.join('.');break;}}}}
if(this.hostname.length>hostnameMaxLen){this.hostname='';}else{this.hostname=this.hostname.toLowerCase();}
if(!ipv6Hostname){var domainArray=this.hostname.split('.');var newOut=[];for(var i=0;i<domainArray.length;++i){var s=domainArray[i];newOut.push(s.match(/[^A-Za-z0-9_-]/)?'xn--'+punycode.encode(s):s);}
this.hostname=newOut.join('.');}
var p=this.port?':'+this.port:'';var h=this.hostname||'';this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=='/'){rest='/'+rest;}}}
if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae);}
rest=rest.split(ae).join(esc);}}
var hash=rest.indexOf('#');if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash);}
var qm=rest.indexOf('?');if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query);}
rest=rest.slice(0,qm);}else if(parseQueryString){this.search='';this.query={};}
if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname='/';}
if(this.pathname||this.search){var p=this.pathname||'';var s=this.search||'';this.path=p+s;}
this.href=this.format();return this;};function urlFormat(obj){if(isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format();}
Url.prototype.format=function(){var auth=this.auth||'';if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,':');auth+='@';}
var protocol=this.protocol||'',pathname=this.pathname||'',hash=this.hash||'',host=false,query='';if(this.host){host=auth+this.host;}else if(this.hostname){host=auth+(this.hostname.indexOf(':')===-1?this.hostname:'['+this.hostname+']');if(this.port){host+=':'+this.port;}}
if(this.query&&isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query);}
var search=this.search||(query&&('?'+query))||'';if(protocol&&protocol.substr(-1)!==':')protocol+=':';if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host='//'+(host||'');if(pathname&&pathname.charAt(0)!=='/')pathname='/'+pathname;}else if(!host){host='';}
if(hash&&hash.charAt(0)!=='#')hash='#'+hash;if(search&&search.charAt(0)!=='?')search='?'+search;pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match);});search=search.replace('#','%23');return protocol+host+pathname+search+hash;};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative);}
Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format();};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative);}
Url.prototype.resolveObject=function(relative){if(isString(relative)){var rel=new Url();rel.parse(relative,false,true);relative=rel;}
var result=new Url();Object.keys(this).forEach(function(k){result[k]=this[k];},this);result.hash=relative.hash;if(relative.href===''){result.href=result.format();return result;}
if(relative.slashes&&!relative.protocol){Object.keys(relative).forEach(function(k){if(k!=='protocol')
result[k]=relative[k];});if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname='/';}
result.href=result.format();return result;}
if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){Object.keys(relative).forEach(function(k){result[k]=relative[k];});result.href=result.format();return result;}
result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||'').split('/');while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host='';if(!relative.hostname)relative.hostname='';if(relPath[0]!=='')relPath.unshift('');if(relPath.length<2)relPath.unshift('');result.pathname=relPath.join('/');}else{result.pathname=relative.pathname;}
result.search=relative.search;result.query=relative.query;result.host=relative.host||'';result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||'';var s=result.search||'';result.path=p+s;}
result.slashes=result.slashes||relative.slashes;result.href=result.format();return result;}
var isSourceAbs=(result.pathname&&result.pathname.charAt(0)==='/'),isRelAbs=(relative.host||relative.pathname&&relative.pathname.charAt(0)==='/'),mustEndAbs=(isRelAbs||isSourceAbs||(result.host&&relative.pathname)),removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split('/')||[],relPath=relative.pathname&&relative.pathname.split('/')||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname='';result.port=null;if(result.host){if(srcPath[0]==='')srcPath[0]=result.host;else srcPath.unshift(result.host);}
result.host='';if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==='')relPath[0]=relative.host;else relPath.unshift(relative.host);}
relative.host=null;}
mustEndAbs=mustEndAbs&&(relPath[0]===''||srcPath[0]==='');}
if(isRelAbs){result.host=(relative.host||relative.host==='')?relative.host:result.host;result.hostname=(relative.hostname||relative.hostname==='')?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath;}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query;}else if(!isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf('@')>0?result.host.split('@'):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift();}}
result.search=relative.search;result.query=relative.query;if(!isNull(result.pathname)||!isNull(result.search)){result.path=(result.pathname?result.pathname:'')+
(result.search?result.search:'');}
result.href=result.format();return result;}
if(!srcPath.length){result.pathname=null;if(result.search){result.path='/'+result.search;}else{result.path=null;}
result.href=result.format();return result;}
var last=srcPath.slice(-1)[0];var hasTrailingSlash=((result.host||relative.host)&&(last==='.'||last==='..')||last==='');var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last=='.'){srcPath.splice(i,1);}else if(last==='..'){srcPath.splice(i,1);up++;}else if(up){srcPath.splice(i,1);up--;}}
if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift('..');}}
if(mustEndAbs&&srcPath[0]!==''&&(!srcPath[0]||srcPath[0].charAt(0)!=='/')){srcPath.unshift('');}
if(hasTrailingSlash&&(srcPath.join('/').substr(-1)!=='/')){srcPath.push('');}
var isAbsolute=srcPath[0]===''||(srcPath[0]&&srcPath[0].charAt(0)==='/');if(psychotic){result.hostname=result.host=isAbsolute?'':srcPath.length?srcPath.shift():'';var authInHost=result.host&&result.host.indexOf('@')>0?result.host.split('@'):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift();}}
mustEndAbs=mustEndAbs||(result.host&&srcPath.length);if(mustEndAbs&&!isAbsolute){srcPath.unshift('');}
if(!srcPath.length){result.pathname=null;result.path=null;}else{result.pathname=srcPath.join('/');}
if(!isNull(result.pathname)||!isNull(result.search)){result.path=(result.pathname?result.pathname:'')+
(result.search?result.search:'');}
result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result;};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==':'){this.port=port.substr(1);}
host=host.substr(0,host.length-port.length);}
if(host)this.hostname=host;};function isString(arg){return typeof arg==="string";}
function isObject(arg){return typeof arg==='object'&&arg!==null;}
function isNull(arg){return arg===null;}
function isNullOrUndefined(arg){return arg==null;}},{"punycode":9,"querystring":12}],14:[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==='object'&&typeof arg.copy==='function'&&typeof arg.fill==='function'&&typeof arg.readUInt8==='function';}},{}],15:[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]));}
return objects.join(' ');}
var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==='%%')return'%';if(i>=len)return x;switch(x){case'%s':return String(args[i++]);case'%d':return Number(args[i++]);case'%j':try{return JSON.stringify(args[i++]);}catch(_){return'[Circular]';}
default:return x;}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=' '+x;}else{str+=' '+inspect(x);}}
return str;};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments);};}
if(process.noDeprecation===true){return fn;}
var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg);}else if(process.traceDeprecation){console.trace(msg);}else{console.error(msg);}
warned=true;}
return fn.apply(this,arguments);}
return deprecated;};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))
debugEnviron=process.env.NODE_DEBUG||'';set=set.toUpperCase();if(!debugs[set]){if(new RegExp('\\b'+set+'\\b','i').test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error('%s %d: %s',set,pid,msg);};}else{debugs[set]=function(){};}}
return debugs[set];};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts;}else if(opts){exports._extend(ctx,opts);}
if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth);}
exports.inspect=inspect;inspect.colors={'bold':[1,22],'italic':[3,23],'underline':[4,24],'inverse':[7,27],'white':[37,39],'grey':[90,39],'black':[30,39],'blue':[34,39],'cyan':[36,39],'green':[32,39],'magenta':[35,39],'red':[31,39],'yellow':[33,39]};inspect.styles={'special':'cyan','number':'yellow','boolean':'yellow','undefined':'grey','null':'bold','string':'green','date':'magenta','regexp':'red'};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return'\u001b['+inspect.colors[style][0]+'m'+str+'\u001b['+inspect.colors[style][1]+'m';}else{return str;}}
function stylizeNoColor(str,styleType){return str;}
function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true;});return hash;}
function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes);}
return ret;}
var primitive=formatPrimitive(ctx,value);if(primitive){return primitive;}
var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value);}
if(isError(value)&&(keys.indexOf('message')>=0||keys.indexOf('description')>=0)){return formatError(value);}
if(keys.length===0){if(isFunction(value)){var name=value.name?': '+value.name:'';return ctx.stylize('[Function'+name+']','special');}
if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');}
if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),'date');}
if(isError(value)){return formatError(value);}}
var base='',array=false,braces=['{','}'];if(isArray(value)){array=true;braces=['[',']'];}
if(isFunction(value)){var n=value.name?': '+value.name:'';base=' [Function'+n+']';}
if(isRegExp(value)){base=' '+RegExp.prototype.toString.call(value);}
if(isDate(value)){base=' '+Date.prototype.toUTCString.call(value);}
if(isError(value)){base=' '+formatError(value);}
if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1];}
if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');}else{return ctx.stylize('[Object]','special');}}
ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys);}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array);});}
ctx.seen.pop();return reduceToSingleString(output,base,braces);}
function formatPrimitive(ctx,value){if(isUndefined(value))
return ctx.stylize('undefined','undefined');if(isString(value)){var simple='\''+JSON.stringify(value).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+'\'';return ctx.stylize(simple,'string');}
if(isNumber(value))
return ctx.stylize(''+value,'number');if(isBoolean(value))
return ctx.stylize(''+value,'boolean');if(isNull(value))
return ctx.stylize('null','null');}
function formatError(value){return'['+Error.prototype.toString.call(value)+']';}
function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true));}else{output.push('');}}
keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true));}});return output;}
function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize('[Getter/Setter]','special');}else{str=ctx.stylize('[Getter]','special');}}else{if(desc.set){str=ctx.stylize('[Setter]','special');}}
if(!hasOwnProperty(visibleKeys,key)){name='['+key+']';}
if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null);}else{str=formatValue(ctx,desc.value,recurseTimes-1);}
if(str.indexOf('\n')>-1){if(array){str=str.split('\n').map(function(line){return'  '+line;}).join('\n').substr(2);}else{str='\n'+str.split('\n').map(function(line){return'   '+line;}).join('\n');}}}else{str=ctx.stylize('[Circular]','special');}}
if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str;}
name=JSON.stringify(''+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,'name');}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,'string');}}
return name+': '+str;}
function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf('\n')>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,'').length+1;},0);if(length>60){return braces[0]+
(base===''?'':base+'\n ')+' '+
output.join(',\n  ')+' '+
braces[1];}
return braces[0]+base+' '+output.join(', ')+' '+braces[1];}
function isArray(ar){return Array.isArray(ar);}
exports.isArray=isArray;function isBoolean(arg){return typeof arg==='boolean';}
exports.isBoolean=isBoolean;function isNull(arg){return arg===null;}
exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null;}
exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==='number';}
exports.isNumber=isNumber;function isString(arg){return typeof arg==='string';}
exports.isString=isString;function isSymbol(arg){return typeof arg==='symbol';}
exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0;}
exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==='[object RegExp]';}
exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==='object'&&arg!==null;}
exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==='[object Date]';}
exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==='[object Error]'||e instanceof Error);}
exports.isError=isError;function isFunction(arg){return typeof arg==='function';}
exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==='boolean'||typeof arg==='number'||typeof arg==='string'||typeof arg==='symbol'||typeof arg==='undefined';}
exports.isPrimitive=isPrimitive;exports.isBuffer=require('./support/isBuffer');function objectToString(o){return Object.prototype.toString.call(o);}
function pad(n){return n<10?'0'+n.toString(10):n.toString(10);}
var months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];function timestamp(){var d=new Date();var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(':');return[d.getDate(),months[d.getMonth()],time].join(' ');}
exports.log=function(){console.log('%s - %s',timestamp(),exports.format.apply(exports,arguments));};exports.inherits=require('inherits');exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]];}
return origin;};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}}).call(this,require('_process'),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":14,"_process":8,"inherits":7}],16:[function(require,module,exports){function classname(){var result={},objects={},resultString="";function add(strings){classname.each(strings.split(" "),function(string){result[string]=!!string;});}
classname.each([].slice.call(arguments),function(x){switch(classname.getType(x)){case"string":case"number":add(x);break;case"array":add(classname.apply(null,x));break;case"element":add(classname(x.className||""));break;case"nodelist":add(classname.apply(null,[].slice.call(x)));break;case"jquery":add(classname.apply(null,x.get()));break;case"object":objects=classname.extend(objects,x);break;}});result=classname.extend(result,objects);classname.each(result,function(val,key){if(val){resultString+=" "+key;}});return resultString.substr(1);}
classname.setTo=function(elements){var type=classname.getType(elements);if(type==="element"){elements=[elements];}
if(type==="jquery"){elements=elements.get();}
if(type==="nodelist"){elements=[].slice.call(elements);}
return function(){var classNames=classname.apply(null,arguments);classname.each(elements,function(element){element.className=classNames;});};};classname.each=function(arr,fn){var type=classname.getType(arr);if(type==="array"){for(var i=0;i<arr.length;i++){fn(arr[i],i);}}
if(type==="object"){for(var key in arr){fn(arr[key],key);}}};classname.getType=function(x){var type=Object.prototype.toString.call(x).slice(8,-1).toLowerCase();if(type==="object"&&x.jquery){return"jquery";}
if(type.indexOf("element")>1){return"element";}
return type;};classname.extend=function(obj1,obj2){var result={},objs=[obj1,obj2];classname.each(objs,function(obj){classname.each(obj,function(val,key){if(obj.hasOwnProperty(key)){result[key]=val;}});});return result;};if(typeof module!=="undefined"&&module.exports){module.exports=classname;}},{}],17:[function(require,module,exports){'use strict';function allBlankCharCodes(str){var l=str.length,a;for(var i=0;i<l;i++){a=str.charCodeAt(i);if((a<9||a>13)&&(a!==32)&&(a!==133)&&(a!==160)&&(a!==5760)&&(a!==6158)&&(a<8192||a>8205)&&(a!==8232)&&(a!==8233)&&(a!==8239)&&(a!==8287)&&(a!==8288)&&(a!==12288)&&(a!==65279)){return false;}}
return true;}
module.exports=function(n){var type=typeof n;if(type==='string'){var original=n;n=+n;if(n===0&&allBlankCharCodes(original))return false;}
else if(type!=='number')return false;return n-n<1;};},{}],18:[function(require,module,exports){'use strict';var assignSymbols=require('assign-symbols');var typeOf=require('kind-of');function assign(target){target=target||{};var len=arguments.length,i=0;if(len===1){return target;}
while(++i<len){var val=arguments[i];if(isObject(val)){extend(target,val);}}
return target;}
function extend(target,obj){assignSymbols(target,obj);for(var key in obj){if(hasOwn(obj,key)){var val=obj[key];if(isObject(val)){if(typeOf(target[key])==='undefined'&&typeOf(val)==='function'){target[key]=val;}
target[key]=assign(target[key]||{},val);}else{target[key]=val;}}}
return target;}
function isObject(obj){return typeOf(obj)==='object'||typeOf(obj)==='function';}
function hasOwn(obj,key){return Object.prototype.hasOwnProperty.call(obj,key);}
module.exports=assign;},{"assign-symbols":19,"kind-of":20}],19:[function(require,module,exports){'use strict';module.exports=function(receiver,objects){if(receiver===null||typeof receiver==='undefined'){throw new TypeError('expected first argument to be an object.');}
if(typeof objects==='undefined'||typeof Symbol==='undefined'){return receiver;}
if(typeof Object.getOwnPropertySymbols!=='function'){return receiver;}
var isEnumerable=Object.prototype.propertyIsEnumerable;var target=Object(receiver);var len=arguments.length,i=0;while(++i<len){var provider=Object(arguments[i]);var names=Object.getOwnPropertySymbols(provider);for(var j=0;j<names.length;j++){var key=names[j];if(isEnumerable.call(provider,key)){target[key]=provider[key];}}}
return target;};},{}],20:[function(require,module,exports){(function(Buffer){var isBuffer=require('is-buffer');var toString=Object.prototype.toString;module.exports=function kindOf(val){if(typeof val==='undefined'){return'undefined';}
if(val===null){return'null';}
if(val===true||val===false||val instanceof Boolean){return'boolean';}
if(typeof val==='string'||val instanceof String){return'string';}
if(typeof val==='number'||val instanceof Number){return'number';}
if(typeof val==='function'||val instanceof Function){return'function';}
if(typeof Array.isArray!=='undefined'&&Array.isArray(val)){return'array';}
if(val instanceof RegExp){return'regexp';}
if(val instanceof Date){return'date';}
var type=toString.call(val);if(type==='[object RegExp]'){return'regexp';}
if(type==='[object Date]'){return'date';}
if(type==='[object Arguments]'){return'arguments';}
if(typeof Buffer!=='undefined'&&isBuffer(val)){return'buffer';}
if(type==='[object Set]'){return'set';}
if(type==='[object WeakSet]'){return'weakset';}
if(type==='[object Map]'){return'map';}
if(type==='[object WeakMap]'){return'weakmap';}
if(type==='[object Symbol]'){return'symbol';}
return'object';};}).call(this,require("buffer").Buffer)},{"buffer":2,"is-buffer":21}],21:[function(require,module,exports){module.exports=function(obj){return!!(obj!=null&&(obj._isBuffer||(obj.constructor&&typeof obj.constructor.isBuffer==='function'&&obj.constructor.isBuffer(obj))))}},{}],22:[function(require,module,exports){(function(){'use strict';var hasOwn={}.hasOwnProperty;function classNames(){var classes='';for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==='string'||argType==='number'){classes+=' '+arg;}else if(Array.isArray(arg)){classes+=' '+classNames.apply(null,arg);}else if(argType==='object'){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes+=' '+key;}}}}
return classes.substr(1);}
if(typeof module!=='undefined'&&module.exports){module.exports=classNames;}else if(typeof define==='function'&&typeof define.amd==='object'&&define.amd){define('classnames',[],function(){return classNames;});}else{window.classNames=classNames;}}());},{}],23:[function(require,module,exports){exports.parse=parse;exports.serialize=serialize;var decode=decodeURIComponent;var encode=encodeURIComponent;var pairSplitRegExp=/; */;var fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function parse(str,options){if(typeof str!=='string'){throw new TypeError('argument str must be a string');}
var obj={}
var opt=options||{};var pairs=str.split(pairSplitRegExp);var dec=opt.decode||decode;pairs.forEach(function(pair){var eq_idx=pair.indexOf('=')
if(eq_idx<0){return;}
var key=pair.substr(0,eq_idx).trim()
var val=pair.substr(++eq_idx,pair.length).trim();if('"'==val[0]){val=val.slice(1,-1);}
if(undefined==obj[key]){obj[key]=tryDecode(val,dec);}});return obj;}
function serialize(name,val,options){var opt=options||{};var enc=opt.encode||encode;if(!fieldContentRegExp.test(name)){throw new TypeError('argument name is invalid');}
var value=enc(val);if(value&&!fieldContentRegExp.test(value)){throw new TypeError('argument val is invalid');}
var pairs=[name+'='+value];if(null!=opt.maxAge){var maxAge=opt.maxAge-0;if(isNaN(maxAge))throw new Error('maxAge should be a Number');pairs.push('Max-Age='+Math.floor(maxAge));}
if(opt.domain){if(!fieldContentRegExp.test(opt.domain)){throw new TypeError('option domain is invalid');}
pairs.push('Domain='+opt.domain);}
if(opt.path){if(!fieldContentRegExp.test(opt.path)){throw new TypeError('option path is invalid');}
pairs.push('Path='+opt.path);}
if(opt.expires)pairs.push('Expires='+opt.expires.toUTCString());if(opt.httpOnly)pairs.push('HttpOnly');if(opt.secure)pairs.push('Secure');if(opt.firstPartyOnly)pairs.push('First-Party-Only');return pairs.join('; ');}
function tryDecode(str,decode){try{return decode(str);}catch(e){return str;}}},{}],24:[function(require,module,exports){module.exports.Dispatcher=require('./lib/Dispatcher');},{"./lib/Dispatcher":25}],25:[function(require,module,exports){(function(process){'use strict';exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}
var invariant=require('fbjs/lib/invariant');var _prefix='ID_';var Dispatcher=(function(){function Dispatcher(){_classCallCheck(this,Dispatcher);this._callbacks={};this._isDispatching=false;this._isHandled={};this._isPending={};this._lastID=1;}
Dispatcher.prototype.register=function register(callback){var id=_prefix+this._lastID++;this._callbacks[id]=callback;return id;};Dispatcher.prototype.unregister=function unregister(id){!this._callbacks[id]?process.env.NODE_ENV!=='production'?invariant(false,'Dispatcher.unregister(...): `%s` does not map to a registered callback.',id):invariant(false):undefined;delete this._callbacks[id];};Dispatcher.prototype.waitFor=function waitFor(ids){!this._isDispatching?process.env.NODE_ENV!=='production'?invariant(false,'Dispatcher.waitFor(...): Must be invoked while dispatching.'):invariant(false):undefined;for(var ii=0;ii<ids.length;ii++){var id=ids[ii];if(this._isPending[id]){!this._isHandled[id]?process.env.NODE_ENV!=='production'?invariant(false,'Dispatcher.waitFor(...): Circular dependency detected while '+'waiting for `%s`.',id):invariant(false):undefined;continue;}
!this._callbacks[id]?process.env.NODE_ENV!=='production'?invariant(false,'Dispatcher.waitFor(...): `%s` does not map to a registered callback.',id):invariant(false):undefined;this._invokeCallback(id);}};Dispatcher.prototype.dispatch=function dispatch(payload){!!this._isDispatching?process.env.NODE_ENV!=='production'?invariant(false,'Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.'):invariant(false):undefined;this._startDispatching(payload);try{for(var id in this._callbacks){if(this._isPending[id]){continue;}
this._invokeCallback(id);}}finally{this._stopDispatching();}};Dispatcher.prototype.isDispatching=function isDispatching(){return this._isDispatching;};Dispatcher.prototype._invokeCallback=function _invokeCallback(id){this._isPending[id]=true;this._callbacks[id](this._pendingPayload);this._isHandled[id]=true;};Dispatcher.prototype._startDispatching=function _startDispatching(payload){for(var id in this._callbacks){this._isPending[id]=false;this._isHandled[id]=false;}
this._pendingPayload=payload;this._isDispatching=true;};Dispatcher.prototype._stopDispatching=function _stopDispatching(){delete this._pendingPayload;this._isDispatching=false;};return Dispatcher;})();module.exports=Dispatcher;}).call(this,require('_process'))},{"_process":8,"fbjs/lib/invariant":26}],26:[function(require,module,exports){(function(process){"use strict";var invariant=function(condition,format,a,b,c,d,e,f){if(process.env.NODE_ENV!=='production'){if(format===undefined){throw new Error('invariant requires an error message argument');}}
if(!condition){var error;if(format===undefined){error=new Error('Minified exception occurred; use the non-minified dev environment '+'for the full error message and additional helpful warnings.');}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error('Invariant Violation: '+format.replace(/%s/g,function(){return args[argIndex++];}));}
error.framesToPop=1;throw error;}};module.exports=invariant;}).call(this,require('_process'))},{"_process":8}],27:[function(require,module,exports){var hat=module.exports=function(bits,base){if(!base)base=16;if(bits===undefined)bits=128;if(bits<=0)return'0';var digits=Math.log(Math.pow(2,bits))/Math.log(base);for(var i=2;digits===Infinity;i*=2){digits=Math.log(Math.pow(2,bits/i))/Math.log(base)*i;}
var rem=digits-Math.floor(digits);var res='';for(var i=0;i<Math.floor(digits);i++){var x=Math.floor(Math.random()*base).toString(base);res=x+res;}
if(rem){var b=Math.pow(base,rem);var x=Math.floor(Math.random()*b).toString(base);res=x+res;}
var parsed=parseInt(res,base);if(parsed!==Infinity&&parsed>=Math.pow(2,bits)){return hat(bits,base)}
else return res;};hat.rack=function(bits,base,expandBy){var fn=function(data){var iters=0;do{if(iters++>10){if(expandBy)bits+=expandBy;else throw new Error('too many ID collisions, use more bits')}
var id=hat(bits,base);}while(Object.hasOwnProperty.call(hats,id));hats[id]=data;return id;};var hats=fn.hats={};fn.get=function(id){return fn.hats[id];};fn.set=function(id,value){fn.hats[id]=value;return fn;};fn.bits=bits||128;fn.base=base||16;return fn;};},{}],28:[function(require,module,exports){'use strict';exports.__esModule=true;var PUSH='PUSH';exports.PUSH=PUSH;var REPLACE='REPLACE';exports.REPLACE=REPLACE;var POP='POP';exports.POP=POP;exports['default']={PUSH:PUSH,REPLACE:REPLACE,POP:POP};},{}],29:[function(require,module,exports){"use strict";exports.__esModule=true;exports.loopAsync=loopAsync;function loopAsync(turns,work,callback){var currentTurn=0;var isDone=false;function done(){isDone=true;callback.apply(this,arguments);}
function next(){if(isDone)return;if(currentTurn<turns){work.call(this,currentTurn++,next,done);}else{done.apply(this,arguments);}}
next();}},{}],30:[function(require,module,exports){(function(process){'use strict';exports.__esModule=true;exports.saveState=saveState;exports.readState=readState;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _warning=require('warning');var _warning2=_interopRequireDefault(_warning);var KeyPrefix='@@History/';var QuotaExceededError='QuotaExceededError';var SecurityError='SecurityError';function createKey(key){return KeyPrefix+key;}
function saveState(key,state){try{window.sessionStorage.setItem(createKey(key),JSON.stringify(state));}catch(error){if(error.name===SecurityError){process.env.NODE_ENV!=='production'?_warning2['default'](false,'[history] Unable to save state; sessionStorage is not available due to security settings'):undefined;return;}
if(error.name===QuotaExceededError&&window.sessionStorage.length===0){process.env.NODE_ENV!=='production'?_warning2['default'](false,'[history] Unable to save state; sessionStorage is not available in Safari private mode'):undefined;return;}
throw error;}}
function readState(key){var json=undefined;try{json=window.sessionStorage.getItem(createKey(key));}catch(error){if(error.name===SecurityError){process.env.NODE_ENV!=='production'?_warning2['default'](false,'[history] Unable to read state; sessionStorage is not available due to security settings'):undefined;return null;}}
if(json){try{return JSON.parse(json);}catch(error){}}
return null;}}).call(this,require('_process'))},{"_process":8,"warning":57}],31:[function(require,module,exports){'use strict';exports.__esModule=true;exports.addEventListener=addEventListener;exports.removeEventListener=removeEventListener;exports.getHashPath=getHashPath;exports.replaceHashPath=replaceHashPath;exports.getWindowPath=getWindowPath;exports.go=go;exports.getUserConfirmation=getUserConfirmation;exports.supportsHistory=supportsHistory;exports.supportsGoWithoutReloadUsingHash=supportsGoWithoutReloadUsingHash;function addEventListener(node,event,listener){if(node.addEventListener){node.addEventListener(event,listener,false);}else{node.attachEvent('on'+event,listener);}}
function removeEventListener(node,event,listener){if(node.removeEventListener){node.removeEventListener(event,listener,false);}else{node.detachEvent('on'+event,listener);}}
function getHashPath(){return window.location.href.split('#')[1]||'';}
function replaceHashPath(path){window.location.replace(window.location.pathname+window.location.search+'#'+path);}
function getWindowPath(){return window.location.pathname+window.location.search+window.location.hash;}
function go(n){if(n)window.history.go(n);}
function getUserConfirmation(message,callback){callback(window.confirm(message));}
function supportsHistory(){var ua=navigator.userAgent;if((ua.indexOf('Android 2.')!==-1||ua.indexOf('Android 4.0')!==-1)&&ua.indexOf('Mobile Safari')!==-1&&ua.indexOf('Chrome')===-1&&ua.indexOf('Windows Phone')===-1){return false;}
return window.history&&'pushState'in window.history;}
function supportsGoWithoutReloadUsingHash(){var ua=navigator.userAgent;return ua.indexOf('Firefox')===-1;}},{}],32:[function(require,module,exports){'use strict';exports.__esModule=true;var canUseDOM=!!(typeof window!=='undefined'&&window.document&&window.document.createElement);exports.canUseDOM=canUseDOM;},{}],33:[function(require,module,exports){(function(process){'use strict';exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _invariant=require('invariant');var _invariant2=_interopRequireDefault(_invariant);var _Actions=require('./Actions');var _ExecutionEnvironment=require('./ExecutionEnvironment');var _DOMUtils=require('./DOMUtils');var _DOMStateStorage=require('./DOMStateStorage');var _createDOMHistory=require('./createDOMHistory');var _createDOMHistory2=_interopRequireDefault(_createDOMHistory);function createBrowserHistory(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];!_ExecutionEnvironment.canUseDOM?process.env.NODE_ENV!=='production'?_invariant2['default'](false,'Browser history needs a DOM'):_invariant2['default'](false):undefined;var forceRefresh=options.forceRefresh;var isSupported=_DOMUtils.supportsHistory();var useRefresh=!isSupported||forceRefresh;function getCurrentLocation(historyState){historyState=historyState||window.history.state||{};var path=_DOMUtils.getWindowPath();var _historyState=historyState;var key=_historyState.key;var state=undefined;if(key){state=_DOMStateStorage.readState(key);}else{state=null;key=history.createKey();if(isSupported)window.history.replaceState(_extends({},historyState,{key:key}),null,path);}
return history.createLocation(path,state,undefined,key);}
function startPopStateListener(_ref){var transitionTo=_ref.transitionTo;function popStateListener(event){if(event.state===undefined)return;transitionTo(getCurrentLocation(event.state));}
_DOMUtils.addEventListener(window,'popstate',popStateListener);return function(){_DOMUtils.removeEventListener(window,'popstate',popStateListener);};}
function finishTransition(location){var basename=location.basename;var pathname=location.pathname;var search=location.search;var hash=location.hash;var state=location.state;var action=location.action;var key=location.key;if(action===_Actions.POP)return;_DOMStateStorage.saveState(key,state);var path=(basename||'')+pathname+search+hash;var historyState={key:key};if(action===_Actions.PUSH){if(useRefresh){window.location.href=path;return false;}else{window.history.pushState(historyState,null,path);}}else{if(useRefresh){window.location.replace(path);return false;}else{window.history.replaceState(historyState,null,path);}}}
var history=_createDOMHistory2['default'](_extends({},options,{getCurrentLocation:getCurrentLocation,finishTransition:finishTransition,saveState:_DOMStateStorage.saveState}));var listenerCount=0,stopPopStateListener=undefined;function listenBefore(listener){if(++listenerCount===1)stopPopStateListener=startPopStateListener(history);var unlisten=history.listenBefore(listener);return function(){unlisten();if(--listenerCount===0)stopPopStateListener();};}
function listen(listener){if(++listenerCount===1)stopPopStateListener=startPopStateListener(history);var unlisten=history.listen(listener);return function(){unlisten();if(--listenerCount===0)stopPopStateListener();};}
function registerTransitionHook(hook){if(++listenerCount===1)stopPopStateListener=startPopStateListener(history);history.registerTransitionHook(hook);}
function unregisterTransitionHook(hook){history.unregisterTransitionHook(hook);if(--listenerCount===0)stopPopStateListener();}
return _extends({},history,{listenBefore:listenBefore,listen:listen,registerTransitionHook:registerTransitionHook,unregisterTransitionHook:unregisterTransitionHook});}
exports['default']=createBrowserHistory;module.exports=exports['default'];}).call(this,require('_process'))},{"./Actions":28,"./DOMStateStorage":30,"./DOMUtils":31,"./ExecutionEnvironment":32,"./createDOMHistory":34,"_process":8,"invariant":52}],34:[function(require,module,exports){(function(process){'use strict';exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _invariant=require('invariant');var _invariant2=_interopRequireDefault(_invariant);var _ExecutionEnvironment=require('./ExecutionEnvironment');var _DOMUtils=require('./DOMUtils');var _createHistory=require('./createHistory');var _createHistory2=_interopRequireDefault(_createHistory);function createDOMHistory(options){var history=_createHistory2['default'](_extends({getUserConfirmation:_DOMUtils.getUserConfirmation},options,{go:_DOMUtils.go}));function listen(listener){!_ExecutionEnvironment.canUseDOM?process.env.NODE_ENV!=='production'?_invariant2['default'](false,'DOM history needs a DOM'):_invariant2['default'](false):undefined;return history.listen(listener);}
return _extends({},history,{listen:listen});}
exports['default']=createDOMHistory;module.exports=exports['default'];}).call(this,require('_process'))},{"./DOMUtils":31,"./ExecutionEnvironment":32,"./createHistory":36,"_process":8,"invariant":52}],35:[function(require,module,exports){(function(process){'use strict';exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _warning=require('warning');var _warning2=_interopRequireDefault(_warning);var _invariant=require('invariant');var _invariant2=_interopRequireDefault(_invariant);var _Actions=require('./Actions');var _ExecutionEnvironment=require('./ExecutionEnvironment');var _DOMUtils=require('./DOMUtils');var _DOMStateStorage=require('./DOMStateStorage');var _createDOMHistory=require('./createDOMHistory');var _createDOMHistory2=_interopRequireDefault(_createDOMHistory);function isAbsolutePath(path){return typeof path==='string'&&path.charAt(0)==='/';}
function ensureSlash(){var path=_DOMUtils.getHashPath();if(isAbsolutePath(path))return true;_DOMUtils.replaceHashPath('/'+path);return false;}
function addQueryStringValueToPath(path,key,value){return path+(path.indexOf('?')===-1?'?':'&')+(key+'='+value);}
function stripQueryStringValueFromPath(path,key){return path.replace(new RegExp('[?&]?'+key+'=[a-zA-Z0-9]+'),'');}
function getQueryStringValueFromPath(path,key){var match=path.match(new RegExp('\\?.*?\\b'+key+'=(.+?)\\b'));return match&&match[1];}
var DefaultQueryKey='_k';function createHashHistory(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];!_ExecutionEnvironment.canUseDOM?process.env.NODE_ENV!=='production'?_invariant2['default'](false,'Hash history needs a DOM'):_invariant2['default'](false):undefined;var queryKey=options.queryKey;if(queryKey===undefined||!!queryKey)queryKey=typeof queryKey==='string'?queryKey:DefaultQueryKey;function getCurrentLocation(){var path=_DOMUtils.getHashPath();var key=undefined,state=undefined;if(queryKey){key=getQueryStringValueFromPath(path,queryKey);path=stripQueryStringValueFromPath(path,queryKey);if(key){state=_DOMStateStorage.readState(key);}else{state=null;key=history.createKey();_DOMUtils.replaceHashPath(addQueryStringValueToPath(path,queryKey,key));}}else{key=state=null;}
return history.createLocation(path,state,undefined,key);}
function startHashChangeListener(_ref){var transitionTo=_ref.transitionTo;function hashChangeListener(){if(!ensureSlash())return;transitionTo(getCurrentLocation());}
ensureSlash();_DOMUtils.addEventListener(window,'hashchange',hashChangeListener);return function(){_DOMUtils.removeEventListener(window,'hashchange',hashChangeListener);};}
function finishTransition(location){var basename=location.basename;var pathname=location.pathname;var search=location.search;var state=location.state;var action=location.action;var key=location.key;if(action===_Actions.POP)return;var path=(basename||'')+pathname+search;if(queryKey){path=addQueryStringValueToPath(path,queryKey,key);_DOMStateStorage.saveState(key,state);}else{location.key=location.state=null;}
var currentHash=_DOMUtils.getHashPath();if(action===_Actions.PUSH){if(currentHash!==path){window.location.hash=path;}else{process.env.NODE_ENV!=='production'?_warning2['default'](false,'You cannot PUSH the same path using hash history'):undefined;}}else if(currentHash!==path){_DOMUtils.replaceHashPath(path);}}
var history=_createDOMHistory2['default'](_extends({},options,{getCurrentLocation:getCurrentLocation,finishTransition:finishTransition,saveState:_DOMStateStorage.saveState}));var listenerCount=0,stopHashChangeListener=undefined;function listenBefore(listener){if(++listenerCount===1)stopHashChangeListener=startHashChangeListener(history);var unlisten=history.listenBefore(listener);return function(){unlisten();if(--listenerCount===0)stopHashChangeListener();};}
function listen(listener){if(++listenerCount===1)stopHashChangeListener=startHashChangeListener(history);var unlisten=history.listen(listener);return function(){unlisten();if(--listenerCount===0)stopHashChangeListener();};}
function pushState(state,path){process.env.NODE_ENV!=='production'?_warning2['default'](queryKey||state==null,'You cannot use state without a queryKey it will be dropped'):undefined;history.pushState(state,path);}
function replaceState(state,path){process.env.NODE_ENV!=='production'?_warning2['default'](queryKey||state==null,'You cannot use state without a queryKey it will be dropped'):undefined;history.replaceState(state,path);}
var goIsSupportedWithoutReload=_DOMUtils.supportsGoWithoutReloadUsingHash();function go(n){process.env.NODE_ENV!=='production'?_warning2['default'](goIsSupportedWithoutReload,'Hash history go(n) causes a full page reload in this browser'):undefined;history.go(n);}
function createHref(path){return'#'+history.createHref(path);}
function registerTransitionHook(hook){if(++listenerCount===1)stopHashChangeListener=startHashChangeListener(history);history.registerTransitionHook(hook);}
function unregisterTransitionHook(hook){history.unregisterTransitionHook(hook);if(--listenerCount===0)stopHashChangeListener();}
return _extends({},history,{listenBefore:listenBefore,listen:listen,pushState:pushState,replaceState:replaceState,go:go,createHref:createHref,registerTransitionHook:registerTransitionHook,unregisterTransitionHook:unregisterTransitionHook});}
exports['default']=createHashHistory;module.exports=exports['default'];}).call(this,require('_process'))},{"./Actions":28,"./DOMStateStorage":30,"./DOMUtils":31,"./ExecutionEnvironment":32,"./createDOMHistory":34,"_process":8,"invariant":52,"warning":57}],36:[function(require,module,exports){'use strict';exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _deepEqual=require('deep-equal');var _deepEqual2=_interopRequireDefault(_deepEqual);var _AsyncUtils=require('./AsyncUtils');var _Actions=require('./Actions');var _createLocation2=require('./createLocation');var _createLocation3=_interopRequireDefault(_createLocation2);var _runTransitionHook=require('./runTransitionHook');var _runTransitionHook2=_interopRequireDefault(_runTransitionHook);var _deprecate=require('./deprecate');var _deprecate2=_interopRequireDefault(_deprecate);function createRandomKey(length){return Math.random().toString(36).substr(2,length);}
function locationsAreEqual(a,b){return a.pathname===b.pathname&&a.search===b.search&&a.key===b.key&&_deepEqual2['default'](a.state,b.state);}
var DefaultKeyLength=6;function createHistory(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var getCurrentLocation=options.getCurrentLocation;var finishTransition=options.finishTransition;var saveState=options.saveState;var go=options.go;var keyLength=options.keyLength;var getUserConfirmation=options.getUserConfirmation;if(typeof keyLength!=='number')keyLength=DefaultKeyLength;var transitionHooks=[];function listenBefore(hook){transitionHooks.push(hook);return function(){transitionHooks=transitionHooks.filter(function(item){return item!==hook;});};}
var allKeys=[];var changeListeners=[];var location=undefined;function getCurrent(){if(pendingLocation&&pendingLocation.action===_Actions.POP){return allKeys.indexOf(pendingLocation.key);}else if(location){return allKeys.indexOf(location.key);}else{return-1;}}
function updateLocation(newLocation){var current=getCurrent();location=newLocation;if(location.action===_Actions.PUSH){allKeys=[].concat(allKeys.slice(0,current+1),[location.key]);}else if(location.action===_Actions.REPLACE){allKeys[current]=location.key;}
changeListeners.forEach(function(listener){listener(location);});}
function listen(listener){changeListeners.push(listener);if(location){listener(location);}else{var _location=getCurrentLocation();allKeys=[_location.key];updateLocation(_location);}
return function(){changeListeners=changeListeners.filter(function(item){return item!==listener;});};}
function confirmTransitionTo(location,callback){_AsyncUtils.loopAsync(transitionHooks.length,function(index,next,done){_runTransitionHook2['default'](transitionHooks[index],location,function(result){if(result!=null){done(result);}else{next();}});},function(message){if(getUserConfirmation&&typeof message==='string'){getUserConfirmation(message,function(ok){callback(ok!==false);});}else{callback(message!==false);}});}
var pendingLocation=undefined;function transitionTo(nextLocation){if(location&&locationsAreEqual(location,nextLocation))return;pendingLocation=nextLocation;confirmTransitionTo(nextLocation,function(ok){if(pendingLocation!==nextLocation)return;if(ok){if(nextLocation.action===_Actions.PUSH){var _getCurrentLocation=getCurrentLocation();var pathname=_getCurrentLocation.pathname;var search=_getCurrentLocation.search;var currentPath=pathname+search;var path=nextLocation.pathname+nextLocation.search;if(currentPath===path)nextLocation.action=_Actions.REPLACE;}
if(finishTransition(nextLocation)!==false)updateLocation(nextLocation);}else if(location&&nextLocation.action===_Actions.POP){var prevIndex=allKeys.indexOf(location.key);var nextIndex=allKeys.indexOf(nextLocation.key);if(prevIndex!==-1&&nextIndex!==-1)go(prevIndex-nextIndex);}});}
function pushState(state,path){transitionTo(createLocation(path,state,_Actions.PUSH,createKey()));}
function push(path){pushState(null,path);}
function replaceState(state,path){transitionTo(createLocation(path,state,_Actions.REPLACE,createKey()));}
function replace(path){replaceState(null,path);}
function goBack(){go(-1);}
function goForward(){go(1);}
function createKey(){return createRandomKey(keyLength);}
function createPath(path){if(path==null||typeof path==='string')return path;var pathname=path.pathname;var search=path.search;var hash=path.hash;var result=pathname;if(search)result+=search;if(hash)result+=hash;return result;}
function createHref(path){return createPath(path);}
function createLocation(path,state,action){var key=arguments.length<=3||arguments[3]===undefined?createKey():arguments[3];return _createLocation3['default'](path,state,action,key);}
function setState(state){if(location){updateLocationState(location,state);updateLocation(location);}else{updateLocationState(getCurrentLocation(),state);}}
function updateLocationState(location,state){location.state=_extends({},location.state,state);saveState(location.key,location.state);}
function registerTransitionHook(hook){if(transitionHooks.indexOf(hook)===-1)transitionHooks.push(hook);}
function unregisterTransitionHook(hook){transitionHooks=transitionHooks.filter(function(item){return item!==hook;});}
return{listenBefore:listenBefore,listen:listen,transitionTo:transitionTo,pushState:pushState,replaceState:replaceState,push:push,replace:replace,go:go,goBack:goBack,goForward:goForward,createKey:createKey,createPath:createPath,createHref:createHref,createLocation:createLocation,setState:_deprecate2['default'](setState,'setState is deprecated; use location.key to save state instead'),registerTransitionHook:_deprecate2['default'](registerTransitionHook,'registerTransitionHook is deprecated; use listenBefore instead'),unregisterTransitionHook:_deprecate2['default'](unregisterTransitionHook,'unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead')};}
exports['default']=createHistory;module.exports=exports['default'];},{"./Actions":28,"./AsyncUtils":29,"./createLocation":37,"./deprecate":39,"./runTransitionHook":45,"deep-equal":49}],37:[function(require,module,exports){'use strict';exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _Actions=require('./Actions');var _parsePath=require('./parsePath');var _parsePath2=_interopRequireDefault(_parsePath);function createLocation(){var path=arguments.length<=0||arguments[0]===undefined?'/':arguments[0];var state=arguments.length<=1||arguments[1]===undefined?null:arguments[1];var action=arguments.length<=2||arguments[2]===undefined?_Actions.POP:arguments[2];var key=arguments.length<=3||arguments[3]===undefined?null:arguments[3];if(typeof path==='string')path=_parsePath2['default'](path);var pathname=path.pathname||'/';var search=path.search||'';var hash=path.hash||'';return{pathname:pathname,search:search,hash:hash,state:state,action:action,key:key};}
exports['default']=createLocation;module.exports=exports['default'];},{"./Actions":28,"./parsePath":44}],38:[function(require,module,exports){(function(process){'use strict';exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _invariant=require('invariant');var _invariant2=_interopRequireDefault(_invariant);var _Actions=require('./Actions');var _createHistory=require('./createHistory');var _createHistory2=_interopRequireDefault(_createHistory);function createStateStorage(entries){return entries.filter(function(entry){return entry.state;}).reduce(function(memo,entry){memo[entry.key]=entry.state;return memo;},{});}
function createMemoryHistory(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];if(Array.isArray(options)){options={entries:options};}else if(typeof options==='string'){options={entries:[options]};}
var history=_createHistory2['default'](_extends({},options,{getCurrentLocation:getCurrentLocation,finishTransition:finishTransition,saveState:saveState,go:go}));var _options=options;var entries=_options.entries;var current=_options.current;if(typeof entries==='string'){entries=[entries];}else if(!Array.isArray(entries)){entries=['/'];}
entries=entries.map(function(entry){var key=history.createKey();if(typeof entry==='string')return{pathname:entry,key:key};if(typeof entry==='object'&&entry)return _extends({},entry,{key:key});!false?process.env.NODE_ENV!=='production'?_invariant2['default'](false,'Unable to create history entry from %s',entry):_invariant2['default'](false):undefined;});if(current==null){current=entries.length-1;}else{!(current>=0&&current<entries.length)?process.env.NODE_ENV!=='production'?_invariant2['default'](false,'Current index must be >= 0 and < %s, was %s',entries.length,current):_invariant2['default'](false):undefined;}
var storage=createStateStorage(entries);function saveState(key,state){storage[key]=state;}
function readState(key){return storage[key];}
function getCurrentLocation(){var entry=entries[current];var key=entry.key;var basename=entry.basename;var pathname=entry.pathname;var search=entry.search;var path=(basename||'')+pathname+(search||'');var state=undefined;if(key){state=readState(key);}else{state=null;key=history.createKey();entry.key=key;}
return history.createLocation(path,state,undefined,key);}
function canGo(n){var index=current+n;return index>=0&&index<entries.length;}
function go(n){if(n){!canGo(n)?process.env.NODE_ENV!=='production'?_invariant2['default'](false,'Cannot go(%s) there is not enough history',n):_invariant2['default'](false):undefined;current+=n;var currentLocation=getCurrentLocation();history.transitionTo(_extends({},currentLocation,{action:_Actions.POP}));}}
function finishTransition(location){switch(location.action){case _Actions.PUSH:current+=1;if(current<entries.length)entries.splice(current);entries.push(location);saveState(location.key,location.state);break;case _Actions.REPLACE:entries[current]=location;saveState(location.key,location.state);break;}}
return history;}
exports['default']=createMemoryHistory;module.exports=exports['default'];}).call(this,require('_process'))},{"./Actions":28,"./createHistory":36,"_process":8,"invariant":52}],39:[function(require,module,exports){(function(process){'use strict';exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _warning=require('warning');var _warning2=_interopRequireDefault(_warning);function deprecate(fn,message){return function(){process.env.NODE_ENV!=='production'?_warning2['default'](false,'[history] '+message):undefined;return fn.apply(this,arguments);};}
exports['default']=deprecate;module.exports=exports['default'];}).call(this,require('_process'))},{"_process":8,"warning":57}],40:[function(require,module,exports){'use strict';exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _deprecate=require('./deprecate');var _deprecate2=_interopRequireDefault(_deprecate);var _useBeforeUnload=require('./useBeforeUnload');var _useBeforeUnload2=_interopRequireDefault(_useBeforeUnload);exports['default']=_deprecate2['default'](_useBeforeUnload2['default'],'enableBeforeUnload is deprecated, use useBeforeUnload instead');module.exports=exports['default'];},{"./deprecate":39,"./useBeforeUnload":47}],41:[function(require,module,exports){'use strict';exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _deprecate=require('./deprecate');var _deprecate2=_interopRequireDefault(_deprecate);var _useQueries=require('./useQueries');var _useQueries2=_interopRequireDefault(_useQueries);exports['default']=_deprecate2['default'](_useQueries2['default'],'enableQueries is deprecated, use useQueries instead');module.exports=exports['default'];},{"./deprecate":39,"./useQueries":48}],42:[function(require,module,exports){"use strict";exports.__esModule=true;function extractPath(string){var match=string.match(/^https?:\/\/[^\/]*/);if(match==null)return string;return string.substring(match[0].length);}
exports["default"]=extractPath;module.exports=exports["default"];},{}],43:[function(require,module,exports){'use strict';exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _createBrowserHistory=require('./createBrowserHistory');var _createBrowserHistory2=_interopRequireDefault(_createBrowserHistory);exports.createHistory=_createBrowserHistory2['default'];var _createHashHistory2=require('./createHashHistory');var _createHashHistory3=_interopRequireDefault(_createHashHistory2);exports.createHashHistory=_createHashHistory3['default'];var _createMemoryHistory2=require('./createMemoryHistory');var _createMemoryHistory3=_interopRequireDefault(_createMemoryHistory2);exports.createMemoryHistory=_createMemoryHistory3['default'];var _createLocation2=require('./createLocation');var _createLocation3=_interopRequireDefault(_createLocation2);exports.createLocation=_createLocation3['default'];var _useBasename2=require('./useBasename');var _useBasename3=_interopRequireDefault(_useBasename2);exports.useBasename=_useBasename3['default'];var _useBeforeUnload2=require('./useBeforeUnload');var _useBeforeUnload3=_interopRequireDefault(_useBeforeUnload2);exports.useBeforeUnload=_useBeforeUnload3['default'];var _useQueries2=require('./useQueries');var _useQueries3=_interopRequireDefault(_useQueries2);exports.useQueries=_useQueries3['default'];var _Actions2=require('./Actions');var _Actions3=_interopRequireDefault(_Actions2);exports.Actions=_Actions3['default'];var _enableBeforeUnload2=require('./enableBeforeUnload');var _enableBeforeUnload3=_interopRequireDefault(_enableBeforeUnload2);exports.enableBeforeUnload=_enableBeforeUnload3['default'];var _enableQueries2=require('./enableQueries');var _enableQueries3=_interopRequireDefault(_enableQueries2);exports.enableQueries=_enableQueries3['default'];},{"./Actions":28,"./createBrowserHistory":33,"./createHashHistory":35,"./createLocation":37,"./createMemoryHistory":38,"./enableBeforeUnload":40,"./enableQueries":41,"./useBasename":46,"./useBeforeUnload":47,"./useQueries":48}],44:[function(require,module,exports){(function(process){'use strict';exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _warning=require('warning');var _warning2=_interopRequireDefault(_warning);var _extractPath=require('./extractPath');var _extractPath2=_interopRequireDefault(_extractPath);function parsePath(path){var pathname=_extractPath2['default'](path);var search='';var hash='';process.env.NODE_ENV!=='production'?_warning2['default'](path===pathname,'A path must be pathname + search + hash only, not a fully qualified URL like "%s"',path):undefined;var hashIndex=pathname.indexOf('#');if(hashIndex!==-1){hash=pathname.substring(hashIndex);pathname=pathname.substring(0,hashIndex);}
var searchIndex=pathname.indexOf('?');if(searchIndex!==-1){search=pathname.substring(searchIndex);pathname=pathname.substring(0,searchIndex);}
if(pathname==='')pathname='/';return{pathname:pathname,search:search,hash:hash};}
exports['default']=parsePath;module.exports=exports['default'];}).call(this,require('_process'))},{"./extractPath":42,"_process":8,"warning":57}],45:[function(require,module,exports){(function(process){'use strict';exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _warning=require('warning');var _warning2=_interopRequireDefault(_warning);function runTransitionHook(hook,location,callback){var result=hook(location,callback);if(hook.length<2){callback(result);}else{process.env.NODE_ENV!=='production'?_warning2['default'](result===undefined,'You should not "return" in a transition hook with a callback argument; call the callback instead'):undefined;}}
exports['default']=runTransitionHook;module.exports=exports['default'];}).call(this,require('_process'))},{"_process":8,"warning":57}],46:[function(require,module,exports){'use strict';exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i];}return target;}
var _ExecutionEnvironment=require('./ExecutionEnvironment');var _runTransitionHook=require('./runTransitionHook');var _runTransitionHook2=_interopRequireDefault(_runTransitionHook);var _extractPath=require('./extractPath');var _extractPath2=_interopRequireDefault(_extractPath);var _parsePath=require('./parsePath');var _parsePath2=_interopRequireDefault(_parsePath);function useBasename(createHistory){return function(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var basename=options.basename;var historyOptions=_objectWithoutProperties(options,['basename']);var history=createHistory(historyOptions);if(basename==null&&_ExecutionEnvironment.canUseDOM){var base=document.getElementsByTagName('base')[0];if(base)basename=_extractPath2['default'](base.href);}
function addBasename(location){if(basename&&location.basename==null){if(location.pathname.indexOf(basename)===0){location.pathname=location.pathname.substring(basename.length);location.basename=basename;if(location.pathname==='')location.pathname='/';}else{location.basename='';}}
return location;}
function prependBasename(path){if(!basename)return path;if(typeof path==='string')path=_parsePath2['default'](path);var pname=path.pathname;var normalizedBasename=basename.slice(-1)==='/'?basename:basename+'/';var normalizedPathname=pname.charAt(0)==='/'?pname.slice(1):pname;var pathname=normalizedBasename+normalizedPathname;return _extends({},path,{pathname:pathname});}
function listenBefore(hook){return history.listenBefore(function(location,callback){_runTransitionHook2['default'](hook,addBasename(location),callback);});}
function listen(listener){return history.listen(function(location){listener(addBasename(location));});}
function pushState(state,path){history.pushState(state,prependBasename(path));}
function push(path){pushState(null,path);}
function replaceState(state,path){history.replaceState(state,prependBasename(path));}
function replace(path){replaceState(null,path);}
function createPath(path){return history.createPath(prependBasename(path));}
function createHref(path){return history.createHref(prependBasename(path));}
function createLocation(){return addBasename(history.createLocation.apply(history,arguments));}
return _extends({},history,{listenBefore:listenBefore,listen:listen,pushState:pushState,push:push,replaceState:replaceState,replace:replace,createPath:createPath,createHref:createHref,createLocation:createLocation});};}
exports['default']=useBasename;module.exports=exports['default'];},{"./ExecutionEnvironment":32,"./extractPath":42,"./parsePath":44,"./runTransitionHook":45}],47:[function(require,module,exports){(function(process){'use strict';exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _warning=require('warning');var _warning2=_interopRequireDefault(_warning);var _ExecutionEnvironment=require('./ExecutionEnvironment');var _DOMUtils=require('./DOMUtils');var _deprecate=require('./deprecate');var _deprecate2=_interopRequireDefault(_deprecate);function startBeforeUnloadListener(getBeforeUnloadPromptMessage){function listener(event){var message=getBeforeUnloadPromptMessage();if(typeof message==='string'){(event||window.event).returnValue=message;return message;}}
_DOMUtils.addEventListener(window,'beforeunload',listener);return function(){_DOMUtils.removeEventListener(window,'beforeunload',listener);};}
function useBeforeUnload(createHistory){return function(options){var history=createHistory(options);var stopBeforeUnloadListener=undefined;var beforeUnloadHooks=[];function getBeforeUnloadPromptMessage(){var message=undefined;for(var i=0,len=beforeUnloadHooks.length;message==null&&i<len;++i){message=beforeUnloadHooks[i].call();}return message;}
function listenBeforeUnload(hook){beforeUnloadHooks.push(hook);if(beforeUnloadHooks.length===1){if(_ExecutionEnvironment.canUseDOM){stopBeforeUnloadListener=startBeforeUnloadListener(getBeforeUnloadPromptMessage);}else{process.env.NODE_ENV!=='production'?_warning2['default'](false,'listenBeforeUnload only works in DOM environments'):undefined;}}
return function(){beforeUnloadHooks=beforeUnloadHooks.filter(function(item){return item!==hook;});if(beforeUnloadHooks.length===0&&stopBeforeUnloadListener){stopBeforeUnloadListener();stopBeforeUnloadListener=null;}};}
function registerBeforeUnloadHook(hook){if(_ExecutionEnvironment.canUseDOM&&beforeUnloadHooks.indexOf(hook)===-1){beforeUnloadHooks.push(hook);if(beforeUnloadHooks.length===1)stopBeforeUnloadListener=startBeforeUnloadListener(getBeforeUnloadPromptMessage);}}
function unregisterBeforeUnloadHook(hook){if(beforeUnloadHooks.length>0){beforeUnloadHooks=beforeUnloadHooks.filter(function(item){return item!==hook;});if(beforeUnloadHooks.length===0)stopBeforeUnloadListener();}}
return _extends({},history,{listenBeforeUnload:listenBeforeUnload,registerBeforeUnloadHook:_deprecate2['default'](registerBeforeUnloadHook,'registerBeforeUnloadHook is deprecated; use listenBeforeUnload instead'),unregisterBeforeUnloadHook:_deprecate2['default'](unregisterBeforeUnloadHook,'unregisterBeforeUnloadHook is deprecated; use the callback returned from listenBeforeUnload instead')});};}
exports['default']=useBeforeUnload;module.exports=exports['default'];}).call(this,require('_process'))},{"./DOMUtils":31,"./ExecutionEnvironment":32,"./deprecate":39,"_process":8,"warning":57}],48:[function(require,module,exports){'use strict';exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i];}return target;}
var _qs=require('qs');var _qs2=_interopRequireDefault(_qs);var _runTransitionHook=require('./runTransitionHook');var _runTransitionHook2=_interopRequireDefault(_runTransitionHook);var _parsePath=require('./parsePath');var _parsePath2=_interopRequireDefault(_parsePath);function defaultStringifyQuery(query){return _qs2['default'].stringify(query,{arrayFormat:'brackets'}).replace(/%20/g,'+');}
function defaultParseQueryString(queryString){return _qs2['default'].parse(queryString.replace(/\+/g,'%20'));}
function useQueries(createHistory){return function(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var stringifyQuery=options.stringifyQuery;var parseQueryString=options.parseQueryString;var historyOptions=_objectWithoutProperties(options,['stringifyQuery','parseQueryString']);var history=createHistory(historyOptions);if(typeof stringifyQuery!=='function')stringifyQuery=defaultStringifyQuery;if(typeof parseQueryString!=='function')parseQueryString=defaultParseQueryString;function addQuery(location){if(location.query==null)location.query=parseQueryString(location.search.substring(1));return location;}
function appendQuery(path,query){var queryString=undefined;if(!query||(queryString=stringifyQuery(query))==='')return path;if(typeof path==='string')path=_parsePath2['default'](path);var search=path.search+(path.search?'&':'?')+queryString;return _extends({},path,{search:search});}
function listenBefore(hook){return history.listenBefore(function(location,callback){_runTransitionHook2['default'](hook,addQuery(location),callback);});}
function listen(listener){return history.listen(function(location){listener(addQuery(location));});}
function pushState(state,path,query){return history.pushState(state,appendQuery(path,query));}
function replaceState(state,path,query){return history.replaceState(state,appendQuery(path,query));}
function createPath(path,query){return history.createPath(appendQuery(path,query));}
function createHref(path,query){return history.createHref(appendQuery(path,query));}
function createLocation(){return addQuery(history.createLocation.apply(history,arguments));}
return _extends({},history,{listenBefore:listenBefore,listen:listen,pushState:pushState,replaceState:replaceState,createPath:createPath,createHref:createHref,createLocation:createLocation});};}
exports['default']=useQueries;module.exports=exports['default'];},{"./parsePath":44,"./runTransitionHook":45,"qs":53}],49:[function(require,module,exports){var pSlice=Array.prototype.slice;var objectKeys=require('./lib/keys.js');var isArguments=require('./lib/is_arguments.js');var deepEqual=module.exports=function(actual,expected,opts){if(!opts)opts={};if(actual===expected){return true;}else if(actual instanceof Date&&expected instanceof Date){return actual.getTime()===expected.getTime();}else if(!actual||!expected||typeof actual!='object'&&typeof expected!='object'){return opts.strict?actual===expected:actual==expected;}else{return objEquiv(actual,expected,opts);}}
function isUndefinedOrNull(value){return value===null||value===undefined;}
function isBuffer(x){if(!x||typeof x!=='object'||typeof x.length!=='number')return false;if(typeof x.copy!=='function'||typeof x.slice!=='function'){return false;}
if(x.length>0&&typeof x[0]!=='number')return false;return true;}
function objEquiv(a,b,opts){var i,key;if(isUndefinedOrNull(a)||isUndefinedOrNull(b))
return false;if(a.prototype!==b.prototype)return false;if(isArguments(a)){if(!isArguments(b)){return false;}
a=pSlice.call(a);b=pSlice.call(b);return deepEqual(a,b,opts);}
if(isBuffer(a)){if(!isBuffer(b)){return false;}
if(a.length!==b.length)return false;for(i=0;i<a.length;i++){if(a[i]!==b[i])return false;}
return true;}
try{var ka=objectKeys(a),kb=objectKeys(b);}catch(e){return false;}
if(ka.length!=kb.length)
return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!=kb[i])
return false;}
for(i=ka.length-1;i>=0;i--){key=ka[i];if(!deepEqual(a[key],b[key],opts))return false;}
return typeof a===typeof b;}},{"./lib/is_arguments.js":50,"./lib/keys.js":51}],50:[function(require,module,exports){var supportsArgumentsClass=(function(){return Object.prototype.toString.call(arguments)})()=='[object Arguments]';exports=module.exports=supportsArgumentsClass?supported:unsupported;exports.supported=supported;function supported(object){return Object.prototype.toString.call(object)=='[object Arguments]';};exports.unsupported=unsupported;function unsupported(object){return object&&typeof object=='object'&&typeof object.length=='number'&&Object.prototype.hasOwnProperty.call(object,'callee')&&!Object.prototype.propertyIsEnumerable.call(object,'callee')||false;};},{}],51:[function(require,module,exports){exports=module.exports=typeof Object.keys==='function'?Object.keys:shim;exports.shim=shim;function shim(obj){var keys=[];for(var key in obj)keys.push(key);return keys;}},{}],52:[function(require,module,exports){'use strict';var invariant=function(condition,format,a,b,c,d,e,f){if("production"!=='production'){if(format===undefined){throw new Error('invariant requires an error message argument');}}
if(!condition){var error;if(format===undefined){error=new Error('Minified exception occurred; use the non-minified dev environment '+'for the full error message and additional helpful warnings.');}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error(format.replace(/%s/g,function(){return args[argIndex++];}));error.name='Invariant Violation';}
error.framesToPop=1;throw error;}};module.exports=invariant;},{}],53:[function(require,module,exports){var Stringify=require('./stringify');var Parse=require('./parse');var internals={};module.exports={stringify:Stringify,parse:Parse};},{"./parse":54,"./stringify":55}],54:[function(require,module,exports){var Utils=require('./utils');var internals={delimiter:'&',depth:5,arrayLimit:20,parameterLimit:1000,strictNullHandling:false,plainObjects:false,allowPrototypes:false};internals.parseValues=function(str,options){var obj={};var parts=str.split(options.delimiter,options.parameterLimit===Infinity?undefined:options.parameterLimit);for(var i=0,il=parts.length;i<il;++i){var part=parts[i];var pos=part.indexOf(']=')===-1?part.indexOf('='):part.indexOf(']=')+1;if(pos===-1){obj[Utils.decode(part)]='';if(options.strictNullHandling){obj[Utils.decode(part)]=null;}}
else{var key=Utils.decode(part.slice(0,pos));var val=Utils.decode(part.slice(pos+1));if(!Object.prototype.hasOwnProperty.call(obj,key)){obj[key]=val;}
else{obj[key]=[].concat(obj[key]).concat(val);}}}
return obj;};internals.parseObject=function(chain,val,options){if(!chain.length){return val;}
var root=chain.shift();var obj;if(root==='[]'){obj=[];obj=obj.concat(internals.parseObject(chain,val,options));}
else{obj=options.plainObjects?Object.create(null):{};var cleanRoot=root[0]==='['&&root[root.length-1]===']'?root.slice(1,root.length-1):root;var index=parseInt(cleanRoot,10);var indexString=''+index;if(!isNaN(index)&&root!==cleanRoot&&indexString===cleanRoot&&index>=0&&(options.parseArrays&&index<=options.arrayLimit)){obj=[];obj[index]=internals.parseObject(chain,val,options);}
else{obj[cleanRoot]=internals.parseObject(chain,val,options);}}
return obj;};internals.parseKeys=function(key,val,options){if(!key){return;}
if(options.allowDots){key=key.replace(/\.([^\.\[]+)/g,'[$1]');}
var parent=/^([^\[\]]*)/;var child=/(\[[^\[\]]*\])/g;var segment=parent.exec(key);var keys=[];if(segment[1]){if(!options.plainObjects&&Object.prototype.hasOwnProperty(segment[1])){if(!options.allowPrototypes){return;}}
keys.push(segment[1]);}
var i=0;while((segment=child.exec(key))!==null&&i<options.depth){++i;if(!options.plainObjects&&Object.prototype.hasOwnProperty(segment[1].replace(/\[|\]/g,''))){if(!options.allowPrototypes){continue;}}
keys.push(segment[1]);}
if(segment){keys.push('['+key.slice(segment.index)+']');}
return internals.parseObject(keys,val,options);};module.exports=function(str,options){options=options||{};options.delimiter=typeof options.delimiter==='string'||Utils.isRegExp(options.delimiter)?options.delimiter:internals.delimiter;options.depth=typeof options.depth==='number'?options.depth:internals.depth;options.arrayLimit=typeof options.arrayLimit==='number'?options.arrayLimit:internals.arrayLimit;options.parseArrays=options.parseArrays!==false;options.allowDots=options.allowDots!==false;options.plainObjects=typeof options.plainObjects==='boolean'?options.plainObjects:internals.plainObjects;options.allowPrototypes=typeof options.allowPrototypes==='boolean'?options.allowPrototypes:internals.allowPrototypes;options.parameterLimit=typeof options.parameterLimit==='number'?options.parameterLimit:internals.parameterLimit;options.strictNullHandling=typeof options.strictNullHandling==='boolean'?options.strictNullHandling:internals.strictNullHandling;if(str===''||str===null||typeof str==='undefined'){return options.plainObjects?Object.create(null):{};}
var tempObj=typeof str==='string'?internals.parseValues(str,options):str;var obj=options.plainObjects?Object.create(null):{};var keys=Object.keys(tempObj);for(var i=0,il=keys.length;i<il;++i){var key=keys[i];var newObj=internals.parseKeys(key,tempObj[key],options);obj=Utils.merge(obj,newObj,options);}
return Utils.compact(obj);};},{"./utils":56}],55:[function(require,module,exports){var Utils=require('./utils');var internals={delimiter:'&',arrayPrefixGenerators:{brackets:function(prefix,key){return prefix+'[]';},indices:function(prefix,key){return prefix+'['+key+']';},repeat:function(prefix,key){return prefix;}},strictNullHandling:false};internals.stringify=function(obj,prefix,generateArrayPrefix,strictNullHandling,filter){if(typeof filter==='function'){obj=filter(prefix,obj);}
else if(Utils.isBuffer(obj)){obj=obj.toString();}
else if(obj instanceof Date){obj=obj.toISOString();}
else if(obj===null){if(strictNullHandling){return Utils.encode(prefix);}
obj='';}
if(typeof obj==='string'||typeof obj==='number'||typeof obj==='boolean'){return[Utils.encode(prefix)+'='+Utils.encode(obj)];}
var values=[];if(typeof obj==='undefined'){return values;}
var objKeys=Array.isArray(filter)?filter:Object.keys(obj);for(var i=0,il=objKeys.length;i<il;++i){var key=objKeys[i];if(Array.isArray(obj)){values=values.concat(internals.stringify(obj[key],generateArrayPrefix(prefix,key),generateArrayPrefix,strictNullHandling,filter));}
else{values=values.concat(internals.stringify(obj[key],prefix+'['+key+']',generateArrayPrefix,strictNullHandling,filter));}}
return values;};module.exports=function(obj,options){options=options||{};var delimiter=typeof options.delimiter==='undefined'?internals.delimiter:options.delimiter;var strictNullHandling=typeof options.strictNullHandling==='boolean'?options.strictNullHandling:internals.strictNullHandling;var objKeys;var filter;if(typeof options.filter==='function'){filter=options.filter;obj=filter('',obj);}
else if(Array.isArray(options.filter)){objKeys=filter=options.filter;}
var keys=[];if(typeof obj!=='object'||obj===null){return'';}
var arrayFormat;if(options.arrayFormat in internals.arrayPrefixGenerators){arrayFormat=options.arrayFormat;}
else if('indices'in options){arrayFormat=options.indices?'indices':'repeat';}
else{arrayFormat='indices';}
var generateArrayPrefix=internals.arrayPrefixGenerators[arrayFormat];if(!objKeys){objKeys=Object.keys(obj);}
for(var i=0,il=objKeys.length;i<il;++i){var key=objKeys[i];keys=keys.concat(internals.stringify(obj[key],key,generateArrayPrefix,strictNullHandling,filter));}
return keys.join(delimiter);};},{"./utils":56}],56:[function(require,module,exports){var internals={};internals.hexTable=new Array(256);for(var h=0;h<256;++h){internals.hexTable[h]='%'+((h<16?'0':'')+h.toString(16)).toUpperCase();}
exports.arrayToObject=function(source,options){var obj=options.plainObjects?Object.create(null):{};for(var i=0,il=source.length;i<il;++i){if(typeof source[i]!=='undefined'){obj[i]=source[i];}}
return obj;};exports.merge=function(target,source,options){if(!source){return target;}
if(typeof source!=='object'){if(Array.isArray(target)){target.push(source);}
else if(typeof target==='object'){target[source]=true;}
else{target=[target,source];}
return target;}
if(typeof target!=='object'){target=[target].concat(source);return target;}
if(Array.isArray(target)&&!Array.isArray(source)){target=exports.arrayToObject(target,options);}
var keys=Object.keys(source);for(var k=0,kl=keys.length;k<kl;++k){var key=keys[k];var value=source[key];if(!Object.prototype.hasOwnProperty.call(target,key)){target[key]=value;}
else{target[key]=exports.merge(target[key],value,options);}}
return target;};exports.decode=function(str){try{return decodeURIComponent(str.replace(/\+/g,' '));}catch(e){return str;}};exports.encode=function(str){if(str.length===0){return str;}
if(typeof str!=='string'){str=''+str;}
var out='';for(var i=0,il=str.length;i<il;++i){var c=str.charCodeAt(i);if(c===0x2D||c===0x2E||c===0x5F||c===0x7E||(c>=0x30&&c<=0x39)||(c>=0x41&&c<=0x5A)||(c>=0x61&&c<=0x7A)){out+=str[i];continue;}
if(c<0x80){out+=internals.hexTable[c];continue;}
if(c<0x800){out+=internals.hexTable[0xC0|(c>>6)]+internals.hexTable[0x80|(c&0x3F)];continue;}
if(c<0xD800||c>=0xE000){out+=internals.hexTable[0xE0|(c>>12)]+internals.hexTable[0x80|((c>>6)&0x3F)]+internals.hexTable[0x80|(c&0x3F)];continue;}
++i;c=0x10000+(((c&0x3FF)<<10)|(str.charCodeAt(i)&0x3FF));out+=internals.hexTable[0xF0|(c>>18)]+internals.hexTable[0x80|((c>>12)&0x3F)]+internals.hexTable[0x80|((c>>6)&0x3F)]+internals.hexTable[0x80|(c&0x3F)];}
return out;};exports.compact=function(obj,refs){if(typeof obj!=='object'||obj===null){return obj;}
refs=refs||[];var lookup=refs.indexOf(obj);if(lookup!==-1){return refs[lookup];}
refs.push(obj);if(Array.isArray(obj)){var compacted=[];for(var i=0,il=obj.length;i<il;++i){if(typeof obj[i]!=='undefined'){compacted.push(obj[i]);}}
return compacted;}
var keys=Object.keys(obj);for(i=0,il=keys.length;i<il;++i){var key=keys[i];obj[key]=exports.compact(obj[key],refs);}
return obj;};exports.isRegExp=function(obj){return Object.prototype.toString.call(obj)==='[object RegExp]';};exports.isBuffer=function(obj){if(obj===null||typeof obj==='undefined'){return false;}
return!!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj));};},{}],57:[function(require,module,exports){'use strict';var warning=function(){};if("production"!=='production'){warning=function(condition,format,args){var len=arguments.length;args=new Array(len>2?len-2:0);for(var key=2;key<len;key++){args[key-2]=arguments[key];}
if(format===undefined){throw new Error('`warning(condition, format, ...args)` requires a warning '+'message argument');}
if(format.length<10||(/^[s\W]*$/).test(format)){throw new Error('The warning format should be able to uniquely identify this '+'warning. Please, use a more descriptive format than: '+format);}
if(!condition){var argIndex=0;var message='Warning: '+
format.replace(/%s/g,function(){return args[argIndex++];});if(typeof console!=='undefined'){console.error(message);}
try{throw new Error(message);}catch(x){}}};}
module.exports=warning;},{}],58:[function(require,module,exports){(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):global.Immutable=factory();}(this,function(){'use strict';var SLICE$0=Array.prototype.slice;function createClass(ctor,superClass){if(superClass){ctor.prototype=Object.create(superClass.prototype);}
ctor.prototype.constructor=ctor;}
function Iterable(value){return isIterable(value)?value:Seq(value);}
createClass(KeyedIterable,Iterable);function KeyedIterable(value){return isKeyed(value)?value:KeyedSeq(value);}
createClass(IndexedIterable,Iterable);function IndexedIterable(value){return isIndexed(value)?value:IndexedSeq(value);}
createClass(SetIterable,Iterable);function SetIterable(value){return isIterable(value)&&!isAssociative(value)?value:SetSeq(value);}
function isIterable(maybeIterable){return!!(maybeIterable&&maybeIterable[IS_ITERABLE_SENTINEL]);}
function isKeyed(maybeKeyed){return!!(maybeKeyed&&maybeKeyed[IS_KEYED_SENTINEL]);}
function isIndexed(maybeIndexed){return!!(maybeIndexed&&maybeIndexed[IS_INDEXED_SENTINEL]);}
function isAssociative(maybeAssociative){return isKeyed(maybeAssociative)||isIndexed(maybeAssociative);}
function isOrdered(maybeOrdered){return!!(maybeOrdered&&maybeOrdered[IS_ORDERED_SENTINEL]);}
Iterable.isIterable=isIterable;Iterable.isKeyed=isKeyed;Iterable.isIndexed=isIndexed;Iterable.isAssociative=isAssociative;Iterable.isOrdered=isOrdered;Iterable.Keyed=KeyedIterable;Iterable.Indexed=IndexedIterable;Iterable.Set=SetIterable;var IS_ITERABLE_SENTINEL='@@__IMMUTABLE_ITERABLE__@@';var IS_KEYED_SENTINEL='@@__IMMUTABLE_KEYED__@@';var IS_INDEXED_SENTINEL='@@__IMMUTABLE_INDEXED__@@';var IS_ORDERED_SENTINEL='@@__IMMUTABLE_ORDERED__@@';var DELETE='delete';var SHIFT=5;var SIZE=1<<SHIFT;var MASK=SIZE-1;var NOT_SET={};var CHANGE_LENGTH={value:false};var DID_ALTER={value:false};function MakeRef(ref){ref.value=false;return ref;}
function SetRef(ref){ref&&(ref.value=true);}
function OwnerID(){}
function arrCopy(arr,offset){offset=offset||0;var len=Math.max(0,arr.length-offset);var newArr=new Array(len);for(var ii=0;ii<len;ii++){newArr[ii]=arr[ii+offset];}
return newArr;}
function ensureSize(iter){if(iter.size===undefined){iter.size=iter.__iterate(returnTrue);}
return iter.size;}
function wrapIndex(iter,index){if(typeof index!=='number'){var uint32Index=index>>>0;if(''+uint32Index!==index||uint32Index===4294967295){return NaN;}
index=uint32Index;}
return index<0?ensureSize(iter)+index:index;}
function returnTrue(){return true;}
function wholeSlice(begin,end,size){return(begin===0||(size!==undefined&&begin<=-size))&&(end===undefined||(size!==undefined&&end>=size));}
function resolveBegin(begin,size){return resolveIndex(begin,size,0);}
function resolveEnd(end,size){return resolveIndex(end,size,size);}
function resolveIndex(index,size,defaultIndex){return index===undefined?defaultIndex:index<0?Math.max(0,size+index):size===undefined?index:Math.min(size,index);}
var ITERATE_KEYS=0;var ITERATE_VALUES=1;var ITERATE_ENTRIES=2;var REAL_ITERATOR_SYMBOL=typeof Symbol==='function'&&Symbol.iterator;var FAUX_ITERATOR_SYMBOL='@@iterator';var ITERATOR_SYMBOL=REAL_ITERATOR_SYMBOL||FAUX_ITERATOR_SYMBOL;function Iterator(next){this.next=next;}
Iterator.prototype.toString=function(){return'[Iterator]';};Iterator.KEYS=ITERATE_KEYS;Iterator.VALUES=ITERATE_VALUES;Iterator.ENTRIES=ITERATE_ENTRIES;Iterator.prototype.inspect=Iterator.prototype.toSource=function(){return this.toString();}
Iterator.prototype[ITERATOR_SYMBOL]=function(){return this;};function iteratorValue(type,k,v,iteratorResult){var value=type===0?k:type===1?v:[k,v];iteratorResult?(iteratorResult.value=value):(iteratorResult={value:value,done:false});return iteratorResult;}
function iteratorDone(){return{value:undefined,done:true};}
function hasIterator(maybeIterable){return!!getIteratorFn(maybeIterable);}
function isIterator(maybeIterator){return maybeIterator&&typeof maybeIterator.next==='function';}
function getIterator(iterable){var iteratorFn=getIteratorFn(iterable);return iteratorFn&&iteratorFn.call(iterable);}
function getIteratorFn(iterable){var iteratorFn=iterable&&((REAL_ITERATOR_SYMBOL&&iterable[REAL_ITERATOR_SYMBOL])||iterable[FAUX_ITERATOR_SYMBOL]);if(typeof iteratorFn==='function'){return iteratorFn;}}
function isArrayLike(value){return value&&typeof value.length==='number';}
createClass(Seq,Iterable);function Seq(value){return value===null||value===undefined?emptySequence():isIterable(value)?value.toSeq():seqFromValue(value);}
Seq.of=function(){return Seq(arguments);};Seq.prototype.toSeq=function(){return this;};Seq.prototype.toString=function(){return this.__toString('Seq {','}');};Seq.prototype.cacheResult=function(){if(!this._cache&&this.__iterateUncached){this._cache=this.entrySeq().toArray();this.size=this._cache.length;}
return this;};Seq.prototype.__iterate=function(fn,reverse){return seqIterate(this,fn,reverse,true);};Seq.prototype.__iterator=function(type,reverse){return seqIterator(this,type,reverse,true);};createClass(KeyedSeq,Seq);function KeyedSeq(value){return value===null||value===undefined?emptySequence().toKeyedSeq():isIterable(value)?(isKeyed(value)?value.toSeq():value.fromEntrySeq()):keyedSeqFromValue(value);}
KeyedSeq.prototype.toKeyedSeq=function(){return this;};createClass(IndexedSeq,Seq);function IndexedSeq(value){return value===null||value===undefined?emptySequence():!isIterable(value)?indexedSeqFromValue(value):isKeyed(value)?value.entrySeq():value.toIndexedSeq();}
IndexedSeq.of=function(){return IndexedSeq(arguments);};IndexedSeq.prototype.toIndexedSeq=function(){return this;};IndexedSeq.prototype.toString=function(){return this.__toString('Seq [',']');};IndexedSeq.prototype.__iterate=function(fn,reverse){return seqIterate(this,fn,reverse,false);};IndexedSeq.prototype.__iterator=function(type,reverse){return seqIterator(this,type,reverse,false);};createClass(SetSeq,Seq);function SetSeq(value){return(value===null||value===undefined?emptySequence():!isIterable(value)?indexedSeqFromValue(value):isKeyed(value)?value.entrySeq():value).toSetSeq();}
SetSeq.of=function(){return SetSeq(arguments);};SetSeq.prototype.toSetSeq=function(){return this;};Seq.isSeq=isSeq;Seq.Keyed=KeyedSeq;Seq.Set=SetSeq;Seq.Indexed=IndexedSeq;var IS_SEQ_SENTINEL='@@__IMMUTABLE_SEQ__@@';Seq.prototype[IS_SEQ_SENTINEL]=true;createClass(ArraySeq,IndexedSeq);function ArraySeq(array){this._array=array;this.size=array.length;}
ArraySeq.prototype.get=function(index,notSetValue){return this.has(index)?this._array[wrapIndex(this,index)]:notSetValue;};ArraySeq.prototype.__iterate=function(fn,reverse){var array=this._array;var maxIndex=array.length-1;for(var ii=0;ii<=maxIndex;ii++){if(fn(array[reverse?maxIndex-ii:ii],ii,this)===false){return ii+1;}}
return ii;};ArraySeq.prototype.__iterator=function(type,reverse){var array=this._array;var maxIndex=array.length-1;var ii=0;return new Iterator(function()
{return ii>maxIndex?iteratorDone():iteratorValue(type,ii,array[reverse?maxIndex-ii++:ii++])});};createClass(ObjectSeq,KeyedSeq);function ObjectSeq(object){var keys=Object.keys(object);this._object=object;this._keys=keys;this.size=keys.length;}
ObjectSeq.prototype.get=function(key,notSetValue){if(notSetValue!==undefined&&!this.has(key)){return notSetValue;}
return this._object[key];};ObjectSeq.prototype.has=function(key){return this._object.hasOwnProperty(key);};ObjectSeq.prototype.__iterate=function(fn,reverse){var object=this._object;var keys=this._keys;var maxIndex=keys.length-1;for(var ii=0;ii<=maxIndex;ii++){var key=keys[reverse?maxIndex-ii:ii];if(fn(object[key],key,this)===false){return ii+1;}}
return ii;};ObjectSeq.prototype.__iterator=function(type,reverse){var object=this._object;var keys=this._keys;var maxIndex=keys.length-1;var ii=0;return new Iterator(function(){var key=keys[reverse?maxIndex-ii:ii];return ii++>maxIndex?iteratorDone():iteratorValue(type,key,object[key]);});};ObjectSeq.prototype[IS_ORDERED_SENTINEL]=true;createClass(IterableSeq,IndexedSeq);function IterableSeq(iterable){this._iterable=iterable;this.size=iterable.length||iterable.size;}
IterableSeq.prototype.__iterateUncached=function(fn,reverse){if(reverse){return this.cacheResult().__iterate(fn,reverse);}
var iterable=this._iterable;var iterator=getIterator(iterable);var iterations=0;if(isIterator(iterator)){var step;while(!(step=iterator.next()).done){if(fn(step.value,iterations++,this)===false){break;}}}
return iterations;};IterableSeq.prototype.__iteratorUncached=function(type,reverse){if(reverse){return this.cacheResult().__iterator(type,reverse);}
var iterable=this._iterable;var iterator=getIterator(iterable);if(!isIterator(iterator)){return new Iterator(iteratorDone);}
var iterations=0;return new Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,iterations++,step.value);});};createClass(IteratorSeq,IndexedSeq);function IteratorSeq(iterator){this._iterator=iterator;this._iteratorCache=[];}
IteratorSeq.prototype.__iterateUncached=function(fn,reverse){if(reverse){return this.cacheResult().__iterate(fn,reverse);}
var iterator=this._iterator;var cache=this._iteratorCache;var iterations=0;while(iterations<cache.length){if(fn(cache[iterations],iterations++,this)===false){return iterations;}}
var step;while(!(step=iterator.next()).done){var val=step.value;cache[iterations]=val;if(fn(val,iterations++,this)===false){break;}}
return iterations;};IteratorSeq.prototype.__iteratorUncached=function(type,reverse){if(reverse){return this.cacheResult().__iterator(type,reverse);}
var iterator=this._iterator;var cache=this._iteratorCache;var iterations=0;return new Iterator(function(){if(iterations>=cache.length){var step=iterator.next();if(step.done){return step;}
cache[iterations]=step.value;}
return iteratorValue(type,iterations,cache[iterations++]);});};function isSeq(maybeSeq){return!!(maybeSeq&&maybeSeq[IS_SEQ_SENTINEL]);}
var EMPTY_SEQ;function emptySequence(){return EMPTY_SEQ||(EMPTY_SEQ=new ArraySeq([]));}
function keyedSeqFromValue(value){var seq=Array.isArray(value)?new ArraySeq(value).fromEntrySeq():isIterator(value)?new IteratorSeq(value).fromEntrySeq():hasIterator(value)?new IterableSeq(value).fromEntrySeq():typeof value==='object'?new ObjectSeq(value):undefined;if(!seq){throw new TypeError('Expected Array or iterable object of [k, v] entries, '+'or keyed object: '+value);}
return seq;}
function indexedSeqFromValue(value){var seq=maybeIndexedSeqFromValue(value);if(!seq){throw new TypeError('Expected Array or iterable object of values: '+value);}
return seq;}
function seqFromValue(value){var seq=maybeIndexedSeqFromValue(value)||(typeof value==='object'&&new ObjectSeq(value));if(!seq){throw new TypeError('Expected Array or iterable object of values, or keyed object: '+value);}
return seq;}
function maybeIndexedSeqFromValue(value){return(isArrayLike(value)?new ArraySeq(value):isIterator(value)?new IteratorSeq(value):hasIterator(value)?new IterableSeq(value):undefined);}
function seqIterate(seq,fn,reverse,useKeys){var cache=seq._cache;if(cache){var maxIndex=cache.length-1;for(var ii=0;ii<=maxIndex;ii++){var entry=cache[reverse?maxIndex-ii:ii];if(fn(entry[1],useKeys?entry[0]:ii,seq)===false){return ii+1;}}
return ii;}
return seq.__iterateUncached(fn,reverse);}
function seqIterator(seq,type,reverse,useKeys){var cache=seq._cache;if(cache){var maxIndex=cache.length-1;var ii=0;return new Iterator(function(){var entry=cache[reverse?maxIndex-ii:ii];return ii++>maxIndex?iteratorDone():iteratorValue(type,useKeys?entry[0]:ii-1,entry[1]);});}
return seq.__iteratorUncached(type,reverse);}
function fromJS(json,converter){return converter?fromJSWith(converter,json,'',{'':json}):fromJSDefault(json);}
function fromJSWith(converter,json,key,parentJSON){if(Array.isArray(json)){return converter.call(parentJSON,key,IndexedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json)}));}
if(isPlainObj(json)){return converter.call(parentJSON,key,KeyedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json)}));}
return json;}
function fromJSDefault(json){if(Array.isArray(json)){return IndexedSeq(json).map(fromJSDefault).toList();}
if(isPlainObj(json)){return KeyedSeq(json).map(fromJSDefault).toMap();}
return json;}
function isPlainObj(value){return value&&(value.constructor===Object||value.constructor===undefined);}
function is(valueA,valueB){if(valueA===valueB||(valueA!==valueA&&valueB!==valueB)){return true;}
if(!valueA||!valueB){return false;}
if(typeof valueA.valueOf==='function'&&typeof valueB.valueOf==='function'){valueA=valueA.valueOf();valueB=valueB.valueOf();if(valueA===valueB||(valueA!==valueA&&valueB!==valueB)){return true;}
if(!valueA||!valueB){return false;}}
if(typeof valueA.equals==='function'&&typeof valueB.equals==='function'&&valueA.equals(valueB)){return true;}
return false;}
function deepEqual(a,b){if(a===b){return true;}
if(!isIterable(b)||a.size!==undefined&&b.size!==undefined&&a.size!==b.size||a.__hash!==undefined&&b.__hash!==undefined&&a.__hash!==b.__hash||isKeyed(a)!==isKeyed(b)||isIndexed(a)!==isIndexed(b)||isOrdered(a)!==isOrdered(b)){return false;}
if(a.size===0&&b.size===0){return true;}
var notAssociative=!isAssociative(a);if(isOrdered(a)){var entries=a.entries();return b.every(function(v,k){var entry=entries.next().value;return entry&&is(entry[1],v)&&(notAssociative||is(entry[0],k));})&&entries.next().done;}
var flipped=false;if(a.size===undefined){if(b.size===undefined){if(typeof a.cacheResult==='function'){a.cacheResult();}}else{flipped=true;var _=a;a=b;b=_;}}
var allEqual=true;var bSize=b.__iterate(function(v,k){if(notAssociative?!a.has(v):flipped?!is(v,a.get(k,NOT_SET)):!is(a.get(k,NOT_SET),v)){allEqual=false;return false;}});return allEqual&&a.size===bSize;}
createClass(Repeat,IndexedSeq);function Repeat(value,times){if(!(this instanceof Repeat)){return new Repeat(value,times);}
this._value=value;this.size=times===undefined?Infinity:Math.max(0,times);if(this.size===0){if(EMPTY_REPEAT){return EMPTY_REPEAT;}
EMPTY_REPEAT=this;}}
Repeat.prototype.toString=function(){if(this.size===0){return'Repeat []';}
return'Repeat [ '+this._value+' '+this.size+' times ]';};Repeat.prototype.get=function(index,notSetValue){return this.has(index)?this._value:notSetValue;};Repeat.prototype.includes=function(searchValue){return is(this._value,searchValue);};Repeat.prototype.slice=function(begin,end){var size=this.size;return wholeSlice(begin,end,size)?this:new Repeat(this._value,resolveEnd(end,size)-resolveBegin(begin,size));};Repeat.prototype.reverse=function(){return this;};Repeat.prototype.indexOf=function(searchValue){if(is(this._value,searchValue)){return 0;}
return-1;};Repeat.prototype.lastIndexOf=function(searchValue){if(is(this._value,searchValue)){return this.size;}
return-1;};Repeat.prototype.__iterate=function(fn,reverse){for(var ii=0;ii<this.size;ii++){if(fn(this._value,ii,this)===false){return ii+1;}}
return ii;};Repeat.prototype.__iterator=function(type,reverse){var this$0=this;var ii=0;return new Iterator(function()
{return ii<this$0.size?iteratorValue(type,ii++,this$0._value):iteratorDone()});};Repeat.prototype.equals=function(other){return other instanceof Repeat?is(this._value,other._value):deepEqual(other);};var EMPTY_REPEAT;function invariant(condition,error){if(!condition)throw new Error(error);}
createClass(Range,IndexedSeq);function Range(start,end,step){if(!(this instanceof Range)){return new Range(start,end,step);}
invariant(step!==0,'Cannot step a Range by 0');start=start||0;if(end===undefined){end=Infinity;}
step=step===undefined?1:Math.abs(step);if(end<start){step=-step;}
this._start=start;this._end=end;this._step=step;this.size=Math.max(0,Math.ceil((end-start)/step-1)+1);if(this.size===0){if(EMPTY_RANGE){return EMPTY_RANGE;}
EMPTY_RANGE=this;}}
Range.prototype.toString=function(){if(this.size===0){return'Range []';}
return'Range [ '+
this._start+'...'+this._end+
(this._step>1?' by '+this._step:'')+' ]';};Range.prototype.get=function(index,notSetValue){return this.has(index)?this._start+wrapIndex(this,index)*this._step:notSetValue;};Range.prototype.includes=function(searchValue){var possibleIndex=(searchValue-this._start)/this._step;return possibleIndex>=0&&possibleIndex<this.size&&possibleIndex===Math.floor(possibleIndex);};Range.prototype.slice=function(begin,end){if(wholeSlice(begin,end,this.size)){return this;}
begin=resolveBegin(begin,this.size);end=resolveEnd(end,this.size);if(end<=begin){return new Range(0,0);}
return new Range(this.get(begin,this._end),this.get(end,this._end),this._step);};Range.prototype.indexOf=function(searchValue){var offsetValue=searchValue-this._start;if(offsetValue%this._step===0){var index=offsetValue/this._step;if(index>=0&&index<this.size){return index}}
return-1;};Range.prototype.lastIndexOf=function(searchValue){return this.indexOf(searchValue);};Range.prototype.__iterate=function(fn,reverse){var maxIndex=this.size-1;var step=this._step;var value=reverse?this._start+maxIndex*step:this._start;for(var ii=0;ii<=maxIndex;ii++){if(fn(value,ii,this)===false){return ii+1;}
value+=reverse?-step:step;}
return ii;};Range.prototype.__iterator=function(type,reverse){var maxIndex=this.size-1;var step=this._step;var value=reverse?this._start+maxIndex*step:this._start;var ii=0;return new Iterator(function(){var v=value;value+=reverse?-step:step;return ii>maxIndex?iteratorDone():iteratorValue(type,ii++,v);});};Range.prototype.equals=function(other){return other instanceof Range?this._start===other._start&&this._end===other._end&&this._step===other._step:deepEqual(this,other);};var EMPTY_RANGE;createClass(Collection,Iterable);function Collection(){throw TypeError('Abstract');}
createClass(KeyedCollection,Collection);function KeyedCollection(){}
createClass(IndexedCollection,Collection);function IndexedCollection(){}
createClass(SetCollection,Collection);function SetCollection(){}
Collection.Keyed=KeyedCollection;Collection.Indexed=IndexedCollection;Collection.Set=SetCollection;var imul=typeof Math.imul==='function'&&Math.imul(0xffffffff,2)===-2?Math.imul:function imul(a,b){a=a|0;b=b|0;var c=a&0xffff;var d=b&0xffff;return(c*d)+((((a>>>16)*d+c*(b>>>16))<<16)>>>0)|0;};function smi(i32){return((i32>>>1)&0x40000000)|(i32&0xBFFFFFFF);}
function hash(o){if(o===false||o===null||o===undefined){return 0;}
if(typeof o.valueOf==='function'){o=o.valueOf();if(o===false||o===null||o===undefined){return 0;}}
if(o===true){return 1;}
var type=typeof o;if(type==='number'){var h=o|0;if(h!==o){h^=o*0xFFFFFFFF;}
while(o>0xFFFFFFFF){o/=0xFFFFFFFF;h^=o;}
return smi(h);}
if(type==='string'){return o.length>STRING_HASH_CACHE_MIN_STRLEN?cachedHashString(o):hashString(o);}
if(typeof o.hashCode==='function'){return o.hashCode();}
if(type==='object'){return hashJSObj(o);}
if(typeof o.toString==='function'){return hashString(o.toString());}
throw new Error('Value type '+type+' cannot be hashed.');}
function cachedHashString(string){var hash=stringHashCache[string];if(hash===undefined){hash=hashString(string);if(STRING_HASH_CACHE_SIZE===STRING_HASH_CACHE_MAX_SIZE){STRING_HASH_CACHE_SIZE=0;stringHashCache={};}
STRING_HASH_CACHE_SIZE++;stringHashCache[string]=hash;}
return hash;}
function hashString(string){var hash=0;for(var ii=0;ii<string.length;ii++){hash=31*hash+string.charCodeAt(ii)|0;}
return smi(hash);}
function hashJSObj(obj){var hash;if(usingWeakMap){hash=weakMap.get(obj);if(hash!==undefined){return hash;}}
hash=obj[UID_HASH_KEY];if(hash!==undefined){return hash;}
if(!canDefineProperty){hash=obj.propertyIsEnumerable&&obj.propertyIsEnumerable[UID_HASH_KEY];if(hash!==undefined){return hash;}
hash=getIENodeHash(obj);if(hash!==undefined){return hash;}}
hash=++objHashUID;if(objHashUID&0x40000000){objHashUID=0;}
if(usingWeakMap){weakMap.set(obj,hash);}else if(isExtensible!==undefined&&isExtensible(obj)===false){throw new Error('Non-extensible objects are not allowed as keys.');}else if(canDefineProperty){Object.defineProperty(obj,UID_HASH_KEY,{'enumerable':false,'configurable':false,'writable':false,'value':hash});}else if(obj.propertyIsEnumerable!==undefined&&obj.propertyIsEnumerable===obj.constructor.prototype.propertyIsEnumerable){obj.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments);};obj.propertyIsEnumerable[UID_HASH_KEY]=hash;}else if(obj.nodeType!==undefined){obj[UID_HASH_KEY]=hash;}else{throw new Error('Unable to set a non-enumerable property on object.');}
return hash;}
var isExtensible=Object.isExtensible;var canDefineProperty=(function(){try{Object.defineProperty({},'@',{});return true;}catch(e){return false;}}());function getIENodeHash(node){if(node&&node.nodeType>0){switch(node.nodeType){case 1:return node.uniqueID;case 9:return node.documentElement&&node.documentElement.uniqueID;}}}
var usingWeakMap=typeof WeakMap==='function';var weakMap;if(usingWeakMap){weakMap=new WeakMap();}
var objHashUID=0;var UID_HASH_KEY='__immutablehash__';if(typeof Symbol==='function'){UID_HASH_KEY=Symbol(UID_HASH_KEY);}
var STRING_HASH_CACHE_MIN_STRLEN=16;var STRING_HASH_CACHE_MAX_SIZE=255;var STRING_HASH_CACHE_SIZE=0;var stringHashCache={};function assertNotInfinite(size){invariant(size!==Infinity,'Cannot perform this action with an infinite size.');}
createClass(Map,KeyedCollection);function Map(value){return value===null||value===undefined?emptyMap():isMap(value)&&!isOrdered(value)?value:emptyMap().withMutations(function(map){var iter=KeyedIterable(value);assertNotInfinite(iter.size);iter.forEach(function(v,k){return map.set(k,v)});});}
Map.prototype.toString=function(){return this.__toString('Map {','}');};Map.prototype.get=function(k,notSetValue){return this._root?this._root.get(0,undefined,k,notSetValue):notSetValue;};Map.prototype.set=function(k,v){return updateMap(this,k,v);};Map.prototype.setIn=function(keyPath,v){return this.updateIn(keyPath,NOT_SET,function(){return v});};Map.prototype.remove=function(k){return updateMap(this,k,NOT_SET);};Map.prototype.deleteIn=function(keyPath){return this.updateIn(keyPath,function(){return NOT_SET});};Map.prototype.update=function(k,notSetValue,updater){return arguments.length===1?k(this):this.updateIn([k],notSetValue,updater);};Map.prototype.updateIn=function(keyPath,notSetValue,updater){if(!updater){updater=notSetValue;notSetValue=undefined;}
var updatedValue=updateInDeepMap(this,forceIterator(keyPath),notSetValue,updater);return updatedValue===NOT_SET?undefined:updatedValue;};Map.prototype.clear=function(){if(this.size===0){return this;}
if(this.__ownerID){this.size=0;this._root=null;this.__hash=undefined;this.__altered=true;return this;}
return emptyMap();};Map.prototype.merge=function(){return mergeIntoMapWith(this,undefined,arguments);};Map.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoMapWith(this,merger,iters);};Map.prototype.mergeIn=function(keyPath){var iters=SLICE$0.call(arguments,1);return this.updateIn(keyPath,emptyMap(),function(m){return typeof m.merge==='function'?m.merge.apply(m,iters):iters[iters.length-1]});};Map.prototype.mergeDeep=function(){return mergeIntoMapWith(this,deepMerger,arguments);};Map.prototype.mergeDeepWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoMapWith(this,deepMergerWith(merger),iters);};Map.prototype.mergeDeepIn=function(keyPath){var iters=SLICE$0.call(arguments,1);return this.updateIn(keyPath,emptyMap(),function(m){return typeof m.mergeDeep==='function'?m.mergeDeep.apply(m,iters):iters[iters.length-1]});};Map.prototype.sort=function(comparator){return OrderedMap(sortFactory(this,comparator));};Map.prototype.sortBy=function(mapper,comparator){return OrderedMap(sortFactory(this,comparator,mapper));};Map.prototype.withMutations=function(fn){var mutable=this.asMutable();fn(mutable);return mutable.wasAltered()?mutable.__ensureOwner(this.__ownerID):this;};Map.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new OwnerID());};Map.prototype.asImmutable=function(){return this.__ensureOwner();};Map.prototype.wasAltered=function(){return this.__altered;};Map.prototype.__iterator=function(type,reverse){return new MapIterator(this,type,reverse);};Map.prototype.__iterate=function(fn,reverse){var this$0=this;var iterations=0;this._root&&this._root.iterate(function(entry){iterations++;return fn(entry[1],entry[0],this$0);},reverse);return iterations;};Map.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this;}
if(!ownerID){this.__ownerID=ownerID;this.__altered=false;return this;}
return makeMap(this.size,this._root,ownerID,this.__hash);};function isMap(maybeMap){return!!(maybeMap&&maybeMap[IS_MAP_SENTINEL]);}
Map.isMap=isMap;var IS_MAP_SENTINEL='@@__IMMUTABLE_MAP__@@';var MapPrototype=Map.prototype;MapPrototype[IS_MAP_SENTINEL]=true;MapPrototype[DELETE]=MapPrototype.remove;MapPrototype.removeIn=MapPrototype.deleteIn;function ArrayMapNode(ownerID,entries){this.ownerID=ownerID;this.entries=entries;}
ArrayMapNode.prototype.get=function(shift,keyHash,key,notSetValue){var entries=this.entries;for(var ii=0,len=entries.length;ii<len;ii++){if(is(key,entries[ii][0])){return entries[ii][1];}}
return notSetValue;};ArrayMapNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){var removed=value===NOT_SET;var entries=this.entries;var idx=0;for(var len=entries.length;idx<len;idx++){if(is(key,entries[idx][0])){break;}}
var exists=idx<len;if(exists?entries[idx][1]===value:removed){return this;}
SetRef(didAlter);(removed||!exists)&&SetRef(didChangeSize);if(removed&&entries.length===1){return;}
if(!exists&&!removed&&entries.length>=MAX_ARRAY_MAP_SIZE){return createNodes(ownerID,entries,key,value);}
var isEditable=ownerID&&ownerID===this.ownerID;var newEntries=isEditable?entries:arrCopy(entries);if(exists){if(removed){idx===len-1?newEntries.pop():(newEntries[idx]=newEntries.pop());}else{newEntries[idx]=[key,value];}}else{newEntries.push([key,value]);}
if(isEditable){this.entries=newEntries;return this;}
return new ArrayMapNode(ownerID,newEntries);};function BitmapIndexedNode(ownerID,bitmap,nodes){this.ownerID=ownerID;this.bitmap=bitmap;this.nodes=nodes;}
BitmapIndexedNode.prototype.get=function(shift,keyHash,key,notSetValue){if(keyHash===undefined){keyHash=hash(key);}
var bit=(1<<((shift===0?keyHash:keyHash>>>shift)&MASK));var bitmap=this.bitmap;return(bitmap&bit)===0?notSetValue:this.nodes[popCount(bitmap&(bit-1))].get(shift+SHIFT,keyHash,key,notSetValue);};BitmapIndexedNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){if(keyHash===undefined){keyHash=hash(key);}
var keyHashFrag=(shift===0?keyHash:keyHash>>>shift)&MASK;var bit=1<<keyHashFrag;var bitmap=this.bitmap;var exists=(bitmap&bit)!==0;if(!exists&&value===NOT_SET){return this;}
var idx=popCount(bitmap&(bit-1));var nodes=this.nodes;var node=exists?nodes[idx]:undefined;var newNode=updateNode(node,ownerID,shift+SHIFT,keyHash,key,value,didChangeSize,didAlter);if(newNode===node){return this;}
if(!exists&&newNode&&nodes.length>=MAX_BITMAP_INDEXED_SIZE){return expandNodes(ownerID,nodes,bitmap,keyHashFrag,newNode);}
if(exists&&!newNode&&nodes.length===2&&isLeafNode(nodes[idx^1])){return nodes[idx^1];}
if(exists&&newNode&&nodes.length===1&&isLeafNode(newNode)){return newNode;}
var isEditable=ownerID&&ownerID===this.ownerID;var newBitmap=exists?newNode?bitmap:bitmap^bit:bitmap|bit;var newNodes=exists?newNode?setIn(nodes,idx,newNode,isEditable):spliceOut(nodes,idx,isEditable):spliceIn(nodes,idx,newNode,isEditable);if(isEditable){this.bitmap=newBitmap;this.nodes=newNodes;return this;}
return new BitmapIndexedNode(ownerID,newBitmap,newNodes);};function HashArrayMapNode(ownerID,count,nodes){this.ownerID=ownerID;this.count=count;this.nodes=nodes;}
HashArrayMapNode.prototype.get=function(shift,keyHash,key,notSetValue){if(keyHash===undefined){keyHash=hash(key);}
var idx=(shift===0?keyHash:keyHash>>>shift)&MASK;var node=this.nodes[idx];return node?node.get(shift+SHIFT,keyHash,key,notSetValue):notSetValue;};HashArrayMapNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){if(keyHash===undefined){keyHash=hash(key);}
var idx=(shift===0?keyHash:keyHash>>>shift)&MASK;var removed=value===NOT_SET;var nodes=this.nodes;var node=nodes[idx];if(removed&&!node){return this;}
var newNode=updateNode(node,ownerID,shift+SHIFT,keyHash,key,value,didChangeSize,didAlter);if(newNode===node){return this;}
var newCount=this.count;if(!node){newCount++;}else if(!newNode){newCount--;if(newCount<MIN_HASH_ARRAY_MAP_SIZE){return packNodes(ownerID,nodes,newCount,idx);}}
var isEditable=ownerID&&ownerID===this.ownerID;var newNodes=setIn(nodes,idx,newNode,isEditable);if(isEditable){this.count=newCount;this.nodes=newNodes;return this;}
return new HashArrayMapNode(ownerID,newCount,newNodes);};function HashCollisionNode(ownerID,keyHash,entries){this.ownerID=ownerID;this.keyHash=keyHash;this.entries=entries;}
HashCollisionNode.prototype.get=function(shift,keyHash,key,notSetValue){var entries=this.entries;for(var ii=0,len=entries.length;ii<len;ii++){if(is(key,entries[ii][0])){return entries[ii][1];}}
return notSetValue;};HashCollisionNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){if(keyHash===undefined){keyHash=hash(key);}
var removed=value===NOT_SET;if(keyHash!==this.keyHash){if(removed){return this;}
SetRef(didAlter);SetRef(didChangeSize);return mergeIntoNode(this,ownerID,shift,keyHash,[key,value]);}
var entries=this.entries;var idx=0;for(var len=entries.length;idx<len;idx++){if(is(key,entries[idx][0])){break;}}
var exists=idx<len;if(exists?entries[idx][1]===value:removed){return this;}
SetRef(didAlter);(removed||!exists)&&SetRef(didChangeSize);if(removed&&len===2){return new ValueNode(ownerID,this.keyHash,entries[idx^1]);}
var isEditable=ownerID&&ownerID===this.ownerID;var newEntries=isEditable?entries:arrCopy(entries);if(exists){if(removed){idx===len-1?newEntries.pop():(newEntries[idx]=newEntries.pop());}else{newEntries[idx]=[key,value];}}else{newEntries.push([key,value]);}
if(isEditable){this.entries=newEntries;return this;}
return new HashCollisionNode(ownerID,this.keyHash,newEntries);};function ValueNode(ownerID,keyHash,entry){this.ownerID=ownerID;this.keyHash=keyHash;this.entry=entry;}
ValueNode.prototype.get=function(shift,keyHash,key,notSetValue){return is(key,this.entry[0])?this.entry[1]:notSetValue;};ValueNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){var removed=value===NOT_SET;var keyMatch=is(key,this.entry[0]);if(keyMatch?value===this.entry[1]:removed){return this;}
SetRef(didAlter);if(removed){SetRef(didChangeSize);return;}
if(keyMatch){if(ownerID&&ownerID===this.ownerID){this.entry[1]=value;return this;}
return new ValueNode(ownerID,this.keyHash,[key,value]);}
SetRef(didChangeSize);return mergeIntoNode(this,ownerID,shift,hash(key),[key,value]);};ArrayMapNode.prototype.iterate=HashCollisionNode.prototype.iterate=function(fn,reverse){var entries=this.entries;for(var ii=0,maxIndex=entries.length-1;ii<=maxIndex;ii++){if(fn(entries[reverse?maxIndex-ii:ii])===false){return false;}}}
BitmapIndexedNode.prototype.iterate=HashArrayMapNode.prototype.iterate=function(fn,reverse){var nodes=this.nodes;for(var ii=0,maxIndex=nodes.length-1;ii<=maxIndex;ii++){var node=nodes[reverse?maxIndex-ii:ii];if(node&&node.iterate(fn,reverse)===false){return false;}}}
ValueNode.prototype.iterate=function(fn,reverse){return fn(this.entry);}
createClass(MapIterator,Iterator);function MapIterator(map,type,reverse){this._type=type;this._reverse=reverse;this._stack=map._root&&mapIteratorFrame(map._root);}
MapIterator.prototype.next=function(){var type=this._type;var stack=this._stack;while(stack){var node=stack.node;var index=stack.index++;var maxIndex;if(node.entry){if(index===0){return mapIteratorValue(type,node.entry);}}else if(node.entries){maxIndex=node.entries.length-1;if(index<=maxIndex){return mapIteratorValue(type,node.entries[this._reverse?maxIndex-index:index]);}}else{maxIndex=node.nodes.length-1;if(index<=maxIndex){var subNode=node.nodes[this._reverse?maxIndex-index:index];if(subNode){if(subNode.entry){return mapIteratorValue(type,subNode.entry);}
stack=this._stack=mapIteratorFrame(subNode,stack);}
continue;}}
stack=this._stack=this._stack.__prev;}
return iteratorDone();};function mapIteratorValue(type,entry){return iteratorValue(type,entry[0],entry[1]);}
function mapIteratorFrame(node,prev){return{node:node,index:0,__prev:prev};}
function makeMap(size,root,ownerID,hash){var map=Object.create(MapPrototype);map.size=size;map._root=root;map.__ownerID=ownerID;map.__hash=hash;map.__altered=false;return map;}
var EMPTY_MAP;function emptyMap(){return EMPTY_MAP||(EMPTY_MAP=makeMap(0));}
function updateMap(map,k,v){var newRoot;var newSize;if(!map._root){if(v===NOT_SET){return map;}
newSize=1;newRoot=new ArrayMapNode(map.__ownerID,[[k,v]]);}else{var didChangeSize=MakeRef(CHANGE_LENGTH);var didAlter=MakeRef(DID_ALTER);newRoot=updateNode(map._root,map.__ownerID,0,undefined,k,v,didChangeSize,didAlter);if(!didAlter.value){return map;}
newSize=map.size+(didChangeSize.value?v===NOT_SET?-1:1:0);}
if(map.__ownerID){map.size=newSize;map._root=newRoot;map.__hash=undefined;map.__altered=true;return map;}
return newRoot?makeMap(newSize,newRoot):emptyMap();}
function updateNode(node,ownerID,shift,keyHash,key,value,didChangeSize,didAlter){if(!node){if(value===NOT_SET){return node;}
SetRef(didAlter);SetRef(didChangeSize);return new ValueNode(ownerID,keyHash,[key,value]);}
return node.update(ownerID,shift,keyHash,key,value,didChangeSize,didAlter);}
function isLeafNode(node){return node.constructor===ValueNode||node.constructor===HashCollisionNode;}
function mergeIntoNode(node,ownerID,shift,keyHash,entry){if(node.keyHash===keyHash){return new HashCollisionNode(ownerID,keyHash,[node.entry,entry]);}
var idx1=(shift===0?node.keyHash:node.keyHash>>>shift)&MASK;var idx2=(shift===0?keyHash:keyHash>>>shift)&MASK;var newNode;var nodes=idx1===idx2?[mergeIntoNode(node,ownerID,shift+SHIFT,keyHash,entry)]:((newNode=new ValueNode(ownerID,keyHash,entry)),idx1<idx2?[node,newNode]:[newNode,node]);return new BitmapIndexedNode(ownerID,(1<<idx1)|(1<<idx2),nodes);}
function createNodes(ownerID,entries,key,value){if(!ownerID){ownerID=new OwnerID();}
var node=new ValueNode(ownerID,hash(key),[key,value]);for(var ii=0;ii<entries.length;ii++){var entry=entries[ii];node=node.update(ownerID,0,undefined,entry[0],entry[1]);}
return node;}
function packNodes(ownerID,nodes,count,excluding){var bitmap=0;var packedII=0;var packedNodes=new Array(count);for(var ii=0,bit=1,len=nodes.length;ii<len;ii++,bit<<=1){var node=nodes[ii];if(node!==undefined&&ii!==excluding){bitmap|=bit;packedNodes[packedII++]=node;}}
return new BitmapIndexedNode(ownerID,bitmap,packedNodes);}
function expandNodes(ownerID,nodes,bitmap,including,node){var count=0;var expandedNodes=new Array(SIZE);for(var ii=0;bitmap!==0;ii++,bitmap>>>=1){expandedNodes[ii]=bitmap&1?nodes[count++]:undefined;}
expandedNodes[including]=node;return new HashArrayMapNode(ownerID,count+1,expandedNodes);}
function mergeIntoMapWith(map,merger,iterables){var iters=[];for(var ii=0;ii<iterables.length;ii++){var value=iterables[ii];var iter=KeyedIterable(value);if(!isIterable(value)){iter=iter.map(function(v){return fromJS(v)});}
iters.push(iter);}
return mergeIntoCollectionWith(map,merger,iters);}
function deepMerger(existing,value,key){return existing&&existing.mergeDeep&&isIterable(value)?existing.mergeDeep(value):is(existing,value)?existing:value;}
function deepMergerWith(merger){return function(existing,value,key){if(existing&&existing.mergeDeepWith&&isIterable(value)){return existing.mergeDeepWith(merger,value);}
var nextValue=merger(existing,value,key);return is(existing,nextValue)?existing:nextValue;};}
function mergeIntoCollectionWith(collection,merger,iters){iters=iters.filter(function(x){return x.size!==0});if(iters.length===0){return collection;}
if(collection.size===0&&!collection.__ownerID&&iters.length===1){return collection.constructor(iters[0]);}
return collection.withMutations(function(collection){var mergeIntoMap=merger?function(value,key){collection.update(key,NOT_SET,function(existing)
{return existing===NOT_SET?value:merger(existing,value,key)});}:function(value,key){collection.set(key,value);}
for(var ii=0;ii<iters.length;ii++){iters[ii].forEach(mergeIntoMap);}});}
function updateInDeepMap(existing,keyPathIter,notSetValue,updater){var isNotSet=existing===NOT_SET;var step=keyPathIter.next();if(step.done){var existingValue=isNotSet?notSetValue:existing;var newValue=updater(existingValue);return newValue===existingValue?existing:newValue;}
invariant(isNotSet||(existing&&existing.set),'invalid keyPath');var key=step.value;var nextExisting=isNotSet?NOT_SET:existing.get(key,NOT_SET);var nextUpdated=updateInDeepMap(nextExisting,keyPathIter,notSetValue,updater);return nextUpdated===nextExisting?existing:nextUpdated===NOT_SET?existing.remove(key):(isNotSet?emptyMap():existing).set(key,nextUpdated);}
function popCount(x){x=x-((x>>1)&0x55555555);x=(x&0x33333333)+((x>>2)&0x33333333);x=(x+(x>>4))&0x0f0f0f0f;x=x+(x>>8);x=x+(x>>16);return x&0x7f;}
function setIn(array,idx,val,canEdit){var newArray=canEdit?array:arrCopy(array);newArray[idx]=val;return newArray;}
function spliceIn(array,idx,val,canEdit){var newLen=array.length+1;if(canEdit&&idx+1===newLen){array[idx]=val;return array;}
var newArray=new Array(newLen);var after=0;for(var ii=0;ii<newLen;ii++){if(ii===idx){newArray[ii]=val;after=-1;}else{newArray[ii]=array[ii+after];}}
return newArray;}
function spliceOut(array,idx,canEdit){var newLen=array.length-1;if(canEdit&&idx===newLen){array.pop();return array;}
var newArray=new Array(newLen);var after=0;for(var ii=0;ii<newLen;ii++){if(ii===idx){after=1;}
newArray[ii]=array[ii+after];}
return newArray;}
var MAX_ARRAY_MAP_SIZE=SIZE/4;var MAX_BITMAP_INDEXED_SIZE=SIZE/2;var MIN_HASH_ARRAY_MAP_SIZE=SIZE/4;createClass(List,IndexedCollection);function List(value){var empty=emptyList();if(value===null||value===undefined){return empty;}
if(isList(value)){return value;}
var iter=IndexedIterable(value);var size=iter.size;if(size===0){return empty;}
assertNotInfinite(size);if(size>0&&size<SIZE){return makeList(0,size,SHIFT,null,new VNode(iter.toArray()));}
return empty.withMutations(function(list){list.setSize(size);iter.forEach(function(v,i){return list.set(i,v)});});}
List.of=function(){return this(arguments);};List.prototype.toString=function(){return this.__toString('List [',']');};List.prototype.get=function(index,notSetValue){index=wrapIndex(this,index);if(index>=0&&index<this.size){index+=this._origin;var node=listNodeFor(this,index);return node&&node.array[index&MASK];}
return notSetValue;};List.prototype.set=function(index,value){return updateList(this,index,value);};List.prototype.remove=function(index){return!this.has(index)?this:index===0?this.shift():index===this.size-1?this.pop():this.splice(index,1);};List.prototype.insert=function(index,value){return this.splice(index,0,value);};List.prototype.clear=function(){if(this.size===0){return this;}
if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=SHIFT;this._root=this._tail=null;this.__hash=undefined;this.__altered=true;return this;}
return emptyList();};List.prototype.push=function(){var values=arguments;var oldSize=this.size;return this.withMutations(function(list){setListBounds(list,0,oldSize+values.length);for(var ii=0;ii<values.length;ii++){list.set(oldSize+ii,values[ii]);}});};List.prototype.pop=function(){return setListBounds(this,0,-1);};List.prototype.unshift=function(){var values=arguments;return this.withMutations(function(list){setListBounds(list,-values.length);for(var ii=0;ii<values.length;ii++){list.set(ii,values[ii]);}});};List.prototype.shift=function(){return setListBounds(this,1);};List.prototype.merge=function(){return mergeIntoListWith(this,undefined,arguments);};List.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoListWith(this,merger,iters);};List.prototype.mergeDeep=function(){return mergeIntoListWith(this,deepMerger,arguments);};List.prototype.mergeDeepWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoListWith(this,deepMergerWith(merger),iters);};List.prototype.setSize=function(size){return setListBounds(this,0,size);};List.prototype.slice=function(begin,end){var size=this.size;if(wholeSlice(begin,end,size)){return this;}
return setListBounds(this,resolveBegin(begin,size),resolveEnd(end,size));};List.prototype.__iterator=function(type,reverse){var index=0;var values=iterateList(this,reverse);return new Iterator(function(){var value=values();return value===DONE?iteratorDone():iteratorValue(type,index++,value);});};List.prototype.__iterate=function(fn,reverse){var index=0;var values=iterateList(this,reverse);var value;while((value=values())!==DONE){if(fn(value,index++,this)===false){break;}}
return index;};List.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this;}
if(!ownerID){this.__ownerID=ownerID;return this;}
return makeList(this._origin,this._capacity,this._level,this._root,this._tail,ownerID,this.__hash);};function isList(maybeList){return!!(maybeList&&maybeList[IS_LIST_SENTINEL]);}
List.isList=isList;var IS_LIST_SENTINEL='@@__IMMUTABLE_LIST__@@';var ListPrototype=List.prototype;ListPrototype[IS_LIST_SENTINEL]=true;ListPrototype[DELETE]=ListPrototype.remove;ListPrototype.setIn=MapPrototype.setIn;ListPrototype.deleteIn=ListPrototype.removeIn=MapPrototype.removeIn;ListPrototype.update=MapPrototype.update;ListPrototype.updateIn=MapPrototype.updateIn;ListPrototype.mergeIn=MapPrototype.mergeIn;ListPrototype.mergeDeepIn=MapPrototype.mergeDeepIn;ListPrototype.withMutations=MapPrototype.withMutations;ListPrototype.asMutable=MapPrototype.asMutable;ListPrototype.asImmutable=MapPrototype.asImmutable;ListPrototype.wasAltered=MapPrototype.wasAltered;function VNode(array,ownerID){this.array=array;this.ownerID=ownerID;}
VNode.prototype.removeBefore=function(ownerID,level,index){if(index===level?1<<level:0||this.array.length===0){return this;}
var originIndex=(index>>>level)&MASK;if(originIndex>=this.array.length){return new VNode([],ownerID);}
var removingFirst=originIndex===0;var newChild;if(level>0){var oldChild=this.array[originIndex];newChild=oldChild&&oldChild.removeBefore(ownerID,level-SHIFT,index);if(newChild===oldChild&&removingFirst){return this;}}
if(removingFirst&&!newChild){return this;}
var editable=editableVNode(this,ownerID);if(!removingFirst){for(var ii=0;ii<originIndex;ii++){editable.array[ii]=undefined;}}
if(newChild){editable.array[originIndex]=newChild;}
return editable;};VNode.prototype.removeAfter=function(ownerID,level,index){if(index===(level?1<<level:0)||this.array.length===0){return this;}
var sizeIndex=((index-1)>>>level)&MASK;if(sizeIndex>=this.array.length){return this;}
var newChild;if(level>0){var oldChild=this.array[sizeIndex];newChild=oldChild&&oldChild.removeAfter(ownerID,level-SHIFT,index);if(newChild===oldChild&&sizeIndex===this.array.length-1){return this;}}
var editable=editableVNode(this,ownerID);editable.array.splice(sizeIndex+1);if(newChild){editable.array[sizeIndex]=newChild;}
return editable;};var DONE={};function iterateList(list,reverse){var left=list._origin;var right=list._capacity;var tailPos=getTailOffset(right);var tail=list._tail;return iterateNodeOrLeaf(list._root,list._level,0);function iterateNodeOrLeaf(node,level,offset){return level===0?iterateLeaf(node,offset):iterateNode(node,level,offset);}
function iterateLeaf(node,offset){var array=offset===tailPos?tail&&tail.array:node&&node.array;var from=offset>left?0:left-offset;var to=right-offset;if(to>SIZE){to=SIZE;}
return function(){if(from===to){return DONE;}
var idx=reverse?--to:from++;return array&&array[idx];};}
function iterateNode(node,level,offset){var values;var array=node&&node.array;var from=offset>left?0:(left-offset)>>level;var to=((right-offset)>>level)+1;if(to>SIZE){to=SIZE;}
return function(){do{if(values){var value=values();if(value!==DONE){return value;}
values=null;}
if(from===to){return DONE;}
var idx=reverse?--to:from++;values=iterateNodeOrLeaf(array&&array[idx],level-SHIFT,offset+(idx<<level));}while(true);};}}
function makeList(origin,capacity,level,root,tail,ownerID,hash){var list=Object.create(ListPrototype);list.size=capacity-origin;list._origin=origin;list._capacity=capacity;list._level=level;list._root=root;list._tail=tail;list.__ownerID=ownerID;list.__hash=hash;list.__altered=false;return list;}
var EMPTY_LIST;function emptyList(){return EMPTY_LIST||(EMPTY_LIST=makeList(0,0,SHIFT));}
function updateList(list,index,value){index=wrapIndex(list,index);if(index!==index){return list;}
if(index>=list.size||index<0){return list.withMutations(function(list){index<0?setListBounds(list,index).set(0,value):setListBounds(list,0,index+1).set(index,value)});}
index+=list._origin;var newTail=list._tail;var newRoot=list._root;var didAlter=MakeRef(DID_ALTER);if(index>=getTailOffset(list._capacity)){newTail=updateVNode(newTail,list.__ownerID,0,index,value,didAlter);}else{newRoot=updateVNode(newRoot,list.__ownerID,list._level,index,value,didAlter);}
if(!didAlter.value){return list;}
if(list.__ownerID){list._root=newRoot;list._tail=newTail;list.__hash=undefined;list.__altered=true;return list;}
return makeList(list._origin,list._capacity,list._level,newRoot,newTail);}
function updateVNode(node,ownerID,level,index,value,didAlter){var idx=(index>>>level)&MASK;var nodeHas=node&&idx<node.array.length;if(!nodeHas&&value===undefined){return node;}
var newNode;if(level>0){var lowerNode=node&&node.array[idx];var newLowerNode=updateVNode(lowerNode,ownerID,level-SHIFT,index,value,didAlter);if(newLowerNode===lowerNode){return node;}
newNode=editableVNode(node,ownerID);newNode.array[idx]=newLowerNode;return newNode;}
if(nodeHas&&node.array[idx]===value){return node;}
SetRef(didAlter);newNode=editableVNode(node,ownerID);if(value===undefined&&idx===newNode.array.length-1){newNode.array.pop();}else{newNode.array[idx]=value;}
return newNode;}
function editableVNode(node,ownerID){if(ownerID&&node&&ownerID===node.ownerID){return node;}
return new VNode(node?node.array.slice():[],ownerID);}
function listNodeFor(list,rawIndex){if(rawIndex>=getTailOffset(list._capacity)){return list._tail;}
if(rawIndex<1<<(list._level+SHIFT)){var node=list._root;var level=list._level;while(node&&level>0){node=node.array[(rawIndex>>>level)&MASK];level-=SHIFT;}
return node;}}
function setListBounds(list,begin,end){if(begin!==undefined){begin=begin|0;}
if(end!==undefined){end=end|0;}
var owner=list.__ownerID||new OwnerID();var oldOrigin=list._origin;var oldCapacity=list._capacity;var newOrigin=oldOrigin+begin;var newCapacity=end===undefined?oldCapacity:end<0?oldCapacity+end:oldOrigin+end;if(newOrigin===oldOrigin&&newCapacity===oldCapacity){return list;}
if(newOrigin>=newCapacity){return list.clear();}
var newLevel=list._level;var newRoot=list._root;var offsetShift=0;while(newOrigin+offsetShift<0){newRoot=new VNode(newRoot&&newRoot.array.length?[undefined,newRoot]:[],owner);newLevel+=SHIFT;offsetShift+=1<<newLevel;}
if(offsetShift){newOrigin+=offsetShift;oldOrigin+=offsetShift;newCapacity+=offsetShift;oldCapacity+=offsetShift;}
var oldTailOffset=getTailOffset(oldCapacity);var newTailOffset=getTailOffset(newCapacity);while(newTailOffset>=1<<(newLevel+SHIFT)){newRoot=new VNode(newRoot&&newRoot.array.length?[newRoot]:[],owner);newLevel+=SHIFT;}
var oldTail=list._tail;var newTail=newTailOffset<oldTailOffset?listNodeFor(list,newCapacity-1):newTailOffset>oldTailOffset?new VNode([],owner):oldTail;if(oldTail&&newTailOffset>oldTailOffset&&newOrigin<oldCapacity&&oldTail.array.length){newRoot=editableVNode(newRoot,owner);var node=newRoot;for(var level=newLevel;level>SHIFT;level-=SHIFT){var idx=(oldTailOffset>>>level)&MASK;node=node.array[idx]=editableVNode(node.array[idx],owner);}
node.array[(oldTailOffset>>>SHIFT)&MASK]=oldTail;}
if(newCapacity<oldCapacity){newTail=newTail&&newTail.removeAfter(owner,0,newCapacity);}
if(newOrigin>=newTailOffset){newOrigin-=newTailOffset;newCapacity-=newTailOffset;newLevel=SHIFT;newRoot=null;newTail=newTail&&newTail.removeBefore(owner,0,newOrigin);}else if(newOrigin>oldOrigin||newTailOffset<oldTailOffset){offsetShift=0;while(newRoot){var beginIndex=(newOrigin>>>newLevel)&MASK;if(beginIndex!==(newTailOffset>>>newLevel)&MASK){break;}
if(beginIndex){offsetShift+=(1<<newLevel)*beginIndex;}
newLevel-=SHIFT;newRoot=newRoot.array[beginIndex];}
if(newRoot&&newOrigin>oldOrigin){newRoot=newRoot.removeBefore(owner,newLevel,newOrigin-offsetShift);}
if(newRoot&&newTailOffset<oldTailOffset){newRoot=newRoot.removeAfter(owner,newLevel,newTailOffset-offsetShift);}
if(offsetShift){newOrigin-=offsetShift;newCapacity-=offsetShift;}}
if(list.__ownerID){list.size=newCapacity-newOrigin;list._origin=newOrigin;list._capacity=newCapacity;list._level=newLevel;list._root=newRoot;list._tail=newTail;list.__hash=undefined;list.__altered=true;return list;}
return makeList(newOrigin,newCapacity,newLevel,newRoot,newTail);}
function mergeIntoListWith(list,merger,iterables){var iters=[];var maxSize=0;for(var ii=0;ii<iterables.length;ii++){var value=iterables[ii];var iter=IndexedIterable(value);if(iter.size>maxSize){maxSize=iter.size;}
if(!isIterable(value)){iter=iter.map(function(v){return fromJS(v)});}
iters.push(iter);}
if(maxSize>list.size){list=list.setSize(maxSize);}
return mergeIntoCollectionWith(list,merger,iters);}
function getTailOffset(size){return size<SIZE?0:(((size-1)>>>SHIFT)<<SHIFT);}
createClass(OrderedMap,Map);function OrderedMap(value){return value===null||value===undefined?emptyOrderedMap():isOrderedMap(value)?value:emptyOrderedMap().withMutations(function(map){var iter=KeyedIterable(value);assertNotInfinite(iter.size);iter.forEach(function(v,k){return map.set(k,v)});});}
OrderedMap.of=function(){return this(arguments);};OrderedMap.prototype.toString=function(){return this.__toString('OrderedMap {','}');};OrderedMap.prototype.get=function(k,notSetValue){var index=this._map.get(k);return index!==undefined?this._list.get(index)[1]:notSetValue;};OrderedMap.prototype.clear=function(){if(this.size===0){return this;}
if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this;}
return emptyOrderedMap();};OrderedMap.prototype.set=function(k,v){return updateOrderedMap(this,k,v);};OrderedMap.prototype.remove=function(k){return updateOrderedMap(this,k,NOT_SET);};OrderedMap.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered();};OrderedMap.prototype.__iterate=function(fn,reverse){var this$0=this;return this._list.__iterate(function(entry){return entry&&fn(entry[1],entry[0],this$0)},reverse);};OrderedMap.prototype.__iterator=function(type,reverse){return this._list.fromEntrySeq().__iterator(type,reverse);};OrderedMap.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this;}
var newMap=this._map.__ensureOwner(ownerID);var newList=this._list.__ensureOwner(ownerID);if(!ownerID){this.__ownerID=ownerID;this._map=newMap;this._list=newList;return this;}
return makeOrderedMap(newMap,newList,ownerID,this.__hash);};function isOrderedMap(maybeOrderedMap){return isMap(maybeOrderedMap)&&isOrdered(maybeOrderedMap);}
OrderedMap.isOrderedMap=isOrderedMap;OrderedMap.prototype[IS_ORDERED_SENTINEL]=true;OrderedMap.prototype[DELETE]=OrderedMap.prototype.remove;function makeOrderedMap(map,list,ownerID,hash){var omap=Object.create(OrderedMap.prototype);omap.size=map?map.size:0;omap._map=map;omap._list=list;omap.__ownerID=ownerID;omap.__hash=hash;return omap;}
var EMPTY_ORDERED_MAP;function emptyOrderedMap(){return EMPTY_ORDERED_MAP||(EMPTY_ORDERED_MAP=makeOrderedMap(emptyMap(),emptyList()));}
function updateOrderedMap(omap,k,v){var map=omap._map;var list=omap._list;var i=map.get(k);var has=i!==undefined;var newMap;var newList;if(v===NOT_SET){if(!has){return omap;}
if(list.size>=SIZE&&list.size>=map.size*2){newList=list.filter(function(entry,idx){return entry!==undefined&&i!==idx});newMap=newList.toKeyedSeq().map(function(entry){return entry[0]}).flip().toMap();if(omap.__ownerID){newMap.__ownerID=newList.__ownerID=omap.__ownerID;}}else{newMap=map.remove(k);newList=i===list.size-1?list.pop():list.set(i,undefined);}}else{if(has){if(v===list.get(i)[1]){return omap;}
newMap=map;newList=list.set(i,[k,v]);}else{newMap=map.set(k,list.size);newList=list.set(list.size,[k,v]);}}
if(omap.__ownerID){omap.size=newMap.size;omap._map=newMap;omap._list=newList;omap.__hash=undefined;return omap;}
return makeOrderedMap(newMap,newList);}
createClass(ToKeyedSequence,KeyedSeq);function ToKeyedSequence(indexed,useKeys){this._iter=indexed;this._useKeys=useKeys;this.size=indexed.size;}
ToKeyedSequence.prototype.get=function(key,notSetValue){return this._iter.get(key,notSetValue);};ToKeyedSequence.prototype.has=function(key){return this._iter.has(key);};ToKeyedSequence.prototype.valueSeq=function(){return this._iter.valueSeq();};ToKeyedSequence.prototype.reverse=function(){var this$0=this;var reversedSequence=reverseFactory(this,true);if(!this._useKeys){reversedSequence.valueSeq=function(){return this$0._iter.toSeq().reverse()};}
return reversedSequence;};ToKeyedSequence.prototype.map=function(mapper,context){var this$0=this;var mappedSequence=mapFactory(this,mapper,context);if(!this._useKeys){mappedSequence.valueSeq=function(){return this$0._iter.toSeq().map(mapper,context)};}
return mappedSequence;};ToKeyedSequence.prototype.__iterate=function(fn,reverse){var this$0=this;var ii;return this._iter.__iterate(this._useKeys?function(v,k){return fn(v,k,this$0)}:((ii=reverse?resolveSize(this):0),function(v){return fn(v,reverse?--ii:ii++,this$0)}),reverse);};ToKeyedSequence.prototype.__iterator=function(type,reverse){if(this._useKeys){return this._iter.__iterator(type,reverse);}
var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);var ii=reverse?resolveSize(this):0;return new Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,reverse?--ii:ii++,step.value,step);});};ToKeyedSequence.prototype[IS_ORDERED_SENTINEL]=true;createClass(ToIndexedSequence,IndexedSeq);function ToIndexedSequence(iter){this._iter=iter;this.size=iter.size;}
ToIndexedSequence.prototype.includes=function(value){return this._iter.includes(value);};ToIndexedSequence.prototype.__iterate=function(fn,reverse){var this$0=this;var iterations=0;return this._iter.__iterate(function(v){return fn(v,iterations++,this$0)},reverse);};ToIndexedSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);var iterations=0;return new Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,iterations++,step.value,step)});};createClass(ToSetSequence,SetSeq);function ToSetSequence(iter){this._iter=iter;this.size=iter.size;}
ToSetSequence.prototype.has=function(key){return this._iter.includes(key);};ToSetSequence.prototype.__iterate=function(fn,reverse){var this$0=this;return this._iter.__iterate(function(v){return fn(v,v,this$0)},reverse);};ToSetSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);return new Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,step.value,step.value,step);});};createClass(FromEntriesSequence,KeyedSeq);function FromEntriesSequence(entries){this._iter=entries;this.size=entries.size;}
FromEntriesSequence.prototype.entrySeq=function(){return this._iter.toSeq();};FromEntriesSequence.prototype.__iterate=function(fn,reverse){var this$0=this;return this._iter.__iterate(function(entry){if(entry){validateEntry(entry);var indexedIterable=isIterable(entry);return fn(indexedIterable?entry.get(1):entry[1],indexedIterable?entry.get(0):entry[0],this$0);}},reverse);};FromEntriesSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);return new Iterator(function(){while(true){var step=iterator.next();if(step.done){return step;}
var entry=step.value;if(entry){validateEntry(entry);var indexedIterable=isIterable(entry);return iteratorValue(type,indexedIterable?entry.get(0):entry[0],indexedIterable?entry.get(1):entry[1],step);}}});};ToIndexedSequence.prototype.cacheResult=ToKeyedSequence.prototype.cacheResult=ToSetSequence.prototype.cacheResult=FromEntriesSequence.prototype.cacheResult=cacheResultThrough;function flipFactory(iterable){var flipSequence=makeSequence(iterable);flipSequence._iter=iterable;flipSequence.size=iterable.size;flipSequence.flip=function(){return iterable};flipSequence.reverse=function(){var reversedSequence=iterable.reverse.apply(this);reversedSequence.flip=function(){return iterable.reverse()};return reversedSequence;};flipSequence.has=function(key){return iterable.includes(key)};flipSequence.includes=function(key){return iterable.has(key)};flipSequence.cacheResult=cacheResultThrough;flipSequence.__iterateUncached=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k){return fn(k,v,this$0)!==false},reverse);}
flipSequence.__iteratorUncached=function(type,reverse){if(type===ITERATE_ENTRIES){var iterator=iterable.__iterator(type,reverse);return new Iterator(function(){var step=iterator.next();if(!step.done){var k=step.value[0];step.value[0]=step.value[1];step.value[1]=k;}
return step;});}
return iterable.__iterator(type===ITERATE_VALUES?ITERATE_KEYS:ITERATE_VALUES,reverse);}
return flipSequence;}
function mapFactory(iterable,mapper,context){var mappedSequence=makeSequence(iterable);mappedSequence.size=iterable.size;mappedSequence.has=function(key){return iterable.has(key)};mappedSequence.get=function(key,notSetValue){var v=iterable.get(key,NOT_SET);return v===NOT_SET?notSetValue:mapper.call(context,v,key,iterable);};mappedSequence.__iterateUncached=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k,c){return fn(mapper.call(context,v,k,c),k,this$0)!==false},reverse);}
mappedSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);return new Iterator(function(){var step=iterator.next();if(step.done){return step;}
var entry=step.value;var key=entry[0];return iteratorValue(type,key,mapper.call(context,entry[1],key,iterable),step);});}
return mappedSequence;}
function reverseFactory(iterable,useKeys){var reversedSequence=makeSequence(iterable);reversedSequence._iter=iterable;reversedSequence.size=iterable.size;reversedSequence.reverse=function(){return iterable};if(iterable.flip){reversedSequence.flip=function(){var flipSequence=flipFactory(iterable);flipSequence.reverse=function(){return iterable.flip()};return flipSequence;};}
reversedSequence.get=function(key,notSetValue)
{return iterable.get(useKeys?key:-1-key,notSetValue)};reversedSequence.has=function(key)
{return iterable.has(useKeys?key:-1-key)};reversedSequence.includes=function(value){return iterable.includes(value)};reversedSequence.cacheResult=cacheResultThrough;reversedSequence.__iterate=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k){return fn(v,k,this$0)},!reverse);};reversedSequence.__iterator=function(type,reverse){return iterable.__iterator(type,!reverse)};return reversedSequence;}
function filterFactory(iterable,predicate,context,useKeys){var filterSequence=makeSequence(iterable);if(useKeys){filterSequence.has=function(key){var v=iterable.get(key,NOT_SET);return v!==NOT_SET&&!!predicate.call(context,v,key,iterable);};filterSequence.get=function(key,notSetValue){var v=iterable.get(key,NOT_SET);return v!==NOT_SET&&predicate.call(context,v,key,iterable)?v:notSetValue;};}
filterSequence.__iterateUncached=function(fn,reverse){var this$0=this;var iterations=0;iterable.__iterate(function(v,k,c){if(predicate.call(context,v,k,c)){iterations++;return fn(v,useKeys?k:iterations-1,this$0);}},reverse);return iterations;};filterSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);var iterations=0;return new Iterator(function(){while(true){var step=iterator.next();if(step.done){return step;}
var entry=step.value;var key=entry[0];var value=entry[1];if(predicate.call(context,value,key,iterable)){return iteratorValue(type,useKeys?key:iterations++,value,step);}}});}
return filterSequence;}
function countByFactory(iterable,grouper,context){var groups=Map().asMutable();iterable.__iterate(function(v,k){groups.update(grouper.call(context,v,k,iterable),0,function(a){return a+1});});return groups.asImmutable();}
function groupByFactory(iterable,grouper,context){var isKeyedIter=isKeyed(iterable);var groups=(isOrdered(iterable)?OrderedMap():Map()).asMutable();iterable.__iterate(function(v,k){groups.update(grouper.call(context,v,k,iterable),function(a){return(a=a||[],a.push(isKeyedIter?[k,v]:v),a)});});var coerce=iterableClass(iterable);return groups.map(function(arr){return reify(iterable,coerce(arr))});}
function sliceFactory(iterable,begin,end,useKeys){var originalSize=iterable.size;if(begin!==undefined){begin=begin|0;}
if(end!==undefined){end=end|0;}
if(wholeSlice(begin,end,originalSize)){return iterable;}
var resolvedBegin=resolveBegin(begin,originalSize);var resolvedEnd=resolveEnd(end,originalSize);if(resolvedBegin!==resolvedBegin||resolvedEnd!==resolvedEnd){return sliceFactory(iterable.toSeq().cacheResult(),begin,end,useKeys);}
var resolvedSize=resolvedEnd-resolvedBegin;var sliceSize;if(resolvedSize===resolvedSize){sliceSize=resolvedSize<0?0:resolvedSize;}
var sliceSeq=makeSequence(iterable);sliceSeq.size=sliceSize===0?sliceSize:iterable.size&&sliceSize||undefined;if(!useKeys&&isSeq(iterable)&&sliceSize>=0){sliceSeq.get=function(index,notSetValue){index=wrapIndex(this,index);return index>=0&&index<sliceSize?iterable.get(index+resolvedBegin,notSetValue):notSetValue;}}
sliceSeq.__iterateUncached=function(fn,reverse){var this$0=this;if(sliceSize===0){return 0;}
if(reverse){return this.cacheResult().__iterate(fn,reverse);}
var skipped=0;var isSkipping=true;var iterations=0;iterable.__iterate(function(v,k){if(!(isSkipping&&(isSkipping=skipped++<resolvedBegin))){iterations++;return fn(v,useKeys?k:iterations-1,this$0)!==false&&iterations!==sliceSize;}});return iterations;};sliceSeq.__iteratorUncached=function(type,reverse){if(sliceSize!==0&&reverse){return this.cacheResult().__iterator(type,reverse);}
var iterator=sliceSize!==0&&iterable.__iterator(type,reverse);var skipped=0;var iterations=0;return new Iterator(function(){while(skipped++<resolvedBegin){iterator.next();}
if(++iterations>sliceSize){return iteratorDone();}
var step=iterator.next();if(useKeys||type===ITERATE_VALUES){return step;}else if(type===ITERATE_KEYS){return iteratorValue(type,iterations-1,undefined,step);}else{return iteratorValue(type,iterations-1,step.value[1],step);}});}
return sliceSeq;}
function takeWhileFactory(iterable,predicate,context){var takeSequence=makeSequence(iterable);takeSequence.__iterateUncached=function(fn,reverse){var this$0=this;if(reverse){return this.cacheResult().__iterate(fn,reverse);}
var iterations=0;iterable.__iterate(function(v,k,c)
{return predicate.call(context,v,k,c)&&++iterations&&fn(v,k,this$0)});return iterations;};takeSequence.__iteratorUncached=function(type,reverse){var this$0=this;if(reverse){return this.cacheResult().__iterator(type,reverse);}
var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);var iterating=true;return new Iterator(function(){if(!iterating){return iteratorDone();}
var step=iterator.next();if(step.done){return step;}
var entry=step.value;var k=entry[0];var v=entry[1];if(!predicate.call(context,v,k,this$0)){iterating=false;return iteratorDone();}
return type===ITERATE_ENTRIES?step:iteratorValue(type,k,v,step);});};return takeSequence;}
function skipWhileFactory(iterable,predicate,context,useKeys){var skipSequence=makeSequence(iterable);skipSequence.__iterateUncached=function(fn,reverse){var this$0=this;if(reverse){return this.cacheResult().__iterate(fn,reverse);}
var isSkipping=true;var iterations=0;iterable.__iterate(function(v,k,c){if(!(isSkipping&&(isSkipping=predicate.call(context,v,k,c)))){iterations++;return fn(v,useKeys?k:iterations-1,this$0);}});return iterations;};skipSequence.__iteratorUncached=function(type,reverse){var this$0=this;if(reverse){return this.cacheResult().__iterator(type,reverse);}
var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);var skipping=true;var iterations=0;return new Iterator(function(){var step,k,v;do{step=iterator.next();if(step.done){if(useKeys||type===ITERATE_VALUES){return step;}else if(type===ITERATE_KEYS){return iteratorValue(type,iterations++,undefined,step);}else{return iteratorValue(type,iterations++,step.value[1],step);}}
var entry=step.value;k=entry[0];v=entry[1];skipping&&(skipping=predicate.call(context,v,k,this$0));}while(skipping);return type===ITERATE_ENTRIES?step:iteratorValue(type,k,v,step);});};return skipSequence;}
function concatFactory(iterable,values){var isKeyedIterable=isKeyed(iterable);var iters=[iterable].concat(values).map(function(v){if(!isIterable(v)){v=isKeyedIterable?keyedSeqFromValue(v):indexedSeqFromValue(Array.isArray(v)?v:[v]);}else if(isKeyedIterable){v=KeyedIterable(v);}
return v;}).filter(function(v){return v.size!==0});if(iters.length===0){return iterable;}
if(iters.length===1){var singleton=iters[0];if(singleton===iterable||isKeyedIterable&&isKeyed(singleton)||isIndexed(iterable)&&isIndexed(singleton)){return singleton;}}
var concatSeq=new ArraySeq(iters);if(isKeyedIterable){concatSeq=concatSeq.toKeyedSeq();}else if(!isIndexed(iterable)){concatSeq=concatSeq.toSetSeq();}
concatSeq=concatSeq.flatten(true);concatSeq.size=iters.reduce(function(sum,seq){if(sum!==undefined){var size=seq.size;if(size!==undefined){return sum+size;}}},0);return concatSeq;}
function flattenFactory(iterable,depth,useKeys){var flatSequence=makeSequence(iterable);flatSequence.__iterateUncached=function(fn,reverse){var iterations=0;var stopped=false;function flatDeep(iter,currentDepth){var this$0=this;iter.__iterate(function(v,k){if((!depth||currentDepth<depth)&&isIterable(v)){flatDeep(v,currentDepth+1);}else if(fn(v,useKeys?k:iterations++,this$0)===false){stopped=true;}
return!stopped;},reverse);}
flatDeep(iterable,0);return iterations;}
flatSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(type,reverse);var stack=[];var iterations=0;return new Iterator(function(){while(iterator){var step=iterator.next();if(step.done!==false){iterator=stack.pop();continue;}
var v=step.value;if(type===ITERATE_ENTRIES){v=v[1];}
if((!depth||stack.length<depth)&&isIterable(v)){stack.push(iterator);iterator=v.__iterator(type,reverse);}else{return useKeys?step:iteratorValue(type,iterations++,v,step);}}
return iteratorDone();});}
return flatSequence;}
function flatMapFactory(iterable,mapper,context){var coerce=iterableClass(iterable);return iterable.toSeq().map(function(v,k){return coerce(mapper.call(context,v,k,iterable))}).flatten(true);}
function interposeFactory(iterable,separator){var interposedSequence=makeSequence(iterable);interposedSequence.size=iterable.size&&iterable.size*2-1;interposedSequence.__iterateUncached=function(fn,reverse){var this$0=this;var iterations=0;iterable.__iterate(function(v,k)
{return(!iterations||fn(separator,iterations++,this$0)!==false)&&fn(v,iterations++,this$0)!==false},reverse);return iterations;};interposedSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_VALUES,reverse);var iterations=0;var step;return new Iterator(function(){if(!step||iterations%2){step=iterator.next();if(step.done){return step;}}
return iterations%2?iteratorValue(type,iterations++,separator):iteratorValue(type,iterations++,step.value,step);});};return interposedSequence;}
function sortFactory(iterable,comparator,mapper){if(!comparator){comparator=defaultComparator;}
var isKeyedIterable=isKeyed(iterable);var index=0;var entries=iterable.toSeq().map(function(v,k){return[k,v,index++,mapper?mapper(v,k,iterable):v]}).toArray();entries.sort(function(a,b){return comparator(a[3],b[3])||a[2]-b[2]}).forEach(isKeyedIterable?function(v,i){entries[i].length=2;}:function(v,i){entries[i]=v[1];});return isKeyedIterable?KeyedSeq(entries):isIndexed(iterable)?IndexedSeq(entries):SetSeq(entries);}
function maxFactory(iterable,comparator,mapper){if(!comparator){comparator=defaultComparator;}
if(mapper){var entry=iterable.toSeq().map(function(v,k){return[v,mapper(v,k,iterable)]}).reduce(function(a,b){return maxCompare(comparator,a[1],b[1])?b:a});return entry&&entry[0];}else{return iterable.reduce(function(a,b){return maxCompare(comparator,a,b)?b:a});}}
function maxCompare(comparator,a,b){var comp=comparator(b,a);return(comp===0&&b!==a&&(b===undefined||b===null||b!==b))||comp>0;}
function zipWithFactory(keyIter,zipper,iters){var zipSequence=makeSequence(keyIter);zipSequence.size=new ArraySeq(iters).map(function(i){return i.size}).min();zipSequence.__iterate=function(fn,reverse){var iterator=this.__iterator(ITERATE_VALUES,reverse);var step;var iterations=0;while(!(step=iterator.next()).done){if(fn(step.value,iterations++,this)===false){break;}}
return iterations;};zipSequence.__iteratorUncached=function(type,reverse){var iterators=iters.map(function(i)
{return(i=Iterable(i),getIterator(reverse?i.reverse():i))});var iterations=0;var isDone=false;return new Iterator(function(){var steps;if(!isDone){steps=iterators.map(function(i){return i.next()});isDone=steps.some(function(s){return s.done});}
if(isDone){return iteratorDone();}
return iteratorValue(type,iterations++,zipper.apply(null,steps.map(function(s){return s.value})));});};return zipSequence}
function reify(iter,seq){return isSeq(iter)?seq:iter.constructor(seq);}
function validateEntry(entry){if(entry!==Object(entry)){throw new TypeError('Expected [K, V] tuple: '+entry);}}
function resolveSize(iter){assertNotInfinite(iter.size);return ensureSize(iter);}
function iterableClass(iterable){return isKeyed(iterable)?KeyedIterable:isIndexed(iterable)?IndexedIterable:SetIterable;}
function makeSequence(iterable){return Object.create((isKeyed(iterable)?KeyedSeq:isIndexed(iterable)?IndexedSeq:SetSeq).prototype);}
function cacheResultThrough(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this;}else{return Seq.prototype.cacheResult.call(this);}}
function defaultComparator(a,b){return a>b?1:a<b?-1:0;}
function forceIterator(keyPath){var iter=getIterator(keyPath);if(!iter){if(!isArrayLike(keyPath)){throw new TypeError('Expected iterable or array-like: '+keyPath);}
iter=getIterator(Iterable(keyPath));}
return iter;}
createClass(Record,KeyedCollection);function Record(defaultValues,name){var hasInitialized;var RecordType=function Record(values){if(values instanceof RecordType){return values;}
if(!(this instanceof RecordType)){return new RecordType(values);}
if(!hasInitialized){hasInitialized=true;var keys=Object.keys(defaultValues);setProps(RecordTypePrototype,keys);RecordTypePrototype.size=keys.length;RecordTypePrototype._name=name;RecordTypePrototype._keys=keys;RecordTypePrototype._defaultValues=defaultValues;}
this._map=Map(values);};var RecordTypePrototype=RecordType.prototype=Object.create(RecordPrototype);RecordTypePrototype.constructor=RecordType;return RecordType;}
Record.prototype.toString=function(){return this.__toString(recordName(this)+' {','}');};Record.prototype.has=function(k){return this._defaultValues.hasOwnProperty(k);};Record.prototype.get=function(k,notSetValue){if(!this.has(k)){return notSetValue;}
var defaultVal=this._defaultValues[k];return this._map?this._map.get(k,defaultVal):defaultVal;};Record.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this;}
var RecordType=this.constructor;return RecordType._empty||(RecordType._empty=makeRecord(this,emptyMap()));};Record.prototype.set=function(k,v){if(!this.has(k)){throw new Error('Cannot set unknown key "'+k+'" on '+recordName(this));}
var newMap=this._map&&this._map.set(k,v);if(this.__ownerID||newMap===this._map){return this;}
return makeRecord(this,newMap);};Record.prototype.remove=function(k){if(!this.has(k)){return this;}
var newMap=this._map&&this._map.remove(k);if(this.__ownerID||newMap===this._map){return this;}
return makeRecord(this,newMap);};Record.prototype.wasAltered=function(){return this._map.wasAltered();};Record.prototype.__iterator=function(type,reverse){var this$0=this;return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k)}).__iterator(type,reverse);};Record.prototype.__iterate=function(fn,reverse){var this$0=this;return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k)}).__iterate(fn,reverse);};Record.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this;}
var newMap=this._map&&this._map.__ensureOwner(ownerID);if(!ownerID){this.__ownerID=ownerID;this._map=newMap;return this;}
return makeRecord(this,newMap,ownerID);};var RecordPrototype=Record.prototype;RecordPrototype[DELETE]=RecordPrototype.remove;RecordPrototype.deleteIn=RecordPrototype.removeIn=MapPrototype.removeIn;RecordPrototype.merge=MapPrototype.merge;RecordPrototype.mergeWith=MapPrototype.mergeWith;RecordPrototype.mergeIn=MapPrototype.mergeIn;RecordPrototype.mergeDeep=MapPrototype.mergeDeep;RecordPrototype.mergeDeepWith=MapPrototype.mergeDeepWith;RecordPrototype.mergeDeepIn=MapPrototype.mergeDeepIn;RecordPrototype.setIn=MapPrototype.setIn;RecordPrototype.update=MapPrototype.update;RecordPrototype.updateIn=MapPrototype.updateIn;RecordPrototype.withMutations=MapPrototype.withMutations;RecordPrototype.asMutable=MapPrototype.asMutable;RecordPrototype.asImmutable=MapPrototype.asImmutable;function makeRecord(likeRecord,map,ownerID){var record=Object.create(Object.getPrototypeOf(likeRecord));record._map=map;record.__ownerID=ownerID;return record;}
function recordName(record){return record._name||record.constructor.name||'Record';}
function setProps(prototype,names){try{names.forEach(setProp.bind(undefined,prototype));}catch(error){}}
function setProp(prototype,name){Object.defineProperty(prototype,name,{get:function(){return this.get(name);},set:function(value){invariant(this.__ownerID,'Cannot set on an immutable record.');this.set(name,value);}});}
createClass(Set,SetCollection);function Set(value){return value===null||value===undefined?emptySet():isSet(value)&&!isOrdered(value)?value:emptySet().withMutations(function(set){var iter=SetIterable(value);assertNotInfinite(iter.size);iter.forEach(function(v){return set.add(v)});});}
Set.of=function(){return this(arguments);};Set.fromKeys=function(value){return this(KeyedIterable(value).keySeq());};Set.prototype.toString=function(){return this.__toString('Set {','}');};Set.prototype.has=function(value){return this._map.has(value);};Set.prototype.add=function(value){return updateSet(this,this._map.set(value,true));};Set.prototype.remove=function(value){return updateSet(this,this._map.remove(value));};Set.prototype.clear=function(){return updateSet(this,this._map.clear());};Set.prototype.union=function(){var iters=SLICE$0.call(arguments,0);iters=iters.filter(function(x){return x.size!==0});if(iters.length===0){return this;}
if(this.size===0&&!this.__ownerID&&iters.length===1){return this.constructor(iters[0]);}
return this.withMutations(function(set){for(var ii=0;ii<iters.length;ii++){SetIterable(iters[ii]).forEach(function(value){return set.add(value)});}});};Set.prototype.intersect=function(){var iters=SLICE$0.call(arguments,0);if(iters.length===0){return this;}
iters=iters.map(function(iter){return SetIterable(iter)});var originalSet=this;return this.withMutations(function(set){originalSet.forEach(function(value){if(!iters.every(function(iter){return iter.includes(value)})){set.remove(value);}});});};Set.prototype.subtract=function(){var iters=SLICE$0.call(arguments,0);if(iters.length===0){return this;}
iters=iters.map(function(iter){return SetIterable(iter)});var originalSet=this;return this.withMutations(function(set){originalSet.forEach(function(value){if(iters.some(function(iter){return iter.includes(value)})){set.remove(value);}});});};Set.prototype.merge=function(){return this.union.apply(this,arguments);};Set.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return this.union.apply(this,iters);};Set.prototype.sort=function(comparator){return OrderedSet(sortFactory(this,comparator));};Set.prototype.sortBy=function(mapper,comparator){return OrderedSet(sortFactory(this,comparator,mapper));};Set.prototype.wasAltered=function(){return this._map.wasAltered();};Set.prototype.__iterate=function(fn,reverse){var this$0=this;return this._map.__iterate(function(_,k){return fn(k,k,this$0)},reverse);};Set.prototype.__iterator=function(type,reverse){return this._map.map(function(_,k){return k}).__iterator(type,reverse);};Set.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this;}
var newMap=this._map.__ensureOwner(ownerID);if(!ownerID){this.__ownerID=ownerID;this._map=newMap;return this;}
return this.__make(newMap,ownerID);};function isSet(maybeSet){return!!(maybeSet&&maybeSet[IS_SET_SENTINEL]);}
Set.isSet=isSet;var IS_SET_SENTINEL='@@__IMMUTABLE_SET__@@';var SetPrototype=Set.prototype;SetPrototype[IS_SET_SENTINEL]=true;SetPrototype[DELETE]=SetPrototype.remove;SetPrototype.mergeDeep=SetPrototype.merge;SetPrototype.mergeDeepWith=SetPrototype.mergeWith;SetPrototype.withMutations=MapPrototype.withMutations;SetPrototype.asMutable=MapPrototype.asMutable;SetPrototype.asImmutable=MapPrototype.asImmutable;SetPrototype.__empty=emptySet;SetPrototype.__make=makeSet;function updateSet(set,newMap){if(set.__ownerID){set.size=newMap.size;set._map=newMap;return set;}
return newMap===set._map?set:newMap.size===0?set.__empty():set.__make(newMap);}
function makeSet(map,ownerID){var set=Object.create(SetPrototype);set.size=map?map.size:0;set._map=map;set.__ownerID=ownerID;return set;}
var EMPTY_SET;function emptySet(){return EMPTY_SET||(EMPTY_SET=makeSet(emptyMap()));}
createClass(OrderedSet,Set);function OrderedSet(value){return value===null||value===undefined?emptyOrderedSet():isOrderedSet(value)?value:emptyOrderedSet().withMutations(function(set){var iter=SetIterable(value);assertNotInfinite(iter.size);iter.forEach(function(v){return set.add(v)});});}
OrderedSet.of=function(){return this(arguments);};OrderedSet.fromKeys=function(value){return this(KeyedIterable(value).keySeq());};OrderedSet.prototype.toString=function(){return this.__toString('OrderedSet {','}');};function isOrderedSet(maybeOrderedSet){return isSet(maybeOrderedSet)&&isOrdered(maybeOrderedSet);}
OrderedSet.isOrderedSet=isOrderedSet;var OrderedSetPrototype=OrderedSet.prototype;OrderedSetPrototype[IS_ORDERED_SENTINEL]=true;OrderedSetPrototype.__empty=emptyOrderedSet;OrderedSetPrototype.__make=makeOrderedSet;function makeOrderedSet(map,ownerID){var set=Object.create(OrderedSetPrototype);set.size=map?map.size:0;set._map=map;set.__ownerID=ownerID;return set;}
var EMPTY_ORDERED_SET;function emptyOrderedSet(){return EMPTY_ORDERED_SET||(EMPTY_ORDERED_SET=makeOrderedSet(emptyOrderedMap()));}
createClass(Stack,IndexedCollection);function Stack(value){return value===null||value===undefined?emptyStack():isStack(value)?value:emptyStack().unshiftAll(value);}
Stack.of=function(){return this(arguments);};Stack.prototype.toString=function(){return this.__toString('Stack [',']');};Stack.prototype.get=function(index,notSetValue){var head=this._head;index=wrapIndex(this,index);while(head&&index--){head=head.next;}
return head?head.value:notSetValue;};Stack.prototype.peek=function(){return this._head&&this._head.value;};Stack.prototype.push=function(){if(arguments.length===0){return this;}
var newSize=this.size+arguments.length;var head=this._head;for(var ii=arguments.length-1;ii>=0;ii--){head={value:arguments[ii],next:head};}
if(this.__ownerID){this.size=newSize;this._head=head;this.__hash=undefined;this.__altered=true;return this;}
return makeStack(newSize,head);};Stack.prototype.pushAll=function(iter){iter=IndexedIterable(iter);if(iter.size===0){return this;}
assertNotInfinite(iter.size);var newSize=this.size;var head=this._head;iter.reverse().forEach(function(value){newSize++;head={value:value,next:head};});if(this.__ownerID){this.size=newSize;this._head=head;this.__hash=undefined;this.__altered=true;return this;}
return makeStack(newSize,head);};Stack.prototype.pop=function(){return this.slice(1);};Stack.prototype.unshift=function(){return this.push.apply(this,arguments);};Stack.prototype.unshiftAll=function(iter){return this.pushAll(iter);};Stack.prototype.shift=function(){return this.pop.apply(this,arguments);};Stack.prototype.clear=function(){if(this.size===0){return this;}
if(this.__ownerID){this.size=0;this._head=undefined;this.__hash=undefined;this.__altered=true;return this;}
return emptyStack();};Stack.prototype.slice=function(begin,end){if(wholeSlice(begin,end,this.size)){return this;}
var resolvedBegin=resolveBegin(begin,this.size);var resolvedEnd=resolveEnd(end,this.size);if(resolvedEnd!==this.size){return IndexedCollection.prototype.slice.call(this,begin,end);}
var newSize=this.size-resolvedBegin;var head=this._head;while(resolvedBegin--){head=head.next;}
if(this.__ownerID){this.size=newSize;this._head=head;this.__hash=undefined;this.__altered=true;return this;}
return makeStack(newSize,head);};Stack.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this;}
if(!ownerID){this.__ownerID=ownerID;this.__altered=false;return this;}
return makeStack(this.size,this._head,ownerID,this.__hash);};Stack.prototype.__iterate=function(fn,reverse){if(reverse){return this.reverse().__iterate(fn);}
var iterations=0;var node=this._head;while(node){if(fn(node.value,iterations++,this)===false){break;}
node=node.next;}
return iterations;};Stack.prototype.__iterator=function(type,reverse){if(reverse){return this.reverse().__iterator(type);}
var iterations=0;var node=this._head;return new Iterator(function(){if(node){var value=node.value;node=node.next;return iteratorValue(type,iterations++,value);}
return iteratorDone();});};function isStack(maybeStack){return!!(maybeStack&&maybeStack[IS_STACK_SENTINEL]);}
Stack.isStack=isStack;var IS_STACK_SENTINEL='@@__IMMUTABLE_STACK__@@';var StackPrototype=Stack.prototype;StackPrototype[IS_STACK_SENTINEL]=true;StackPrototype.withMutations=MapPrototype.withMutations;StackPrototype.asMutable=MapPrototype.asMutable;StackPrototype.asImmutable=MapPrototype.asImmutable;StackPrototype.wasAltered=MapPrototype.wasAltered;function makeStack(size,head,ownerID,hash){var map=Object.create(StackPrototype);map.size=size;map._head=head;map.__ownerID=ownerID;map.__hash=hash;map.__altered=false;return map;}
var EMPTY_STACK;function emptyStack(){return EMPTY_STACK||(EMPTY_STACK=makeStack(0));}
function mixin(ctor,methods){var keyCopier=function(key){ctor.prototype[key]=methods[key];};Object.keys(methods).forEach(keyCopier);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(methods).forEach(keyCopier);return ctor;}
Iterable.Iterator=Iterator;mixin(Iterable,{toArray:function(){assertNotInfinite(this.size);var array=new Array(this.size||0);this.valueSeq().__iterate(function(v,i){array[i]=v;});return array;},toIndexedSeq:function(){return new ToIndexedSequence(this);},toJS:function(){return this.toSeq().map(function(value){return value&&typeof value.toJS==='function'?value.toJS():value}).__toJS();},toJSON:function(){return this.toSeq().map(function(value){return value&&typeof value.toJSON==='function'?value.toJSON():value}).__toJS();},toKeyedSeq:function(){return new ToKeyedSequence(this,true);},toMap:function(){return Map(this.toKeyedSeq());},toObject:function(){assertNotInfinite(this.size);var object={};this.__iterate(function(v,k){object[k]=v;});return object;},toOrderedMap:function(){return OrderedMap(this.toKeyedSeq());},toOrderedSet:function(){return OrderedSet(isKeyed(this)?this.valueSeq():this);},toSet:function(){return Set(isKeyed(this)?this.valueSeq():this);},toSetSeq:function(){return new ToSetSequence(this);},toSeq:function(){return isIndexed(this)?this.toIndexedSeq():isKeyed(this)?this.toKeyedSeq():this.toSetSeq();},toStack:function(){return Stack(isKeyed(this)?this.valueSeq():this);},toList:function(){return List(isKeyed(this)?this.valueSeq():this);},toString:function(){return'[Iterable]';},__toString:function(head,tail){if(this.size===0){return head+tail;}
return head+' '+this.toSeq().map(this.__toStringMapper).join(', ')+' '+tail;},concat:function(){var values=SLICE$0.call(arguments,0);return reify(this,concatFactory(this,values));},includes:function(searchValue){return this.some(function(value){return is(value,searchValue)});},entries:function(){return this.__iterator(ITERATE_ENTRIES);},every:function(predicate,context){assertNotInfinite(this.size);var returnValue=true;this.__iterate(function(v,k,c){if(!predicate.call(context,v,k,c)){returnValue=false;return false;}});return returnValue;},filter:function(predicate,context){return reify(this,filterFactory(this,predicate,context,true));},find:function(predicate,context,notSetValue){var entry=this.findEntry(predicate,context);return entry?entry[1]:notSetValue;},findEntry:function(predicate,context){var found;this.__iterate(function(v,k,c){if(predicate.call(context,v,k,c)){found=[k,v];return false;}});return found;},findLastEntry:function(predicate,context){return this.toSeq().reverse().findEntry(predicate,context);},forEach:function(sideEffect,context){assertNotInfinite(this.size);return this.__iterate(context?sideEffect.bind(context):sideEffect);},join:function(separator){assertNotInfinite(this.size);separator=separator!==undefined?''+separator:',';var joined='';var isFirst=true;this.__iterate(function(v){isFirst?(isFirst=false):(joined+=separator);joined+=v!==null&&v!==undefined?v.toString():'';});return joined;},keys:function(){return this.__iterator(ITERATE_KEYS);},map:function(mapper,context){return reify(this,mapFactory(this,mapper,context));},reduce:function(reducer,initialReduction,context){assertNotInfinite(this.size);var reduction;var useFirst;if(arguments.length<2){useFirst=true;}else{reduction=initialReduction;}
this.__iterate(function(v,k,c){if(useFirst){useFirst=false;reduction=v;}else{reduction=reducer.call(context,reduction,v,k,c);}});return reduction;},reduceRight:function(reducer,initialReduction,context){var reversed=this.toKeyedSeq().reverse();return reversed.reduce.apply(reversed,arguments);},reverse:function(){return reify(this,reverseFactory(this,true));},slice:function(begin,end){return reify(this,sliceFactory(this,begin,end,true));},some:function(predicate,context){return!this.every(not(predicate),context);},sort:function(comparator){return reify(this,sortFactory(this,comparator));},values:function(){return this.__iterator(ITERATE_VALUES);},butLast:function(){return this.slice(0,-1);},isEmpty:function(){return this.size!==undefined?this.size===0:!this.some(function(){return true});},count:function(predicate,context){return ensureSize(predicate?this.toSeq().filter(predicate,context):this);},countBy:function(grouper,context){return countByFactory(this,grouper,context);},equals:function(other){return deepEqual(this,other);},entrySeq:function(){var iterable=this;if(iterable._cache){return new ArraySeq(iterable._cache);}
var entriesSequence=iterable.toSeq().map(entryMapper).toIndexedSeq();entriesSequence.fromEntrySeq=function(){return iterable.toSeq()};return entriesSequence;},filterNot:function(predicate,context){return this.filter(not(predicate),context);},findLast:function(predicate,context,notSetValue){return this.toKeyedSeq().reverse().find(predicate,context,notSetValue);},first:function(){return this.find(returnTrue);},flatMap:function(mapper,context){return reify(this,flatMapFactory(this,mapper,context));},flatten:function(depth){return reify(this,flattenFactory(this,depth,true));},fromEntrySeq:function(){return new FromEntriesSequence(this);},get:function(searchKey,notSetValue){return this.find(function(_,key){return is(key,searchKey)},undefined,notSetValue);},getIn:function(searchKeyPath,notSetValue){var nested=this;var iter=forceIterator(searchKeyPath);var step;while(!(step=iter.next()).done){var key=step.value;nested=nested&&nested.get?nested.get(key,NOT_SET):NOT_SET;if(nested===NOT_SET){return notSetValue;}}
return nested;},groupBy:function(grouper,context){return groupByFactory(this,grouper,context);},has:function(searchKey){return this.get(searchKey,NOT_SET)!==NOT_SET;},hasIn:function(searchKeyPath){return this.getIn(searchKeyPath,NOT_SET)!==NOT_SET;},isSubset:function(iter){iter=typeof iter.includes==='function'?iter:Iterable(iter);return this.every(function(value){return iter.includes(value)});},isSuperset:function(iter){iter=typeof iter.isSubset==='function'?iter:Iterable(iter);return iter.isSubset(this);},keySeq:function(){return this.toSeq().map(keyMapper).toIndexedSeq();},last:function(){return this.toSeq().reverse().first();},max:function(comparator){return maxFactory(this,comparator);},maxBy:function(mapper,comparator){return maxFactory(this,comparator,mapper);},min:function(comparator){return maxFactory(this,comparator?neg(comparator):defaultNegComparator);},minBy:function(mapper,comparator){return maxFactory(this,comparator?neg(comparator):defaultNegComparator,mapper);},rest:function(){return this.slice(1);},skip:function(amount){return this.slice(Math.max(0,amount));},skipLast:function(amount){return reify(this,this.toSeq().reverse().skip(amount).reverse());},skipWhile:function(predicate,context){return reify(this,skipWhileFactory(this,predicate,context,true));},skipUntil:function(predicate,context){return this.skipWhile(not(predicate),context);},sortBy:function(mapper,comparator){return reify(this,sortFactory(this,comparator,mapper));},take:function(amount){return this.slice(0,Math.max(0,amount));},takeLast:function(amount){return reify(this,this.toSeq().reverse().take(amount).reverse());},takeWhile:function(predicate,context){return reify(this,takeWhileFactory(this,predicate,context));},takeUntil:function(predicate,context){return this.takeWhile(not(predicate),context);},valueSeq:function(){return this.toIndexedSeq();},hashCode:function(){return this.__hash||(this.__hash=hashIterable(this));}});var IterablePrototype=Iterable.prototype;IterablePrototype[IS_ITERABLE_SENTINEL]=true;IterablePrototype[ITERATOR_SYMBOL]=IterablePrototype.values;IterablePrototype.__toJS=IterablePrototype.toArray;IterablePrototype.__toStringMapper=quoteString;IterablePrototype.inspect=IterablePrototype.toSource=function(){return this.toString();};IterablePrototype.chain=IterablePrototype.flatMap;IterablePrototype.contains=IterablePrototype.includes;(function(){try{Object.defineProperty(IterablePrototype,'length',{get:function(){if(!Iterable.noLengthWarning){var stack;try{throw new Error();}catch(error){stack=error.stack;}
if(stack.indexOf('_wrapObject')===-1){console&&console.warn&&console.warn('iterable.length has been deprecated, '+'use iterable.size or iterable.count(). '+'This warning will become a silent error in a future version. '+
stack);return this.size;}}}});}catch(e){}})();mixin(KeyedIterable,{flip:function(){return reify(this,flipFactory(this));},findKey:function(predicate,context){var entry=this.findEntry(predicate,context);return entry&&entry[0];},findLastKey:function(predicate,context){return this.toSeq().reverse().findKey(predicate,context);},keyOf:function(searchValue){return this.findKey(function(value){return is(value,searchValue)});},lastKeyOf:function(searchValue){return this.findLastKey(function(value){return is(value,searchValue)});},mapEntries:function(mapper,context){var this$0=this;var iterations=0;return reify(this,this.toSeq().map(function(v,k){return mapper.call(context,[k,v],iterations++,this$0)}).fromEntrySeq());},mapKeys:function(mapper,context){var this$0=this;return reify(this,this.toSeq().flip().map(function(k,v){return mapper.call(context,k,v,this$0)}).flip());}});var KeyedIterablePrototype=KeyedIterable.prototype;KeyedIterablePrototype[IS_KEYED_SENTINEL]=true;KeyedIterablePrototype[ITERATOR_SYMBOL]=IterablePrototype.entries;KeyedIterablePrototype.__toJS=IterablePrototype.toObject;KeyedIterablePrototype.__toStringMapper=function(v,k){return JSON.stringify(k)+': '+quoteString(v)};mixin(IndexedIterable,{toKeyedSeq:function(){return new ToKeyedSequence(this,false);},filter:function(predicate,context){return reify(this,filterFactory(this,predicate,context,false));},findIndex:function(predicate,context){var entry=this.findEntry(predicate,context);return entry?entry[0]:-1;},indexOf:function(searchValue){var key=this.toKeyedSeq().keyOf(searchValue);return key===undefined?-1:key;},lastIndexOf:function(searchValue){var key=this.toKeyedSeq().reverse().keyOf(searchValue);return key===undefined?-1:key;},reverse:function(){return reify(this,reverseFactory(this,false));},slice:function(begin,end){return reify(this,sliceFactory(this,begin,end,false));},splice:function(index,removeNum){var numArgs=arguments.length;removeNum=Math.max(removeNum|0,0);if(numArgs===0||(numArgs===2&&!removeNum)){return this;}
index=resolveBegin(index,index<0?this.count():this.size);var spliced=this.slice(0,index);return reify(this,numArgs===1?spliced:spliced.concat(arrCopy(arguments,2),this.slice(index+removeNum)));},findLastIndex:function(predicate,context){var key=this.toKeyedSeq().findLastKey(predicate,context);return key===undefined?-1:key;},first:function(){return this.get(0);},flatten:function(depth){return reify(this,flattenFactory(this,depth,false));},get:function(index,notSetValue){index=wrapIndex(this,index);return(index<0||(this.size===Infinity||(this.size!==undefined&&index>this.size)))?notSetValue:this.find(function(_,key){return key===index},undefined,notSetValue);},has:function(index){index=wrapIndex(this,index);return index>=0&&(this.size!==undefined?this.size===Infinity||index<this.size:this.indexOf(index)!==-1);},interpose:function(separator){return reify(this,interposeFactory(this,separator));},interleave:function(){var iterables=[this].concat(arrCopy(arguments));var zipped=zipWithFactory(this.toSeq(),IndexedSeq.of,iterables);var interleaved=zipped.flatten(true);if(zipped.size){interleaved.size=zipped.size*iterables.length;}
return reify(this,interleaved);},last:function(){return this.get(-1);},skipWhile:function(predicate,context){return reify(this,skipWhileFactory(this,predicate,context,false));},zip:function(){var iterables=[this].concat(arrCopy(arguments));return reify(this,zipWithFactory(this,defaultZipper,iterables));},zipWith:function(zipper){var iterables=arrCopy(arguments);iterables[0]=this;return reify(this,zipWithFactory(this,zipper,iterables));}});IndexedIterable.prototype[IS_INDEXED_SENTINEL]=true;IndexedIterable.prototype[IS_ORDERED_SENTINEL]=true;mixin(SetIterable,{get:function(value,notSetValue){return this.has(value)?value:notSetValue;},includes:function(value){return this.has(value);},keySeq:function(){return this.valueSeq();}});SetIterable.prototype.has=IterablePrototype.includes;mixin(KeyedSeq,KeyedIterable.prototype);mixin(IndexedSeq,IndexedIterable.prototype);mixin(SetSeq,SetIterable.prototype);mixin(KeyedCollection,KeyedIterable.prototype);mixin(IndexedCollection,IndexedIterable.prototype);mixin(SetCollection,SetIterable.prototype);function keyMapper(v,k){return k;}
function entryMapper(v,k){return[k,v];}
function not(predicate){return function(){return!predicate.apply(this,arguments);}}
function neg(predicate){return function(){return-predicate.apply(this,arguments);}}
function quoteString(value){return typeof value==='string'?JSON.stringify(value):value;}
function defaultZipper(){return arrCopy(arguments);}
function defaultNegComparator(a,b){return a<b?1:a>b?-1:0;}
function hashIterable(iterable){if(iterable.size===Infinity){return 0;}
var ordered=isOrdered(iterable);var keyed=isKeyed(iterable);var h=ordered?1:0;var size=iterable.__iterate(keyed?ordered?function(v,k){h=31*h+hashMerge(hash(v),hash(k))|0;}:function(v,k){h=h+hashMerge(hash(v),hash(k))|0;}:ordered?function(v){h=31*h+hash(v)|0;}:function(v){h=h+hash(v)|0;});return murmurHashOfSize(size,h);}
function murmurHashOfSize(size,h){h=imul(h,0xCC9E2D51);h=imul(h<<15|h>>>-15,0x1B873593);h=imul(h<<13|h>>>-13,5);h=(h+0xE6546B64|0)^size;h=imul(h^h>>>16,0x85EBCA6B);h=imul(h^h>>>13,0xC2B2AE35);h=smi(h^h>>>16);return h;}
function hashMerge(a,b){return a^b+0x9E3779B9+(a<<6)+(a>>2)|0;}
var Immutable={Iterable:Iterable,Seq:Seq,Collection:Collection,Map:Map,OrderedMap:OrderedMap,List:List,Stack:Stack,Set:Set,OrderedSet:OrderedSet,Record:Record,Range:Range,Repeat:Repeat,is:is,fromJS:fromJS};return Immutable;}));},{}],59:[function(require,module,exports){(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):global.moment=factory()}(this,function(){'use strict';var hookCallback;function utils_hooks__hooks(){return hookCallback.apply(null,arguments);}
function setHookCallback(callback){hookCallback=callback;}
function isArray(input){return Object.prototype.toString.call(input)==='[object Array]';}
function isDate(input){return input instanceof Date||Object.prototype.toString.call(input)==='[object Date]';}
function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i){res.push(fn(arr[i],i));}
return res;}
function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b);}
function extend(a,b){for(var i in b){if(hasOwnProp(b,i)){a[i]=b[i];}}
if(hasOwnProp(b,'toString')){a.toString=b.toString;}
if(hasOwnProp(b,'valueOf')){a.valueOf=b.valueOf;}
return a;}
function create_utc__createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,true).utc();}
function defaultParsingFlags(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false};}
function getParsingFlags(m){if(m._pf==null){m._pf=defaultParsingFlags();}
return m._pf;}
function valid__isValid(m){if(m._isValid==null){var flags=getParsingFlags(m);m._isValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated;if(m._strict){m._isValid=m._isValid&&flags.charsLeftOver===0&&flags.unusedTokens.length===0&&flags.bigHour===undefined;}}
return m._isValid;}
function valid__createInvalid(flags){var m=create_utc__createUTC(NaN);if(flags!=null){extend(getParsingFlags(m),flags);}
else{getParsingFlags(m).userInvalidated=true;}
return m;}
var momentProperties=utils_hooks__hooks.momentProperties=[];function copyConfig(to,from){var i,prop,val;if(typeof from._isAMomentObject!=='undefined'){to._isAMomentObject=from._isAMomentObject;}
if(typeof from._i!=='undefined'){to._i=from._i;}
if(typeof from._f!=='undefined'){to._f=from._f;}
if(typeof from._l!=='undefined'){to._l=from._l;}
if(typeof from._strict!=='undefined'){to._strict=from._strict;}
if(typeof from._tzm!=='undefined'){to._tzm=from._tzm;}
if(typeof from._isUTC!=='undefined'){to._isUTC=from._isUTC;}
if(typeof from._offset!=='undefined'){to._offset=from._offset;}
if(typeof from._pf!=='undefined'){to._pf=getParsingFlags(from);}
if(typeof from._locale!=='undefined'){to._locale=from._locale;}
if(momentProperties.length>0){for(i in momentProperties){prop=momentProperties[i];val=from[prop];if(typeof val!=='undefined'){to[prop]=val;}}}
return to;}
var updateInProgress=false;function Moment(config){copyConfig(this,config);this._d=new Date(config._d!=null?config._d.getTime():NaN);if(updateInProgress===false){updateInProgress=true;utils_hooks__hooks.updateOffset(this);updateInProgress=false;}}
function isMoment(obj){return obj instanceof Moment||(obj!=null&&obj._isAMomentObject!=null);}
function absFloor(number){if(number<0){return Math.ceil(number);}else{return Math.floor(number);}}
function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){value=absFloor(coercedNumber);}
return value;}
function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if((dontConvert&&array1[i]!==array2[i])||(!dontConvert&&toInt(array1[i])!==toInt(array2[i]))){diffs++;}}
return diffs+lengthDiff;}
function Locale(){}
var locales={};var globalLocale;function normalizeLocale(key){return key?key.toLowerCase().replace('_','-'):key;}
function chooseLocale(names){var i=0,j,next,locale,split;while(i<names.length){split=normalizeLocale(names[i]).split('-');j=split.length;next=normalizeLocale(names[i+1]);next=next?next.split('-'):null;while(j>0){locale=loadLocale(split.slice(0,j).join('-'));if(locale){return locale;}
if(next&&next.length>=j&&compareArrays(split,next,true)>=j-1){break;}
j--;}
i++;}
return null;}
function loadLocale(name){var oldLocale=null;if(!locales[name]&&typeof module!=='undefined'&&module&&module.exports){try{oldLocale=globalLocale._abbr;require('./locale/'+name);locale_locales__getSetGlobalLocale(oldLocale);}catch(e){}}
return locales[name];}
function locale_locales__getSetGlobalLocale(key,values){var data;if(key){if(typeof values==='undefined'){data=locale_locales__getLocale(key);}
else{data=defineLocale(key,values);}
if(data){globalLocale=data;}}
return globalLocale._abbr;}
function defineLocale(name,values){if(values!==null){values.abbr=name;locales[name]=locales[name]||new Locale();locales[name].set(values);locale_locales__getSetGlobalLocale(name);return locales[name];}else{delete locales[name];return null;}}
function locale_locales__getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr){key=key._locale._abbr;}
if(!key){return globalLocale;}
if(!isArray(key)){locale=loadLocale(key);if(locale){return locale;}
key=[key];}
return chooseLocale(key);}
var aliases={};function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+'s']=aliases[shorthand]=unit;}
function normalizeUnits(units){return typeof units==='string'?aliases[units]||aliases[units.toLowerCase()]:undefined;}
function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(hasOwnProp(inputObject,prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop];}}}
return normalizedInput;}
function makeGetSet(unit,keepTime){return function(value){if(value!=null){get_set__set(this,unit,value);utils_hooks__hooks.updateOffset(this,keepTime);return this;}else{return get_set__get(this,unit);}};}
function get_set__get(mom,unit){return mom._d['get'+(mom._isUTC?'UTC':'')+unit]();}
function get_set__set(mom,unit,value){return mom._d['set'+(mom._isUTC?'UTC':'')+unit](value);}
function getSet(units,value){var unit;if(typeof units==='object'){for(unit in units){this.set(unit,units[unit]);}}else{units=normalizeUnits(units);if(typeof this[units]==='function'){return this[units](value);}}
return this;}
function zeroFill(number,targetLength,forceSign){var absNumber=''+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?(forceSign?'+':''):'-')+
Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber;}
var formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var formatFunctions={};var formatTokenFunctions={};function addFormatToken(token,padded,ordinal,callback){var func=callback;if(typeof callback==='string'){func=function(){return this[callback]();};}
if(token){formatTokenFunctions[token]=func;}
if(padded){formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2]);};}
if(ordinal){formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token);};}}
function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,'');}
return input.replace(/\\/g,'');}
function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]];}else{array[i]=removeFormattingTokens(array[i]);}}
return function(mom){var output='';for(i=0;i<length;i++){output+=array[i]instanceof Function?array[i].call(mom,format):array[i];}
return output;};}
function formatMoment(m,format){if(!m.isValid()){return m.localeData().invalidDate();}
format=expandFormat(format,m.localeData());formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format);return formatFunctions[format](m);}
function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input;}
localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1;}
return format;}
var match1=/\d/;var match2=/\d\d/;var match3=/\d{3}/;var match4=/\d{4}/;var match6=/[+-]?\d{6}/;var match1to2=/\d\d?/;var match1to3=/\d{1,3}/;var match1to4=/\d{1,4}/;var match1to6=/[+-]?\d{1,6}/;var matchUnsigned=/\d+/;var matchSigned=/[+-]?\d+/;var matchOffset=/Z|[+-]\d\d:?\d\d/gi;var matchTimestamp=/[+-]?\d+(\.\d{1,3})?/;var matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var regexes={};function isFunction(sth){return typeof sth==='function'&&Object.prototype.toString.call(sth)==='[object Function]';}
function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict){return(isStrict&&strictRegex)?strictRegex:regex;};}
function getParseRegexForToken(token,config){if(!hasOwnProp(regexes,token)){return new RegExp(unescapeFormat(token));}
return regexes[token](config._strict,config._locale);}
function unescapeFormat(s){return s.replace('\\','').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4;}).replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&');}
var tokens={};function addParseToken(token,callback){var i,func=callback;if(typeof token==='string'){token=[token];}
if(typeof callback==='number'){func=function(input,array){array[callback]=toInt(input);};}
for(i=0;i<token.length;i++){tokens[token[i]]=func;}}
function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{};callback(input,config._w,config,token);});}
function addTimeToArrayFromToken(token,input,config){if(input!=null&&hasOwnProp(tokens,token)){tokens[token](input,config._a,config,token);}}
var YEAR=0;var MONTH=1;var DATE=2;var HOUR=3;var MINUTE=4;var SECOND=5;var MILLISECOND=6;function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate();}
addFormatToken('M',['MM',2],'Mo',function(){return this.month()+1;});addFormatToken('MMM',0,0,function(format){return this.localeData().monthsShort(this,format);});addFormatToken('MMMM',0,0,function(format){return this.localeData().months(this,format);});addUnitAlias('month','M');addRegexToken('M',match1to2);addRegexToken('MM',match1to2,match2);addRegexToken('MMM',matchWord);addRegexToken('MMMM',matchWord);addParseToken(['M','MM'],function(input,array){array[MONTH]=toInt(input)-1;});addParseToken(['MMM','MMMM'],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);if(month!=null){array[MONTH]=month;}else{getParsingFlags(config).invalidMonth=input;}});var defaultLocaleMonths='January_February_March_April_May_June_July_August_September_October_November_December'.split('_');function localeMonths(m){return this._months[m.month()];}
var defaultLocaleMonthsShort='Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');function localeMonthsShort(m){return this._monthsShort[m.month()];}
function localeMonthsParse(monthName,format,strict){var i,mom,regex;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];}
for(i=0;i<12;i++){mom=create_utc__createUTC([2000,i]);if(strict&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp('^'+this.months(mom,'').replace('.','')+'$','i');this._shortMonthsParse[i]=new RegExp('^'+this.monthsShort(mom,'').replace('.','')+'$','i');}
if(!strict&&!this._monthsParse[i]){regex='^'+this.months(mom,'')+'|^'+this.monthsShort(mom,'');this._monthsParse[i]=new RegExp(regex.replace('.',''),'i');}
if(strict&&format==='MMMM'&&this._longMonthsParse[i].test(monthName)){return i;}else if(strict&&format==='MMM'&&this._shortMonthsParse[i].test(monthName)){return i;}else if(!strict&&this._monthsParse[i].test(monthName)){return i;}}}
function setMonth(mom,value){var dayOfMonth;if(typeof value==='string'){value=mom.localeData().monthsParse(value);if(typeof value!=='number'){return mom;}}
dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value));mom._d['set'+(mom._isUTC?'UTC':'')+'Month'](value,dayOfMonth);return mom;}
function getSetMonth(value){if(value!=null){setMonth(this,value);utils_hooks__hooks.updateOffset(this,true);return this;}else{return get_set__get(this,'Month');}}
function getDaysInMonth(){return daysInMonth(this.year(),this.month());}
function checkOverflow(m){var overflow;var a=m._a;if(a&&getParsingFlags(m).overflow===-2){overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||(a[HOUR]===24&&(a[MINUTE]!==0||a[SECOND]!==0||a[MILLISECOND]!==0))?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1;if(getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE;}
getParsingFlags(m).overflow=overflow;}
return m;}
function warn(msg){if(utils_hooks__hooks.suppressDeprecationWarnings===false&&typeof console!=='undefined'&&console.warn){console.warn('Deprecation warning: '+msg);}}
function deprecate(msg,fn){var firstTime=true;return extend(function(){if(firstTime){warn(msg+'\n'+(new Error()).stack);firstTime=false;}
return fn.apply(this,arguments);},fn);}
var deprecations={};function deprecateSimple(name,msg){if(!deprecations[name]){warn(msg);deprecations[name]=true;}}
utils_hooks__hooks.suppressDeprecationWarnings=false;var from_string__isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var isoDates=[['YYYYYY-MM-DD',/[+-]\d{6}-\d{2}-\d{2}/],['YYYY-MM-DD',/\d{4}-\d{2}-\d{2}/],['GGGG-[W]WW-E',/\d{4}-W\d{2}-\d/],['GGGG-[W]WW',/\d{4}-W\d{2}/],['YYYY-DDD',/\d{4}-\d{3}/]];var isoTimes=[['HH:mm:ss.SSSS',/(T| )\d\d:\d\d:\d\d\.\d+/],['HH:mm:ss',/(T| )\d\d:\d\d:\d\d/],['HH:mm',/(T| )\d\d:\d\d/],['HH',/(T| )\d\d/]];var aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;function configFromISO(config){var i,l,string=config._i,match=from_string__isoRegex.exec(string);if(match){getParsingFlags(config).iso=true;for(i=0,l=isoDates.length;i<l;i++){if(isoDates[i][1].exec(string)){config._f=isoDates[i][0];break;}}
for(i=0,l=isoTimes.length;i<l;i++){if(isoTimes[i][1].exec(string)){config._f+=(match[6]||' ')+isoTimes[i][0];break;}}
if(string.match(matchOffset)){config._f+='Z';}
configFromStringAndFormat(config);}else{config._isValid=false;}}
function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);if(matched!==null){config._d=new Date(+matched[1]);return;}
configFromISO(config);if(config._isValid===false){delete config._isValid;utils_hooks__hooks.createFromInputFallback(config);}}
utils_hooks__hooks.createFromInputFallback=deprecate('moment construction falls back to js Date. This is '+'discouraged and will be removed in upcoming major '+'release. Please refer to '+'https://github.com/moment/moment/issues/1407 for more info.',function(config){config._d=new Date(config._i+(config._useUTC?' UTC':''));});function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(y<1970){date.setFullYear(y);}
return date;}
function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(y<1970){date.setUTCFullYear(y);}
return date;}
addFormatToken(0,['YY',2],0,function(){return this.year()%100;});addFormatToken(0,['YYYY',4],0,'year');addFormatToken(0,['YYYYY',5],0,'year');addFormatToken(0,['YYYYYY',6,true],0,'year');addUnitAlias('year','y');addRegexToken('Y',matchSigned);addRegexToken('YY',match1to2,match2);addRegexToken('YYYY',match1to4,match4);addRegexToken('YYYYY',match1to6,match6);addRegexToken('YYYYYY',match1to6,match6);addParseToken(['YYYYY','YYYYYY'],YEAR);addParseToken('YYYY',function(input,array){array[YEAR]=input.length===2?utils_hooks__hooks.parseTwoDigitYear(input):toInt(input);});addParseToken('YY',function(input,array){array[YEAR]=utils_hooks__hooks.parseTwoDigitYear(input);});function daysInYear(year){return isLeapYear(year)?366:365;}
function isLeapYear(year){return(year%4===0&&year%100!==0)||year%400===0;}
utils_hooks__hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2000);};var getSetYear=makeGetSet('FullYear',false);function getIsLeapYear(){return isLeapYear(this.year());}
addFormatToken('w',['ww',2],'wo','week');addFormatToken('W',['WW',2],'Wo','isoWeek');addUnitAlias('week','w');addUnitAlias('isoWeek','W');addRegexToken('w',match1to2);addRegexToken('ww',match1to2,match2);addRegexToken('W',match1to2);addRegexToken('WW',match1to2,match2);addWeekParseToken(['w','ww','W','WW'],function(input,week,config,token){week[token.substr(0,1)]=toInt(input);});function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day(),adjustedMoment;if(daysToDayOfWeek>end){daysToDayOfWeek-=7;}
if(daysToDayOfWeek<end-7){daysToDayOfWeek+=7;}
adjustedMoment=local__createLocal(mom).add(daysToDayOfWeek,'d');return{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()};}
function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week;}
var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow;}
function localeFirstDayOfYear(){return this._week.doy;}
function getSetWeek(input){var week=this.localeData().week(this);return input==null?week:this.add((input-week)*7,'d');}
function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add((input-week)*7,'d');}
addFormatToken('DDD',['DDDD',3],'DDDo','dayOfYear');addUnitAlias('dayOfYear','DDD');addRegexToken('DDD',match1to3);addRegexToken('DDDD',match3);addParseToken(['DDD','DDDD'],function(input,array,config){config._dayOfYear=toInt(input);});function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var week1Jan=6+firstDayOfWeek-firstDayOfWeekOfYear,janX=createUTCDate(year,0,1+week1Jan),d=janX.getUTCDay(),dayOfYear;if(d<firstDayOfWeek){d+=7;}
weekday=weekday!=null?1*weekday:firstDayOfWeek;dayOfYear=1+week1Jan+7*(week-1)-d+weekday;return{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear};}
function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf('day')-this.clone().startOf('year'))/864e5)+1;return input==null?dayOfYear:this.add((input-dayOfYear),'d');}
function defaults(a,b,c){if(a!=null){return a;}
if(b!=null){return b;}
return c;}
function currentDateArray(config){var now=new Date();if(config._useUTC){return[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()];}
return[now.getFullYear(),now.getMonth(),now.getDate()];}
function configFromArray(config){var i,date,input=[],currentDate,yearToUse;if(config._d){return;}
currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){dayOfYearFromWeekInfo(config);}
if(config._dayOfYear){yearToUse=defaults(config._a[YEAR],currentDate[YEAR]);if(config._dayOfYear>daysInYear(yearToUse)){getParsingFlags(config)._overflowDayOfYear=true;}
date=createUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate();}
for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i];}
for(;i<7;i++){config._a[i]=input[i]=(config._a[i]==null)?(i===2?1:0):config._a[i];}
if(config._a[HOUR]===24&&config._a[MINUTE]===0&&config._a[SECOND]===0&&config._a[MILLISECOND]===0){config._nextDay=true;config._a[HOUR]=0;}
config._d=(config._useUTC?createUTCDate:createDate).apply(null,input);if(config._tzm!=null){config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm);}
if(config._nextDay){config._a[HOUR]=24;}}
function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){dow=1;doy=4;weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year);week=defaults(w.W,1);weekday=defaults(w.E,1);}else{dow=config._locale._week.dow;doy=config._locale._week.doy;weekYear=defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year);week=defaults(w.w,1);if(w.d!=null){weekday=w.d;if(weekday<dow){++week;}}else if(w.e!=null){weekday=w.e+dow;}else{weekday=dow;}}
temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow);config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear;}
utils_hooks__hooks.ISO_8601=function(){};function configFromStringAndFormat(config){if(config._f===utils_hooks__hooks.ISO_8601){configFromISO(config);return;}
config._a=[];getParsingFlags(config).empty=true;var string=''+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){getParsingFlags(config).unusedInput.push(skipped);}
string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length;}
if(formatTokenFunctions[token]){if(parsedInput){getParsingFlags(config).empty=false;}
else{getParsingFlags(config).unusedTokens.push(token);}
addTimeToArrayFromToken(token,parsedInput,config);}
else if(config._strict&&!parsedInput){getParsingFlags(config).unusedTokens.push(token);}}
getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){getParsingFlags(config).unusedInput.push(string);}
if(getParsingFlags(config).bigHour===true&&config._a[HOUR]<=12&&config._a[HOUR]>0){getParsingFlags(config).bigHour=undefined;}
config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem);configFromArray(config);checkOverflow(config);}
function meridiemFixWrap(locale,hour,meridiem){var isPm;if(meridiem==null){return hour;}
if(locale.meridiemHour!=null){return locale.meridiemHour(hour,meridiem);}else if(locale.isPM!=null){isPm=locale.isPM(meridiem);if(isPm&&hour<12){hour+=12;}
if(!isPm&&hour===12){hour=0;}
return hour;}else{return hour;}}
function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){getParsingFlags(config).invalidFormat=true;config._d=new Date(NaN);return;}
for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=copyConfig({},config);if(config._useUTC!=null){tempConfig._useUTC=config._useUTC;}
tempConfig._f=config._f[i];configFromStringAndFormat(tempConfig);if(!valid__isValid(tempConfig)){continue;}
currentScore+=getParsingFlags(tempConfig).charsLeftOver;currentScore+=getParsingFlags(tempConfig).unusedTokens.length*10;getParsingFlags(tempConfig).score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig;}}
extend(config,bestMoment||tempConfig);}
function configFromObject(config){if(config._d){return;}
var i=normalizeObjectUnits(config._i);config._a=[i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond];configFromArray(config);}
function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));if(res._nextDay){res.add(1,'d');res._nextDay=undefined;}
return res;}
function prepareConfig(config){var input=config._i,format=config._f;config._locale=config._locale||locale_locales__getLocale(config._l);if(input===null||(format===undefined&&input==='')){return valid__createInvalid({nullInput:true});}
if(typeof input==='string'){config._i=input=config._locale.preparse(input);}
if(isMoment(input)){return new Moment(checkOverflow(input));}else if(isArray(format)){configFromStringAndArray(config);}else if(format){configFromStringAndFormat(config);}else if(isDate(input)){config._d=input;}else{configFromInput(config);}
return config;}
function configFromInput(config){var input=config._i;if(input===undefined){config._d=new Date();}else if(isDate(input)){config._d=new Date(+input);}else if(typeof input==='string'){configFromString(config);}else if(isArray(input)){config._a=map(input.slice(0),function(obj){return parseInt(obj,10);});configFromArray(config);}else if(typeof(input)==='object'){configFromObject(config);}else if(typeof(input)==='number'){config._d=new Date(input);}else{utils_hooks__hooks.createFromInputFallback(config);}}
function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};if(typeof(locale)==='boolean'){strict=locale;locale=undefined;}
c._isAMomentObject=true;c._useUTC=c._isUTC=isUTC;c._l=locale;c._i=input;c._f=format;c._strict=strict;return createFromConfig(c);}
function local__createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,false);}
var prototypeMin=deprecate('moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548',function(){var other=local__createLocal.apply(null,arguments);return other<this?this:other;});var prototypeMax=deprecate('moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548',function(){var other=local__createLocal.apply(null,arguments);return other>this?this:other;});function pickBy(fn,moments){var res,i;if(moments.length===1&&isArray(moments[0])){moments=moments[0];}
if(!moments.length){return local__createLocal();}
res=moments[0];for(i=1;i<moments.length;++i){if(!moments[i].isValid()||moments[i][fn](res)){res=moments[i];}}
return res;}
function min(){var args=[].slice.call(arguments,0);return pickBy('isBefore',args);}
function max(){var args=[].slice.call(arguments,0);return pickBy('isAfter',args);}
function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+
seconds*1e3+
minutes*6e4+
hours*36e5;this._days=+days+
weeks*7;this._months=+months+
quarters*3+
years*12;this._data={};this._locale=locale_locales__getLocale();this._bubble();}
function isDuration(obj){return obj instanceof Duration;}
function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset();var sign='+';if(offset<0){offset=-offset;sign='-';}
return sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~(offset)%60,2);});}
offset('Z',':');offset('ZZ','');addRegexToken('Z',matchOffset);addRegexToken('ZZ',matchOffset);addParseToken(['Z','ZZ'],function(input,array,config){config._useUTC=true;config._tzm=offsetFromString(input);});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(string){var matches=((string||'').match(matchOffset)||[]);var chunk=matches[matches.length-1]||[];var parts=(chunk+'').match(chunkOffset)||['-',0,0];var minutes=+(parts[1]*60)+toInt(parts[2]);return parts[0]==='+'?minutes:-minutes;}
function cloneWithOffset(input,model){var res,diff;if(model._isUTC){res=model.clone();diff=(isMoment(input)||isDate(input)?+input:+local__createLocal(input))-(+res);res._d.setTime(+res._d+diff);utils_hooks__hooks.updateOffset(res,false);return res;}else{return local__createLocal(input).local();}}
function getDateOffset(m){return-Math.round(m._d.getTimezoneOffset()/15)*15;}
utils_hooks__hooks.updateOffset=function(){};function getSetOffset(input,keepLocalTime){var offset=this._offset||0,localAdjust;if(input!=null){if(typeof input==='string'){input=offsetFromString(input);}
if(Math.abs(input)<16){input=input*60;}
if(!this._isUTC&&keepLocalTime){localAdjust=getDateOffset(this);}
this._offset=input;this._isUTC=true;if(localAdjust!=null){this.add(localAdjust,'m');}
if(offset!==input){if(!keepLocalTime||this._changeInProgress){add_subtract__addSubtract(this,create__createDuration(input-offset,'m'),1,false);}else if(!this._changeInProgress){this._changeInProgress=true;utils_hooks__hooks.updateOffset(this,true);this._changeInProgress=null;}}
return this;}else{return this._isUTC?offset:getDateOffset(this);}}
function getSetZone(input,keepLocalTime){if(input!=null){if(typeof input!=='string'){input=-input;}
this.utcOffset(input,keepLocalTime);return this;}else{return-this.utcOffset();}}
function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime);}
function setOffsetToLocal(keepLocalTime){if(this._isUTC){this.utcOffset(0,keepLocalTime);this._isUTC=false;if(keepLocalTime){this.subtract(getDateOffset(this),'m');}}
return this;}
function setOffsetToParsedOffset(){if(this._tzm){this.utcOffset(this._tzm);}else if(typeof this._i==='string'){this.utcOffset(offsetFromString(this._i));}
return this;}
function hasAlignedHourOffset(input){input=input?local__createLocal(input).utcOffset():0;return(this.utcOffset()-input)%60===0;}
function isDaylightSavingTime(){return(this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset());}
function isDaylightSavingTimeShifted(){if(typeof this._isDSTShifted!=='undefined'){return this._isDSTShifted;}
var c={};copyConfig(c,this);c=prepareConfig(c);if(c._a){var other=c._isUTC?create_utc__createUTC(c._a):local__createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0;}else{this._isDSTShifted=false;}
return this._isDSTShifted;}
function isLocal(){return!this._isUTC;}
function isUtcOffset(){return this._isUTC;}
function isUtc(){return this._isUTC&&this._offset===0;}
var aspNetRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/;var create__isoRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;function create__createDuration(input,key){var duration=input,match=null,sign,ret,diffRes;if(isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months};}else if(typeof input==='number'){duration={};if(key){duration[key]=input;}else{duration.milliseconds=input;}}else if(!!(match=aspNetRegex.exec(input))){sign=(match[1]==='-')?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign};}else if(!!(match=create__isoRegex.exec(input))){sign=(match[1]==='-')?-1:1;duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),d:parseIso(match[4],sign),h:parseIso(match[5],sign),m:parseIso(match[6],sign),s:parseIso(match[7],sign),w:parseIso(match[8],sign)};}else if(duration==null){duration={};}else if(typeof duration==='object'&&('from'in duration||'to'in duration)){diffRes=momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to));duration={};duration.ms=diffRes.milliseconds;duration.M=diffRes.months;}
ret=new Duration(duration);if(isDuration(input)&&hasOwnProp(input,'_locale')){ret._locale=input._locale;}
return ret;}
create__createDuration.fn=Duration.prototype;function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(',','.'));return(isNaN(res)?0:res)*sign;}
function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};res.months=other.month()-base.month()+
(other.year()-base.year())*12;if(base.clone().add(res.months,'M').isAfter(other)){--res.months;}
res.milliseconds=+other-+(base.clone().add(res.months,'M'));return res;}
function momentsDifference(base,other){var res;other=cloneWithOffset(other,base);if(base.isBefore(other)){res=positiveMomentsDifference(base,other);}else{res=positiveMomentsDifference(other,base);res.milliseconds=-res.milliseconds;res.months=-res.months;}
return res;}
function createAdder(direction,name){return function(val,period){var dur,tmp;if(period!==null&&!isNaN(+period)){deprecateSimple(name,'moment().'+name+'(period, number) is deprecated. Please use moment().'+name+'(number, period).');tmp=val;val=period;period=tmp;}
val=typeof val==='string'?+val:val;dur=create__createDuration(val,period);add_subtract__addSubtract(this,dur,direction);return this;};}
function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=updateOffset==null?true:updateOffset;if(milliseconds){mom._d.setTime(+mom._d+milliseconds*isAdding);}
if(days){get_set__set(mom,'Date',get_set__get(mom,'Date')+days*isAdding);}
if(months){setMonth(mom,get_set__get(mom,'Month')+months*isAdding);}
if(updateOffset){utils_hooks__hooks.updateOffset(mom,days||months);}}
var add_subtract__add=createAdder(1,'add');var add_subtract__subtract=createAdder(-1,'subtract');function moment_calendar__calendar(time,formats){var now=time||local__createLocal(),sod=cloneWithOffset(now,this).startOf('day'),diff=this.diff(sod,'days',true),format=diff<-6?'sameElse':diff<-1?'lastWeek':diff<0?'lastDay':diff<1?'sameDay':diff<2?'nextDay':diff<7?'nextWeek':'sameElse';return this.format(formats&&formats[format]||this.localeData().calendar(format,this,local__createLocal(now)));}
function clone(){return new Moment(this);}
function isAfter(input,units){var inputMs;units=normalizeUnits(typeof units!=='undefined'?units:'millisecond');if(units==='millisecond'){input=isMoment(input)?input:local__createLocal(input);return+this>+input;}else{inputMs=isMoment(input)?+input:+local__createLocal(input);return inputMs<+this.clone().startOf(units);}}
function isBefore(input,units){var inputMs;units=normalizeUnits(typeof units!=='undefined'?units:'millisecond');if(units==='millisecond'){input=isMoment(input)?input:local__createLocal(input);return+this<+input;}else{inputMs=isMoment(input)?+input:+local__createLocal(input);return+this.clone().endOf(units)<inputMs;}}
function isBetween(from,to,units){return this.isAfter(from,units)&&this.isBefore(to,units);}
function isSame(input,units){var inputMs;units=normalizeUnits(units||'millisecond');if(units==='millisecond'){input=isMoment(input)?input:local__createLocal(input);return+this===+input;}else{inputMs=+local__createLocal(input);return+(this.clone().startOf(units))<=inputMs&&inputMs<=+(this.clone().endOf(units));}}
function diff(input,units,asFloat){var that=cloneWithOffset(input,this),zoneDelta=(that.utcOffset()-this.utcOffset())*6e4,delta,output;units=normalizeUnits(units);if(units==='year'||units==='month'||units==='quarter'){output=monthDiff(this,that);if(units==='quarter'){output=output/3;}else if(units==='year'){output=output/12;}}else{delta=this-that;output=units==='second'?delta/1e3:units==='minute'?delta/6e4:units==='hour'?delta/36e5:units==='day'?(delta-zoneDelta)/864e5:units==='week'?(delta-zoneDelta)/6048e5:delta;}
return asFloat?output:absFloor(output);}
function monthDiff(a,b){var wholeMonthDiff=((b.year()-a.year())*12)+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,'months'),anchor2,adjust;if(b-anchor<0){anchor2=a.clone().add(wholeMonthDiff-1,'months');adjust=(b-anchor)/(anchor-anchor2);}else{anchor2=a.clone().add(wholeMonthDiff+1,'months');adjust=(b-anchor)/(anchor2-anchor);}
return-(wholeMonthDiff+adjust);}
utils_hooks__hooks.defaultFormat='YYYY-MM-DDTHH:mm:ssZ';function toString(){return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');}
function moment_format__toISOString(){var m=this.clone().utc();if(0<m.year()&&m.year()<=9999){if('function'===typeof Date.prototype.toISOString){return this.toDate().toISOString();}else{return formatMoment(m,'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');}}else{return formatMoment(m,'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');}}
function format(inputString){var output=formatMoment(this,inputString||utils_hooks__hooks.defaultFormat);return this.localeData().postformat(output);}
function from(time,withoutSuffix){if(!this.isValid()){return this.localeData().invalidDate();}
return create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix);}
function fromNow(withoutSuffix){return this.from(local__createLocal(),withoutSuffix);}
function to(time,withoutSuffix){if(!this.isValid()){return this.localeData().invalidDate();}
return create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix);}
function toNow(withoutSuffix){return this.to(local__createLocal(),withoutSuffix);}
function locale(key){var newLocaleData;if(key===undefined){return this._locale._abbr;}else{newLocaleData=locale_locales__getLocale(key);if(newLocaleData!=null){this._locale=newLocaleData;}
return this;}}
var lang=deprecate('moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',function(key){if(key===undefined){return this.localeData();}else{return this.locale(key);}});function localeData(){return this._locale;}
function startOf(units){units=normalizeUnits(units);switch(units){case'year':this.month(0);case'quarter':case'month':this.date(1);case'week':case'isoWeek':case'day':this.hours(0);case'hour':this.minutes(0);case'minute':this.seconds(0);case'second':this.milliseconds(0);}
if(units==='week'){this.weekday(0);}
if(units==='isoWeek'){this.isoWeekday(1);}
if(units==='quarter'){this.month(Math.floor(this.month()/3)*3);}
return this;}
function endOf(units){units=normalizeUnits(units);if(units===undefined||units==='millisecond'){return this;}
return this.startOf(units).add(1,(units==='isoWeek'?'week':units)).subtract(1,'ms');}
function to_type__valueOf(){return+this._d-((this._offset||0)*60000);}
function unix(){return Math.floor(+this/1000);}
function toDate(){return this._offset?new Date(+this):this._d;}
function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()];}
function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()};}
function moment_valid__isValid(){return valid__isValid(this);}
function parsingFlags(){return extend({},getParsingFlags(this));}
function invalidAt(){return getParsingFlags(this).overflow;}
addFormatToken(0,['gg',2],0,function(){return this.weekYear()%100;});addFormatToken(0,['GG',2],0,function(){return this.isoWeekYear()%100;});function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter);}
addWeekYearFormatToken('gggg','weekYear');addWeekYearFormatToken('ggggg','weekYear');addWeekYearFormatToken('GGGG','isoWeekYear');addWeekYearFormatToken('GGGGG','isoWeekYear');addUnitAlias('weekYear','gg');addUnitAlias('isoWeekYear','GG');addRegexToken('G',matchSigned);addRegexToken('g',matchSigned);addRegexToken('GG',match1to2,match2);addRegexToken('gg',match1to2,match2);addRegexToken('GGGG',match1to4,match4);addRegexToken('gggg',match1to4,match4);addRegexToken('GGGGG',match1to6,match6);addRegexToken('ggggg',match1to6,match6);addWeekParseToken(['gggg','ggggg','GGGG','GGGGG'],function(input,week,config,token){week[token.substr(0,2)]=toInt(input);});addWeekParseToken(['gg','GG'],function(input,week,config,token){week[token]=utils_hooks__hooks.parseTwoDigitYear(input);});function weeksInYear(year,dow,doy){return weekOfYear(local__createLocal([year,11,31+dow-doy]),dow,doy).week;}
function getSetWeekYear(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return input==null?year:this.add((input-year),'y');}
function getSetISOWeekYear(input){var year=weekOfYear(this,1,4).year;return input==null?year:this.add((input-year),'y');}
function getISOWeeksInYear(){return weeksInYear(this.year(),1,4);}
function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy);}
addFormatToken('Q',0,0,'quarter');addUnitAlias('quarter','Q');addRegexToken('Q',match1);addParseToken('Q',function(input,array){array[MONTH]=(toInt(input)-1)*3;});function getSetQuarter(input){return input==null?Math.ceil((this.month()+1)/3):this.month((input-1)*3+this.month()%3);}
addFormatToken('D',['DD',2],'Do','date');addUnitAlias('date','D');addRegexToken('D',match1to2);addRegexToken('DD',match1to2,match2);addRegexToken('Do',function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient;});addParseToken(['D','DD'],DATE);addParseToken('Do',function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10);});var getSetDayOfMonth=makeGetSet('Date',true);addFormatToken('d',0,'do','day');addFormatToken('dd',0,0,function(format){return this.localeData().weekdaysMin(this,format);});addFormatToken('ddd',0,0,function(format){return this.localeData().weekdaysShort(this,format);});addFormatToken('dddd',0,0,function(format){return this.localeData().weekdays(this,format);});addFormatToken('e',0,0,'weekday');addFormatToken('E',0,0,'isoWeekday');addUnitAlias('day','d');addUnitAlias('weekday','e');addUnitAlias('isoWeekday','E');addRegexToken('d',match1to2);addRegexToken('e',match1to2);addRegexToken('E',match1to2);addRegexToken('dd',matchWord);addRegexToken('ddd',matchWord);addRegexToken('dddd',matchWord);addWeekParseToken(['dd','ddd','dddd'],function(input,week,config){var weekday=config._locale.weekdaysParse(input);if(weekday!=null){week.d=weekday;}else{getParsingFlags(config).invalidWeekday=input;}});addWeekParseToken(['d','e','E'],function(input,week,config,token){week[token]=toInt(input);});function parseWeekday(input,locale){if(typeof input!=='string'){return input;}
if(!isNaN(input)){return parseInt(input,10);}
input=locale.weekdaysParse(input);if(typeof input==='number'){return input;}
return null;}
var defaultLocaleWeekdays='Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');function localeWeekdays(m){return this._weekdays[m.day()];}
var defaultLocaleWeekdaysShort='Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');function localeWeekdaysShort(m){return this._weekdaysShort[m.day()];}
var defaultLocaleWeekdaysMin='Su_Mo_Tu_We_Th_Fr_Sa'.split('_');function localeWeekdaysMin(m){return this._weekdaysMin[m.day()];}
function localeWeekdaysParse(weekdayName){var i,mom,regex;this._weekdaysParse=this._weekdaysParse||[];for(i=0;i<7;i++){if(!this._weekdaysParse[i]){mom=local__createLocal([2000,1]).day(i);regex='^'+this.weekdays(mom,'')+'|^'+this.weekdaysShort(mom,'')+'|^'+this.weekdaysMin(mom,'');this._weekdaysParse[i]=new RegExp(regex.replace('.',''),'i');}
if(this._weekdaysParse[i].test(weekdayName)){return i;}}}
function getSetDayOfWeek(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.localeData());return this.add(input-day,'d');}else{return day;}}
function getSetLocaleDayOfWeek(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return input==null?weekday:this.add(input-weekday,'d');}
function getSetISODayOfWeek(input){return input==null?this.day()||7:this.day(this.day()%7?input:input-7);}
addFormatToken('H',['HH',2],0,'hour');addFormatToken('h',['hh',2],0,function(){return this.hours()%12||12;});function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase);});}
meridiem('a',true);meridiem('A',false);addUnitAlias('hour','h');function matchMeridiem(isStrict,locale){return locale._meridiemParse;}
addRegexToken('a',matchMeridiem);addRegexToken('A',matchMeridiem);addRegexToken('H',match1to2);addRegexToken('h',match1to2);addRegexToken('HH',match1to2,match2);addRegexToken('hh',match1to2,match2);addParseToken(['H','HH'],HOUR);addParseToken(['a','A'],function(input,array,config){config._isPm=config._locale.isPM(input);config._meridiem=input;});addParseToken(['h','hh'],function(input,array,config){array[HOUR]=toInt(input);getParsingFlags(config).bigHour=true;});function localeIsPM(input){return((input+'').toLowerCase().charAt(0)==='p');}
var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i;function localeMeridiem(hours,minutes,isLower){if(hours>11){return isLower?'pm':'PM';}else{return isLower?'am':'AM';}}
var getSetHour=makeGetSet('Hours',true);addFormatToken('m',['mm',2],0,'minute');addUnitAlias('minute','m');addRegexToken('m',match1to2);addRegexToken('mm',match1to2,match2);addParseToken(['m','mm'],MINUTE);var getSetMinute=makeGetSet('Minutes',false);addFormatToken('s',['ss',2],0,'second');addUnitAlias('second','s');addRegexToken('s',match1to2);addRegexToken('ss',match1to2,match2);addParseToken(['s','ss'],SECOND);var getSetSecond=makeGetSet('Seconds',false);addFormatToken('S',0,0,function(){return~~(this.millisecond()/100);});addFormatToken(0,['SS',2],0,function(){return~~(this.millisecond()/10);});addFormatToken(0,['SSS',3],0,'millisecond');addFormatToken(0,['SSSS',4],0,function(){return this.millisecond()*10;});addFormatToken(0,['SSSSS',5],0,function(){return this.millisecond()*100;});addFormatToken(0,['SSSSSS',6],0,function(){return this.millisecond()*1000;});addFormatToken(0,['SSSSSSS',7],0,function(){return this.millisecond()*10000;});addFormatToken(0,['SSSSSSSS',8],0,function(){return this.millisecond()*100000;});addFormatToken(0,['SSSSSSSSS',9],0,function(){return this.millisecond()*1000000;});addUnitAlias('millisecond','ms');addRegexToken('S',match1to3,match1);addRegexToken('SS',match1to3,match2);addRegexToken('SSS',match1to3,match3);var token;for(token='SSSS';token.length<=9;token+='S'){addRegexToken(token,matchUnsigned);}
function parseMs(input,array){array[MILLISECOND]=toInt(('0.'+input)*1000);}
for(token='S';token.length<=9;token+='S'){addParseToken(token,parseMs);}
var getSetMillisecond=makeGetSet('Milliseconds',false);addFormatToken('z',0,0,'zoneAbbr');addFormatToken('zz',0,0,'zoneName');function getZoneAbbr(){return this._isUTC?'UTC':'';}
function getZoneName(){return this._isUTC?'Coordinated Universal Time':'';}
var momentPrototype__proto=Moment.prototype;momentPrototype__proto.add=add_subtract__add;momentPrototype__proto.calendar=moment_calendar__calendar;momentPrototype__proto.clone=clone;momentPrototype__proto.diff=diff;momentPrototype__proto.endOf=endOf;momentPrototype__proto.format=format;momentPrototype__proto.from=from;momentPrototype__proto.fromNow=fromNow;momentPrototype__proto.to=to;momentPrototype__proto.toNow=toNow;momentPrototype__proto.get=getSet;momentPrototype__proto.invalidAt=invalidAt;momentPrototype__proto.isAfter=isAfter;momentPrototype__proto.isBefore=isBefore;momentPrototype__proto.isBetween=isBetween;momentPrototype__proto.isSame=isSame;momentPrototype__proto.isValid=moment_valid__isValid;momentPrototype__proto.lang=lang;momentPrototype__proto.locale=locale;momentPrototype__proto.localeData=localeData;momentPrototype__proto.max=prototypeMax;momentPrototype__proto.min=prototypeMin;momentPrototype__proto.parsingFlags=parsingFlags;momentPrototype__proto.set=getSet;momentPrototype__proto.startOf=startOf;momentPrototype__proto.subtract=add_subtract__subtract;momentPrototype__proto.toArray=toArray;momentPrototype__proto.toObject=toObject;momentPrototype__proto.toDate=toDate;momentPrototype__proto.toISOString=moment_format__toISOString;momentPrototype__proto.toJSON=moment_format__toISOString;momentPrototype__proto.toString=toString;momentPrototype__proto.unix=unix;momentPrototype__proto.valueOf=to_type__valueOf;momentPrototype__proto.year=getSetYear;momentPrototype__proto.isLeapYear=getIsLeapYear;momentPrototype__proto.weekYear=getSetWeekYear;momentPrototype__proto.isoWeekYear=getSetISOWeekYear;momentPrototype__proto.quarter=momentPrototype__proto.quarters=getSetQuarter;momentPrototype__proto.month=getSetMonth;momentPrototype__proto.daysInMonth=getDaysInMonth;momentPrototype__proto.week=momentPrototype__proto.weeks=getSetWeek;momentPrototype__proto.isoWeek=momentPrototype__proto.isoWeeks=getSetISOWeek;momentPrototype__proto.weeksInYear=getWeeksInYear;momentPrototype__proto.isoWeeksInYear=getISOWeeksInYear;momentPrototype__proto.date=getSetDayOfMonth;momentPrototype__proto.day=momentPrototype__proto.days=getSetDayOfWeek;momentPrototype__proto.weekday=getSetLocaleDayOfWeek;momentPrototype__proto.isoWeekday=getSetISODayOfWeek;momentPrototype__proto.dayOfYear=getSetDayOfYear;momentPrototype__proto.hour=momentPrototype__proto.hours=getSetHour;momentPrototype__proto.minute=momentPrototype__proto.minutes=getSetMinute;momentPrototype__proto.second=momentPrototype__proto.seconds=getSetSecond;momentPrototype__proto.millisecond=momentPrototype__proto.milliseconds=getSetMillisecond;momentPrototype__proto.utcOffset=getSetOffset;momentPrototype__proto.utc=setOffsetToUTC;momentPrototype__proto.local=setOffsetToLocal;momentPrototype__proto.parseZone=setOffsetToParsedOffset;momentPrototype__proto.hasAlignedHourOffset=hasAlignedHourOffset;momentPrototype__proto.isDST=isDaylightSavingTime;momentPrototype__proto.isDSTShifted=isDaylightSavingTimeShifted;momentPrototype__proto.isLocal=isLocal;momentPrototype__proto.isUtcOffset=isUtcOffset;momentPrototype__proto.isUtc=isUtc;momentPrototype__proto.isUTC=isUtc;momentPrototype__proto.zoneAbbr=getZoneAbbr;momentPrototype__proto.zoneName=getZoneName;momentPrototype__proto.dates=deprecate('dates accessor is deprecated. Use date instead.',getSetDayOfMonth);momentPrototype__proto.months=deprecate('months accessor is deprecated. Use month instead',getSetMonth);momentPrototype__proto.years=deprecate('years accessor is deprecated. Use year instead',getSetYear);momentPrototype__proto.zone=deprecate('moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779',getSetZone);var momentPrototype=momentPrototype__proto;function moment__createUnix(input){return local__createLocal(input*1000);}
function moment__createInZone(){return local__createLocal.apply(null,arguments).parseZone();}
var defaultCalendar={sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'};function locale_calendar__calendar(key,mom,now){var output=this._calendar[key];return typeof output==='function'?output.call(mom,now):output;}
var defaultLongDateFormat={LTS:'h:mm:ss A',LT:'h:mm A',L:'MM/DD/YYYY',LL:'MMMM D, YYYY',LLL:'MMMM D, YYYY h:mm A',LLLL:'dddd, MMMM D, YYYY h:mm A'};function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];if(format||!formatUpper){return format;}
this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1);});return this._longDateFormat[key];}
var defaultInvalidDate='Invalid date';function invalidDate(){return this._invalidDate;}
var defaultOrdinal='%d';var defaultOrdinalParse=/\d{1,2}/;function ordinal(number){return this._ordinal.replace('%d',number);}
function preParsePostFormat(string){return string;}
var defaultRelativeTime={future:'in %s',past:'%s ago',s:'a few seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'};function relative__relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return(typeof output==='function')?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number);}
function pastFuture(diff,output){var format=this._relativeTime[diff>0?'future':'past'];return typeof format==='function'?format(output):format.replace(/%s/i,output);}
function locale_set__set(config){var prop,i;for(i in config){prop=config[i];if(typeof prop==='function'){this[i]=prop;}else{this['_'+i]=prop;}}
this._ordinalParseLenient=new RegExp(this._ordinalParse.source+'|'+(/\d{1,2}/).source);}
var prototype__proto=Locale.prototype;prototype__proto._calendar=defaultCalendar;prototype__proto.calendar=locale_calendar__calendar;prototype__proto._longDateFormat=defaultLongDateFormat;prototype__proto.longDateFormat=longDateFormat;prototype__proto._invalidDate=defaultInvalidDate;prototype__proto.invalidDate=invalidDate;prototype__proto._ordinal=defaultOrdinal;prototype__proto.ordinal=ordinal;prototype__proto._ordinalParse=defaultOrdinalParse;prototype__proto.preparse=preParsePostFormat;prototype__proto.postformat=preParsePostFormat;prototype__proto._relativeTime=defaultRelativeTime;prototype__proto.relativeTime=relative__relativeTime;prototype__proto.pastFuture=pastFuture;prototype__proto.set=locale_set__set;prototype__proto.months=localeMonths;prototype__proto._months=defaultLocaleMonths;prototype__proto.monthsShort=localeMonthsShort;prototype__proto._monthsShort=defaultLocaleMonthsShort;prototype__proto.monthsParse=localeMonthsParse;prototype__proto.week=localeWeek;prototype__proto._week=defaultLocaleWeek;prototype__proto.firstDayOfYear=localeFirstDayOfYear;prototype__proto.firstDayOfWeek=localeFirstDayOfWeek;prototype__proto.weekdays=localeWeekdays;prototype__proto._weekdays=defaultLocaleWeekdays;prototype__proto.weekdaysMin=localeWeekdaysMin;prototype__proto._weekdaysMin=defaultLocaleWeekdaysMin;prototype__proto.weekdaysShort=localeWeekdaysShort;prototype__proto._weekdaysShort=defaultLocaleWeekdaysShort;prototype__proto.weekdaysParse=localeWeekdaysParse;prototype__proto.isPM=localeIsPM;prototype__proto._meridiemParse=defaultLocaleMeridiemParse;prototype__proto.meridiem=localeMeridiem;function lists__get(format,index,field,setter){var locale=locale_locales__getLocale();var utc=create_utc__createUTC().set(setter,index);return locale[field](utc,format);}
function list(format,index,field,count,setter){if(typeof format==='number'){index=format;format=undefined;}
format=format||'';if(index!=null){return lists__get(format,index,field,setter);}
var i;var out=[];for(i=0;i<count;i++){out[i]=lists__get(format,i,field,setter);}
return out;}
function lists__listMonths(format,index){return list(format,index,'months',12,'month');}
function lists__listMonthsShort(format,index){return list(format,index,'monthsShort',12,'month');}
function lists__listWeekdays(format,index){return list(format,index,'weekdays',7,'day');}
function lists__listWeekdaysShort(format,index){return list(format,index,'weekdaysShort',7,'day');}
function lists__listWeekdaysMin(format,index){return list(format,index,'weekdaysMin',7,'day');}
locale_locales__getSetGlobalLocale('en',{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=(toInt(number%100/10)===1)?'th':(b===1)?'st':(b===2)?'nd':(b===3)?'rd':'th';return number+output;}});utils_hooks__hooks.lang=deprecate('moment.lang is deprecated. Use moment.locale instead.',locale_locales__getSetGlobalLocale);utils_hooks__hooks.langData=deprecate('moment.langData is deprecated. Use moment.localeData instead.',locale_locales__getLocale);var mathAbs=Math.abs;function duration_abs__abs(){var data=this._data;this._milliseconds=mathAbs(this._milliseconds);this._days=mathAbs(this._days);this._months=mathAbs(this._months);data.milliseconds=mathAbs(data.milliseconds);data.seconds=mathAbs(data.seconds);data.minutes=mathAbs(data.minutes);data.hours=mathAbs(data.hours);data.months=mathAbs(data.months);data.years=mathAbs(data.years);return this;}
function duration_add_subtract__addSubtract(duration,input,value,direction){var other=create__createDuration(input,value);duration._milliseconds+=direction*other._milliseconds;duration._days+=direction*other._days;duration._months+=direction*other._months;return duration._bubble();}
function duration_add_subtract__add(input,value){return duration_add_subtract__addSubtract(this,input,value,1);}
function duration_add_subtract__subtract(input,value){return duration_add_subtract__addSubtract(this,input,value,-1);}
function absCeil(number){if(number<0){return Math.floor(number);}else{return Math.ceil(number);}}
function bubble(){var milliseconds=this._milliseconds;var days=this._days;var months=this._months;var data=this._data;var seconds,minutes,hours,years,monthsFromDays;if(!((milliseconds>=0&&days>=0&&months>=0)||(milliseconds<=0&&days<=0&&months<=0))){milliseconds+=absCeil(monthsToDays(months)+days)*864e5;days=0;months=0;}
data.milliseconds=milliseconds%1000;seconds=absFloor(milliseconds/1000);data.seconds=seconds%60;minutes=absFloor(seconds/60);data.minutes=minutes%60;hours=absFloor(minutes/60);data.hours=hours%24;days+=absFloor(hours/24);monthsFromDays=absFloor(daysToMonths(days));months+=monthsFromDays;days-=absCeil(monthsToDays(monthsFromDays));years=absFloor(months/12);months%=12;data.days=days;data.months=months;data.years=years;return this;}
function daysToMonths(days){return days*4800/146097;}
function monthsToDays(months){return months*146097/4800;}
function as(units){var days;var months;var milliseconds=this._milliseconds;units=normalizeUnits(units);if(units==='month'||units==='year'){days=this._days+milliseconds/864e5;months=this._months+daysToMonths(days);return units==='month'?months:months/12;}else{days=this._days+Math.round(monthsToDays(this._months));switch(units){case'week':return days/7+milliseconds/6048e5;case'day':return days+milliseconds/864e5;case'hour':return days*24+milliseconds/36e5;case'minute':return days*1440+milliseconds/6e4;case'second':return days*86400+milliseconds/1000;case'millisecond':return Math.floor(days*864e5)+milliseconds;default:throw new Error('Unknown unit '+units);}}}
function duration_as__valueOf(){return(this._milliseconds+
this._days*864e5+
(this._months%12)*2592e6+
toInt(this._months/12)*31536e6);}
function makeAs(alias){return function(){return this.as(alias);};}
var asMilliseconds=makeAs('ms');var asSeconds=makeAs('s');var asMinutes=makeAs('m');var asHours=makeAs('h');var asDays=makeAs('d');var asWeeks=makeAs('w');var asMonths=makeAs('M');var asYears=makeAs('y');function duration_get__get(units){units=normalizeUnits(units);return this[units+'s']();}
function makeGetter(name){return function(){return this._data[name];};}
var milliseconds=makeGetter('milliseconds');var seconds=makeGetter('seconds');var minutes=makeGetter('minutes');var hours=makeGetter('hours');var days=makeGetter('days');var months=makeGetter('months');var years=makeGetter('years');function weeks(){return absFloor(this.days()/7);}
var round=Math.round;var thresholds={s:45,m:45,h:22,d:26,M:11};function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture);}
function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){var duration=create__createDuration(posNegDuration).abs();var seconds=round(duration.as('s'));var minutes=round(duration.as('m'));var hours=round(duration.as('h'));var days=round(duration.as('d'));var months=round(duration.as('M'));var years=round(duration.as('y'));var a=seconds<thresholds.s&&['s',seconds]||minutes===1&&['m']||minutes<thresholds.m&&['mm',minutes]||hours===1&&['h']||hours<thresholds.h&&['hh',hours]||days===1&&['d']||days<thresholds.d&&['dd',days]||months===1&&['M']||months<thresholds.M&&['MM',months]||years===1&&['y']||['yy',years];a[2]=withoutSuffix;a[3]=+posNegDuration>0;a[4]=locale;return substituteTimeAgo.apply(null,a);}
function duration_humanize__getSetRelativeTimeThreshold(threshold,limit){if(thresholds[threshold]===undefined){return false;}
if(limit===undefined){return thresholds[threshold];}
thresholds[threshold]=limit;return true;}
function humanize(withSuffix){var locale=this.localeData();var output=duration_humanize__relativeTime(this,!withSuffix,locale);if(withSuffix){output=locale.pastFuture(+this,output);}
return locale.postformat(output);}
var iso_string__abs=Math.abs;function iso_string__toISOString(){var seconds=iso_string__abs(this._milliseconds)/1000;var days=iso_string__abs(this._days);var months=iso_string__abs(this._months);var minutes,hours,years;minutes=absFloor(seconds/60);hours=absFloor(minutes/60);seconds%=60;minutes%=60;years=absFloor(months/12);months%=12;var Y=years;var M=months;var D=days;var h=hours;var m=minutes;var s=seconds;var total=this.asSeconds();if(!total){return'P0D';}
return(total<0?'-':'')+'P'+
(Y?Y+'Y':'')+
(M?M+'M':'')+
(D?D+'D':'')+
((h||m||s)?'T':'')+
(h?h+'H':'')+
(m?m+'M':'')+
(s?s+'S':'');}
var duration_prototype__proto=Duration.prototype;duration_prototype__proto.abs=duration_abs__abs;duration_prototype__proto.add=duration_add_subtract__add;duration_prototype__proto.subtract=duration_add_subtract__subtract;duration_prototype__proto.as=as;duration_prototype__proto.asMilliseconds=asMilliseconds;duration_prototype__proto.asSeconds=asSeconds;duration_prototype__proto.asMinutes=asMinutes;duration_prototype__proto.asHours=asHours;duration_prototype__proto.asDays=asDays;duration_prototype__proto.asWeeks=asWeeks;duration_prototype__proto.asMonths=asMonths;duration_prototype__proto.asYears=asYears;duration_prototype__proto.valueOf=duration_as__valueOf;duration_prototype__proto._bubble=bubble;duration_prototype__proto.get=duration_get__get;duration_prototype__proto.milliseconds=milliseconds;duration_prototype__proto.seconds=seconds;duration_prototype__proto.minutes=minutes;duration_prototype__proto.hours=hours;duration_prototype__proto.days=days;duration_prototype__proto.weeks=weeks;duration_prototype__proto.months=months;duration_prototype__proto.years=years;duration_prototype__proto.humanize=humanize;duration_prototype__proto.toISOString=iso_string__toISOString;duration_prototype__proto.toString=iso_string__toISOString;duration_prototype__proto.toJSON=iso_string__toISOString;duration_prototype__proto.locale=locale;duration_prototype__proto.localeData=localeData;duration_prototype__proto.toIsoString=deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',iso_string__toISOString);duration_prototype__proto.lang=lang;addFormatToken('X',0,0,'unix');addFormatToken('x',0,0,'valueOf');addRegexToken('x',matchSigned);addRegexToken('X',matchTimestamp);addParseToken('X',function(input,array,config){config._d=new Date(parseFloat(input,10)*1000);});addParseToken('x',function(input,array,config){config._d=new Date(toInt(input));});utils_hooks__hooks.version='2.10.6';setHookCallback(local__createLocal);utils_hooks__hooks.fn=momentPrototype;utils_hooks__hooks.min=min;utils_hooks__hooks.max=max;utils_hooks__hooks.utc=create_utc__createUTC;utils_hooks__hooks.unix=moment__createUnix;utils_hooks__hooks.months=lists__listMonths;utils_hooks__hooks.isDate=isDate;utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale;utils_hooks__hooks.invalid=valid__createInvalid;utils_hooks__hooks.duration=create__createDuration;utils_hooks__hooks.isMoment=isMoment;utils_hooks__hooks.weekdays=lists__listWeekdays;utils_hooks__hooks.parseZone=moment__createInZone;utils_hooks__hooks.localeData=locale_locales__getLocale;utils_hooks__hooks.isDuration=isDuration;utils_hooks__hooks.monthsShort=lists__listMonthsShort;utils_hooks__hooks.weekdaysMin=lists__listWeekdaysMin;utils_hooks__hooks.defineLocale=defineLocale;utils_hooks__hooks.weekdaysShort=lists__listWeekdaysShort;utils_hooks__hooks.normalizeUnits=normalizeUnits;utils_hooks__hooks.relativeTimeThreshold=duration_humanize__getSetRelativeTimeThreshold;var _moment=utils_hooks__hooks;return _moment;}));},{}],60:[function(require,module,exports){'use strict';var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError('Object.assign cannot be called with null or undefined');}
return Object(val);}
module.exports=Object.assign||function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key];}}
if(Object.getOwnPropertySymbols){symbols=Object.getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]];}}}}
return to;};},{}],61:[function(require,module,exports){'use strict';module.exports=require('react/lib/ReactDOM');},{"react/lib/ReactDOM":115}],62:[function(require,module,exports){"use strict";var Immutable=require("immutable");var ANONYMOUS="<<anonymous>>";var ImmutablePropTypes={listOf:createListOfTypeChecker,mapOf:createMapOfTypeChecker,orderedMapOf:createOrderedMapOfTypeChecker,setOf:createSetOfTypeChecker,orderedSetOf:createOrderedSetOfTypeChecker,iterableOf:createIterableOfTypeChecker,recordOf:createRecordOfTypeChecker,shape:createShapeTypeChecker,contains:createShapeTypeChecker,list:createImmutableTypeChecker("List",Immutable.List.isList),map:createImmutableTypeChecker("Map",Immutable.Map.isMap),orderedMap:createImmutableTypeChecker("OrderedMap",Immutable.OrderedMap.isOrderedMap),set:createImmutableTypeChecker("Set",Immutable.Set.isSet),orderedSet:createImmutableTypeChecker("OrderedSet",Immutable.OrderedSet.isOrderedSet),stack:createImmutableTypeChecker("Stack",Immutable.Stack.isStack),seq:createImmutableTypeChecker("Seq",Immutable.Seq.isSeq),record:createImmutableTypeChecker("Record",function(isRecord){return isRecord instanceof Immutable.Record;}),iterable:createImmutableTypeChecker("Iterable",Immutable.Iterable.isIterable)};function getPropType(propValue){var propType=typeof propValue;if(Array.isArray(propValue)){return"array";}
if(propValue instanceof RegExp){return"object";}
if(propValue instanceof Immutable.Iterable){return"Immutable."+propValue.toSource().split(" ")[0];}
return propType;}
function createChainableTypeChecker(validate){function checkType(isRequired,props,propName,componentName,location){componentName=componentName||ANONYMOUS;if(props[propName]==null){var locationName=location;if(isRequired){return new Error("Required "+locationName+" `"+propName+"` was not specified in "+("`"+componentName+"`."));}}else{return validate(props,propName,componentName,location);}}
var chainedCheckType=checkType.bind(null,false);chainedCheckType.isRequired=checkType.bind(null,true);return chainedCheckType;}
function createImmutableTypeChecker(immutableClassName,immutableClassTypeValidator){function validate(props,propName,componentName,location){var propValue=props[propName];if(!immutableClassTypeValidator(propValue)){var propType=getPropType(propValue);return new Error("Invalid "+location+" `"+propName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected `"+immutableClassName+"`."));}
return null;}
return createChainableTypeChecker(validate);}
function createIterableTypeChecker(typeChecker,immutableClassName,immutableClassTypeValidator){function validate(props,propName,componentName,location){var propValue=props[propName];if(!immutableClassTypeValidator(propValue)){var locationName=location;var propType=getPropType(propValue);return new Error("Invalid "+locationName+" `"+propName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an Immutable.js "+immutableClassName+"."));}
var propValues=propValue.toArray();for(var i=0,len=propValues.length;i<len;i++){if(typeof typeChecker!=="function"){return new Error("Invalid typeChecker supplied to `"+componentName+"` "+("for propType `"+propName+"`, expected a function."));}
var error=typeChecker(propValues,i,componentName,location);if(error instanceof Error){return error;}}}
return createChainableTypeChecker(validate);}
function createListOfTypeChecker(typeChecker){return createIterableTypeChecker(typeChecker,"List",Immutable.List.isList);}
function createMapOfTypeChecker(typeChecker){return createIterableTypeChecker(typeChecker,"Map",Immutable.Map.isMap);}
function createOrderedMapOfTypeChecker(typeChecker){return createIterableTypeChecker(typeChecker,"OrderedMap",Immutable.OrderedMap.isOrderedMap);}
function createSetOfTypeChecker(typeChecker){return createIterableTypeChecker(typeChecker,"Set",Immutable.Set.isSet);}
function createOrderedSetOfTypeChecker(typeChecker){return createIterableTypeChecker(typeChecker,"OrderedSet",Immutable.OrderedSet.isOrderedSet);}
function createIterableOfTypeChecker(typeChecker){return createIterableTypeChecker(typeChecker,"Iterable",Immutable.Iterable.isIterable);}
function createRecordOfTypeChecker(recordKeys){function validate(props,propName,componentName,location){var propValue=props[propName];var propType=getPropType(propValue);if(!(propValue instanceof Immutable.Record)){var locationName=location;return new Error("Invalid "+locationName+" `"+propName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected an Immutable.js Record."));}
for(var key in recordKeys){var checker=recordKeys[key];if(!checker){continue;}
var mutablePropValue=propValue.toObject();var error=checker(mutablePropValue,key,componentName,location);if(error){return error;}}}
return createChainableTypeChecker(validate);}
function createShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location){var propValue=props[propName];var propType=getPropType(propValue);if(!Immutable.Iterable.isIterable(propValue)){var locationName=location;return new Error("Invalid "+locationName+" `"+propName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected an Immutable.js Iterable."));}
for(var key in shapeTypes){var checker=shapeTypes[key];if(!checker){continue;}
var mutablePropValue=propValue.toObject();var error=checker(mutablePropValue,key,componentName,location);if(error){return error;}}}
return createChainableTypeChecker(validate);}
module.exports=ImmutablePropTypes;},{"immutable":58}],63:[function(require,module,exports){'use strict';function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var _require=require('react');var Component=_require.Component;var PropTypes=_require.PropTypes;var Children=_require.Children;var storeShape=require('../utils/storeShape');var didWarnAboutReceivingStore=false;function warnAboutReceivingStore(){if(didWarnAboutReceivingStore){return;}
didWarnAboutReceivingStore=true;console.error('<Provider> does not support changing `store` on the fly. '+'It is most likely that you see this error because you updated to '+'Redux 2.x and React Redux 2.x which no longer hot reload reducers '+'automatically. See https://github.com/rackt/react-redux/releases/'+'tag/v2.0.0 for the migration instructions.');}
var Provider=(function(_Component){_inherits(Provider,_Component);Provider.prototype.getChildContext=function getChildContext(){return{store:this.store};};function Provider(props,context){_classCallCheck(this,Provider);var _this=_possibleConstructorReturn(this,_Component.call(this,props,context));_this.store=props.store;return _this;}
Provider.prototype.componentWillReceiveProps=function componentWillReceiveProps(nextProps){var store=this.store;var nextStore=nextProps.store;if(store!==nextStore){warnAboutReceivingStore();}};Provider.prototype.render=function render(){var children=this.props.children;return Children.only(children);};return Provider;})(Component);Provider.propTypes={store:storeShape.isRequired,children:PropTypes.element.isRequired};Provider.childContextTypes={store:storeShape.isRequired};module.exports=Provider;},{"../utils/storeShape":68,"react":236}],64:[function(require,module,exports){(function(process){'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var _require=require('react');var Component=_require.Component;var createElement=_require.createElement;var storeShape=require('../utils/storeShape');var shallowEqual=require('../utils/shallowEqual');var isPlainObject=require('../utils/isPlainObject');var wrapActionCreators=require('../utils/wrapActionCreators');var hoistStatics=require('hoist-non-react-statics');var invariant=require('invariant');var defaultMapStateToProps=function defaultMapStateToProps(state){return{};};var defaultMapDispatchToProps=function defaultMapDispatchToProps(dispatch){return{dispatch:dispatch};};var defaultMergeProps=function defaultMergeProps(stateProps,dispatchProps,parentProps){return _extends({},parentProps,stateProps,dispatchProps);};function getDisplayName(WrappedComponent){return WrappedComponent.displayName||WrappedComponent.name||'Component';}
var nextVersion=0;function connect(mapStateToProps,mapDispatchToProps,mergeProps){var options=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];var shouldSubscribe=Boolean(mapStateToProps);var finalMapStateToProps=mapStateToProps||defaultMapStateToProps;var finalMapDispatchToProps=isPlainObject(mapDispatchToProps)?wrapActionCreators(mapDispatchToProps):mapDispatchToProps||defaultMapDispatchToProps;var finalMergeProps=mergeProps||defaultMergeProps;var doStatePropsDependOnOwnProps=finalMapStateToProps.length!==1;var doDispatchPropsDependOnOwnProps=finalMapDispatchToProps.length!==1;var _options$pure=options.pure;var pure=_options$pure===undefined?true:_options$pure;var _options$withRef=options.withRef;var withRef=_options$withRef===undefined?false:_options$withRef;var version=nextVersion++;function computeStateProps(store,props){var state=store.getState();var stateProps=doStatePropsDependOnOwnProps?finalMapStateToProps(state,props):finalMapStateToProps(state);invariant(isPlainObject(stateProps),'`mapStateToProps` must return an object. Instead received %s.',stateProps);return stateProps;}
function computeDispatchProps(store,props){var dispatch=store.dispatch;var dispatchProps=doDispatchPropsDependOnOwnProps?finalMapDispatchToProps(dispatch,props):finalMapDispatchToProps(dispatch);invariant(isPlainObject(dispatchProps),'`mapDispatchToProps` must return an object. Instead received %s.',dispatchProps);return dispatchProps;}
function computeMergedProps(stateProps,dispatchProps,parentProps){var mergedProps=finalMergeProps(stateProps,dispatchProps,parentProps);invariant(isPlainObject(mergedProps),'`mergeProps` must return an object. Instead received %s.',mergedProps);return mergedProps;}
return function wrapWithConnect(WrappedComponent){var Connect=(function(_Component){_inherits(Connect,_Component);Connect.prototype.shouldComponentUpdate=function shouldComponentUpdate(){return!pure||this.haveOwnPropsChanged||this.hasStoreStateChanged;};function Connect(props,context){_classCallCheck(this,Connect);var _this=_possibleConstructorReturn(this,_Component.call(this,props,context));_this.version=version;_this.store=props.store||context.store;invariant(_this.store,'Could not find "store" in either the context or '+('props of "'+_this.constructor.displayName+'". ')+'Either wrap the root component in a <Provider>, '+('or explicitly pass "store" as a prop to "'+_this.constructor.displayName+'".'));var storeState=_this.store.getState();_this.state={storeState:storeState};_this.clearCache();return _this;}
Connect.prototype.updateStatePropsIfNeeded=function updateStatePropsIfNeeded(){var nextStateProps=computeStateProps(this.store,this.props);if(this.stateProps&&shallowEqual(nextStateProps,this.stateProps)){return false;}
this.stateProps=nextStateProps;return true;};Connect.prototype.updateDispatchPropsIfNeeded=function updateDispatchPropsIfNeeded(){var nextDispatchProps=computeDispatchProps(this.store,this.props);if(this.dispatchProps&&shallowEqual(nextDispatchProps,this.dispatchProps)){return false;}
this.dispatchProps=nextDispatchProps;return true;};Connect.prototype.updateMergedProps=function updateMergedProps(){this.mergedProps=computeMergedProps(this.stateProps,this.dispatchProps,this.props);};Connect.prototype.isSubscribed=function isSubscribed(){return typeof this.unsubscribe==='function';};Connect.prototype.trySubscribe=function trySubscribe(){if(shouldSubscribe&&!this.unsubscribe){this.unsubscribe=this.store.subscribe(this.handleChange.bind(this));this.handleChange();}};Connect.prototype.tryUnsubscribe=function tryUnsubscribe(){if(this.unsubscribe){this.unsubscribe();this.unsubscribe=null;}};Connect.prototype.componentDidMount=function componentDidMount(){this.trySubscribe();};Connect.prototype.componentWillReceiveProps=function componentWillReceiveProps(nextProps){if(!pure||!shallowEqual(nextProps,this.props)){this.haveOwnPropsChanged=true;}};Connect.prototype.componentWillUnmount=function componentWillUnmount(){this.tryUnsubscribe();this.clearCache();};Connect.prototype.clearCache=function clearCache(){this.dispatchProps=null;this.stateProps=null;this.mergedProps=null;this.haveOwnPropsChanged=true;this.hasStoreStateChanged=true;this.renderedElement=null;};Connect.prototype.handleChange=function handleChange(){if(!this.unsubscribe){return;}
var prevStoreState=this.state.storeState;var storeState=this.store.getState();if(!pure||prevStoreState!==storeState){this.hasStoreStateChanged=true;this.setState({storeState:storeState});}};Connect.prototype.getWrappedInstance=function getWrappedInstance(){invariant(withRef,'To access the wrapped instance, you need to specify '+'{ withRef: true } as the fourth argument of the connect() call.');return this.refs.wrappedInstance;};Connect.prototype.render=function render(){var haveOwnPropsChanged=this.haveOwnPropsChanged;var hasStoreStateChanged=this.hasStoreStateChanged;var renderedElement=this.renderedElement;this.haveOwnPropsChanged=false;this.hasStoreStateChanged=false;var shouldUpdateStateProps=true;var shouldUpdateDispatchProps=true;if(pure&&renderedElement){shouldUpdateStateProps=hasStoreStateChanged||haveOwnPropsChanged&&doStatePropsDependOnOwnProps;shouldUpdateDispatchProps=haveOwnPropsChanged&&doDispatchPropsDependOnOwnProps;}
var haveStatePropsChanged=false;var haveDispatchPropsChanged=false;if(shouldUpdateStateProps){haveStatePropsChanged=this.updateStatePropsIfNeeded();}
if(shouldUpdateDispatchProps){haveDispatchPropsChanged=this.updateDispatchPropsIfNeeded();}
var haveMergedPropsChanged=true;if(haveStatePropsChanged||haveDispatchPropsChanged||haveOwnPropsChanged){this.updateMergedProps();}else{haveMergedPropsChanged=false;}
if(!haveMergedPropsChanged&&renderedElement){return renderedElement;}
if(withRef){this.renderedElement=createElement(WrappedComponent,_extends({},this.mergedProps,{ref:'wrappedInstance'}));}else{this.renderedElement=createElement(WrappedComponent,this.mergedProps);}
return this.renderedElement;};return Connect;})(Component);Connect.displayName='Connect('+getDisplayName(WrappedComponent)+')';Connect.WrappedComponent=WrappedComponent;Connect.contextTypes={store:storeShape};Connect.propTypes={store:storeShape};if(process.env.NODE_ENV!=='production'){Connect.prototype.componentWillUpdate=function componentWillUpdate(){if(this.version===version){return;}
this.version=version;this.trySubscribe();this.clearCache();};}
return hoistStatics(Connect,WrappedComponent);};}
module.exports=connect;}).call(this,require('_process'))},{"../utils/isPlainObject":66,"../utils/shallowEqual":67,"../utils/storeShape":68,"../utils/wrapActionCreators":69,"_process":8,"hoist-non-react-statics":70,"invariant":71,"react":236}],65:[function(require,module,exports){'use strict';var Provider=require('./components/Provider');var connect=require('./components/connect');module.exports={Provider:Provider,connect:connect};},{"./components/Provider":63,"./components/connect":64}],66:[function(require,module,exports){'use strict';function _typeof(obj){return obj&&typeof Symbol!=="undefined"&&obj.constructor===Symbol?"symbol":typeof obj;}
var fnToString=function fnToString(fn){return Function.prototype.toString.call(fn);};function isPlainObject(obj){if(!obj||(typeof obj==='undefined'?'undefined':_typeof(obj))!=='object'){return false;}
var proto=typeof obj.constructor==='function'?Object.getPrototypeOf(obj):Object.prototype;if(proto===null){return true;}
var constructor=proto.constructor;return typeof constructor==='function'&&constructor instanceof constructor&&fnToString(constructor)===fnToString(Object);}
module.exports=isPlainObject;},{}],67:[function(require,module,exports){"use strict";function shallowEqual(objA,objB){if(objA===objB){return true;}
var keysA=Object.keys(objA);var keysB=Object.keys(objB);if(keysA.length!==keysB.length){return false;}
var hasOwn=Object.prototype.hasOwnProperty;for(var i=0;i<keysA.length;i++){if(!hasOwn.call(objB,keysA[i])||objA[keysA[i]]!==objB[keysA[i]]){return false;}}
return true;}
module.exports=shallowEqual;},{}],68:[function(require,module,exports){'use strict';var _require=require('react');var PropTypes=_require.PropTypes;var storeShape=PropTypes.shape({subscribe:PropTypes.func.isRequired,dispatch:PropTypes.func.isRequired,getState:PropTypes.func.isRequired});module.exports=storeShape;},{"react":236}],69:[function(require,module,exports){'use strict';var _redux=require('redux');function wrapActionCreators(actionCreators){return function(dispatch){return(0,_redux.bindActionCreators)(actionCreators,dispatch);};}
module.exports=wrapActionCreators;},{"redux":250}],70:[function(require,module,exports){'use strict';var REACT_STATICS={childContextTypes:true,contextTypes:true,defaultProps:true,displayName:true,getDefaultProps:true,mixins:true,propTypes:true,type:true};var KNOWN_STATICS={name:true,length:true,prototype:true,caller:true,arguments:true,arity:true};module.exports=function hoistNonReactStatics(targetComponent,sourceComponent){var keys=Object.getOwnPropertyNames(sourceComponent);for(var i=0;i<keys.length;++i){if(!REACT_STATICS[keys[i]]&&!KNOWN_STATICS[keys[i]]){targetComponent[keys[i]]=sourceComponent[keys[i]];}}
return targetComponent;};},{}],71:[function(require,module,exports){arguments[4][52][0].apply(exports,arguments)},{"dup":52}],72:[function(require,module,exports){var KeyEvent=KeyEvent||{};KeyEvent.DOM_VK_UP=KeyEvent.DOM_VK_UP||38;KeyEvent.DOM_VK_DOWN=KeyEvent.DOM_VK_DOWN||40;KeyEvent.DOM_VK_BACK_SPACE=KeyEvent.DOM_VK_BACK_SPACE||8;KeyEvent.DOM_VK_RETURN=KeyEvent.DOM_VK_RETURN||13;KeyEvent.DOM_VK_ENTER=KeyEvent.DOM_VK_ENTER||14;KeyEvent.DOM_VK_ESCAPE=KeyEvent.DOM_VK_ESCAPE||27;KeyEvent.DOM_VK_TAB=KeyEvent.DOM_VK_TAB||9;module.exports=KeyEvent;},{}],73:[function(require,module,exports){var Typeahead=require('./typeahead');var Tokenizer=require('./tokenizer');module.exports={Typeahead:Typeahead,Tokenizer:Tokenizer};},{"./tokenizer":74,"./typeahead":76}],74:[function(require,module,exports){var React=require('react');var Token=require('./token');var KeyEvent=require('../keyevent');var Typeahead=require('../typeahead');var classNames=require('classnames');function _arraysAreDifferent(array1,array2){if(array1.length!=array2.length){return true;}
for(var i=array2.length-1;i>=0;i--){if(array2[i]!==array1[i]){return true;}}}
var TypeaheadTokenizer=React.createClass({displayName:"TypeaheadTokenizer",propTypes:{name:React.PropTypes.string,options:React.PropTypes.array,customClasses:React.PropTypes.object,allowCustomValues:React.PropTypes.number,defaultSelected:React.PropTypes.array,defaultValue:React.PropTypes.string,placeholder:React.PropTypes.string,inputProps:React.PropTypes.object,onTokenRemove:React.PropTypes.func,onKeyDown:React.PropTypes.func,onKeyUp:React.PropTypes.func,onTokenAdd:React.PropTypes.func,onFocus:React.PropTypes.func,onBlur:React.PropTypes.func,filterOption:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.func]),displayOption:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.func]),maxVisible:React.PropTypes.number,defaultClassNames:React.PropTypes.bool},getInitialState:function(){return{selected:this.props.defaultSelected.slice(0)};},getDefaultProps:function(){return{options:[],defaultSelected:[],customClasses:{},allowCustomValues:0,defaultValue:"",placeholder:"",inputProps:{},defaultClassNames:true,filterOption:null,displayOption:function(token){return token},onKeyDown:function(event){},onKeyUp:function(event){},onFocus:function(event){},onBlur:function(event){},onTokenAdd:function(){},onTokenRemove:function(){}};},componentWillReceiveProps:function(nextProps){if(_arraysAreDifferent(this.props.defaultSelected,nextProps.defaultSelected)){this.setState({selected:nextProps.defaultSelected.slice(0)})}},focus:function(){this.refs.typeahead.focus();},getSelectedTokens:function(){return this.state.selected;},_renderTokens:function(){var tokenClasses={};tokenClasses[this.props.customClasses.token]=!!this.props.customClasses.token;var classList=classNames(tokenClasses);var result=this.state.selected.map(function(selected){var displayString=this.props.displayOption(selected);return(React.createElement(Token,{key:displayString,className:classList,onRemove:this._removeTokenForValue,object:selected,name:this.props.name},displayString));},this);return result;},_getOptionsForTypeahead:function(){return this.props.options;},_onKeyDown:function(event){if(event.keyCode===KeyEvent.DOM_VK_BACK_SPACE){return this._handleBackspace(event);}
this.props.onKeyDown(event);},_handleBackspace:function(event){if(!this.state.selected.length){return;}
var entry=this.refs.typeahead.refs.entry;if(entry.selectionStart==entry.selectionEnd&&entry.selectionStart==0){this._removeTokenForValue(this.state.selected[this.state.selected.length-1]);event.preventDefault();}},_removeTokenForValue:function(value){var index=this.state.selected.indexOf(value);if(index==-1){return;}
this.state.selected.splice(index,1);this.setState({selected:this.state.selected});this.props.onTokenRemove(value);return;},_addTokenForValue:function(value){if(this.state.selected.indexOf(value)!=-1){return;}
this.state.selected.push(value);this.setState({selected:this.state.selected});this.refs.typeahead.setEntryText("");this.props.onTokenAdd(value);},render:function(){var classes={};classes[this.props.customClasses.typeahead]=!!this.props.customClasses.typeahead;var classList=classNames(classes);var tokenizerClasses=[this.props.defaultClassNames&&"typeahead-tokenizer"];tokenizerClasses[this.props.className]=!!this.props.className;var tokenizerClassList=classNames(tokenizerClasses)
return(React.createElement("div",{className:tokenizerClassList},this._renderTokens(),React.createElement(Typeahead,{ref:"typeahead",className:classList,placeholder:this.props.placeholder,inputProps:this.props.inputProps,allowCustomValues:this.props.allowCustomValues,customClasses:this.props.customClasses,options:this._getOptionsForTypeahead(),defaultValue:this.props.defaultValue,maxVisible:this.props.maxVisible,onOptionSelected:this._addTokenForValue,onKeyDown:this._onKeyDown,onKeyUp:this.props.onKeyUp,onFocus:this.props.onFocus,onBlur:this.props.onBlur,displayOption:this.props.displayOption,defaultClassNames:this.props.defaultClassNames,filterOption:this.props.filterOption})));}});module.exports=TypeaheadTokenizer;},{"../keyevent":72,"../typeahead":76,"./token":75,"classnames":79,"react":236}],75:[function(require,module,exports){var React=require('react');var classNames=require('classnames');var Token=React.createClass({displayName:"Token",propTypes:{className:React.PropTypes.string,name:React.PropTypes.string,children:React.PropTypes.string,object:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.object,]),onRemove:React.PropTypes.func},render:function(){var className=classNames(["typeahead-token",this.props.className]);return(React.createElement("div",{className:className},this._renderHiddenInput(),this.props.children,this._renderCloseButton()));},_renderHiddenInput:function(){if(!this.props.name){return null;}
return(React.createElement("input",{type:"hidden",name:this.props.name+'[]',value:this.props.object}));},_renderCloseButton:function(){if(!this.props.onRemove){return"";}
return(React.createElement("a",{className:"typeahead-token-close",href:"#",onClick:function(event){this.props.onRemove(this.props.object);event.preventDefault();}.bind(this)},""));}});module.exports=Token;},{"classnames":79,"react":236}],76:[function(require,module,exports){var React=require('react');var TypeaheadSelector=require('./selector');var KeyEvent=require('../keyevent');var fuzzy=require('fuzzy');var classNames=require('classnames');var IDENTITY_FN=function(input){return input;};var SHOULD_SEARCH_VALUE=function(input){return input&&input.trim().length>0;};var _generateAccessor=function(field){return function(object){return object[field];};};var Typeahead=React.createClass({displayName:"Typeahead",propTypes:{name:React.PropTypes.string,customClasses:React.PropTypes.object,maxVisible:React.PropTypes.number,options:React.PropTypes.array,allowCustomValues:React.PropTypes.number,defaultValue:React.PropTypes.string,value:React.PropTypes.string,placeholder:React.PropTypes.string,textarea:React.PropTypes.bool,inputProps:React.PropTypes.object,onOptionSelected:React.PropTypes.func,onChange:React.PropTypes.func,onKeyDown:React.PropTypes.func,onKeyUp:React.PropTypes.func,onFocus:React.PropTypes.func,onBlur:React.PropTypes.func,filterOption:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.func]),displayOption:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.func]),formInputOption:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.func]),defaultClassNames:React.PropTypes.bool,customListComponent:React.PropTypes.oneOfType([React.PropTypes.element,React.PropTypes.func])},getDefaultProps:function(){return{options:[],customClasses:{},allowCustomValues:0,defaultValue:"",value:null,placeholder:"",textarea:false,inputProps:{},onOptionSelected:function(option){},onChange:function(event){},onKeyDown:function(event){},onKeyUp:function(event){},onFocus:function(event){},onBlur:function(event){},filterOption:null,defaultClassNames:true,customListComponent:TypeaheadSelector};},getInitialState:function(){return{visible:this.getOptionsForValue(this.props.defaultValue,this.props.options),entryValue:this.props.value||this.props.defaultValue,selection:this.props.value,selectionIndex:null};},getOptionsForValue:function(value,options){if(!SHOULD_SEARCH_VALUE(value)){return[];}
var filterOptions=this._generateFilterFunction();var result=filterOptions(value,options);if(this.props.maxVisible){result=result.slice(0,this.props.maxVisible);}
return result;},setEntryText:function(value){this.refs.entry.value=value;this._onTextEntryUpdated();},focus:function(){this.refs.entry.focus()},_hasCustomValue:function(){if(this.props.allowCustomValues>0&&this.state.entryValue.length>=this.props.allowCustomValues&&this.state.visible.indexOf(this.state.entryValue)<0){return true;}
return false;},_getCustomValue:function(){if(this._hasCustomValue()){return this.state.entryValue;}
return null;},_renderIncrementalSearchResults:function(){if(!this.state.entryValue){return"";}
if(this.state.selection){return"";}
return(React.createElement(this.props.customListComponent,{ref:"sel",options:this.state.visible,onOptionSelected:this._onOptionSelected,customValue:this._getCustomValue(),customClasses:this.props.customClasses,selectionIndex:this.state.selectionIndex,defaultClassNames:this.props.defaultClassNames,displayOption:this._generateOptionToStringFor(this.props.displayOption)}));},getSelection:function(){var index=this.state.selectionIndex;if(this._hasCustomValue()){if(index===0){return this.state.entryValue;}else{index--;}}
return this.state.visible[index];},_onOptionSelected:function(option,event){var nEntry=this.refs.entry;nEntry.focus();var displayOption=this._generateOptionToStringFor(this.props.displayOption);var optionString=displayOption(option,0);var formInputOption=this._generateOptionToStringFor(this.props.formInputOption||displayOption);var formInputOptionString=formInputOption(option);nEntry.value=optionString;this.setState({visible:this.getOptionsForValue(optionString,this.props.options),selection:formInputOptionString,entryValue:optionString});return this.props.onOptionSelected(option,event);},_onTextEntryUpdated:function(){var value=this.refs.entry.value;this.setState({visible:this.getOptionsForValue(value,this.props.options),selection:null,entryValue:value});},_onEnter:function(event){var selection=this.getSelection();if(!selection){return this.props.onKeyDown(event);}
return this._onOptionSelected(selection,event);},_onEscape:function(){this.setState({selectionIndex:null});},_onTab:function(event){var selection=this.getSelection();var option=selection?selection:(this.state.visible.length>0?this.state.visible[0]:null);if(option===null&&this._hasCustomValue()){option=this._getCustomValue();}
if(option!==null){return this._onOptionSelected(option,event);}},eventMap:function(event){var events={};events[KeyEvent.DOM_VK_UP]=this.navUp;events[KeyEvent.DOM_VK_DOWN]=this.navDown;events[KeyEvent.DOM_VK_RETURN]=events[KeyEvent.DOM_VK_ENTER]=this._onEnter;events[KeyEvent.DOM_VK_ESCAPE]=this._onEscape;events[KeyEvent.DOM_VK_TAB]=this._onTab;return events;},_nav:function(delta){if(!this._hasHint()){return;}
var newIndex=this.state.selectionIndex===null?(delta==1?0:delta):this.state.selectionIndex+delta;var length=this.state.visible.length;if(this._hasCustomValue()){length+=1;}
if(newIndex<0){newIndex+=length;}else if(newIndex>=length){newIndex-=length;}
this.setState({selectionIndex:newIndex});},navDown:function(){this._nav(1);},navUp:function(){this._nav(-1);},_onChange:function(event){if(this.props.onChange){this.props.onChange(event);}
this._onTextEntryUpdated();},_onKeyDown:function(event){if(!this._hasHint()||event.shiftKey){return this.props.onKeyDown(event);}
var handler=this.eventMap()[event.keyCode];if(handler){handler(event);}else{return this.props.onKeyDown(event);}
event.preventDefault();},componentWillReceiveProps:function(nextProps){this.setState({visible:this.getOptionsForValue(this.state.entryValue,nextProps.options)});},render:function(){var inputClasses={};inputClasses[this.props.customClasses.input]=!!this.props.customClasses.input;var inputClassList=classNames(inputClasses);var classes={typeahead:this.props.defaultClassNames};classes[this.props.className]=!!this.props.className;var classList=classNames(classes);var InputElement=this.props.textarea?'textarea':'input';return(React.createElement("div",{className:classList},this._renderHiddenInput(),React.createElement(InputElement,React.__spread({ref:"entry",type:"text"},this.props.inputProps,{placeholder:this.props.placeholder,className:inputClassList,value:this.state.entryValue,defaultValue:this.props.defaultValue,onChange:this._onChange,onKeyDown:this._onKeyDown,onKeyUp:this.props.onKeyUp,onFocus:this.props.onFocus,onBlur:this.props.onBlur})),this._renderIncrementalSearchResults()));},_renderHiddenInput:function(){if(!this.props.name){return null;}
return(React.createElement("input",{type:"hidden",name:this.props.name,value:this.state.selection}));},_generateFilterFunction:function(){var filterOptionProp=this.props.filterOption;if(typeof filterOptionProp==='function'){return function(value,options){return options.filter(function(o){return filterOptionProp(value,o);});};}else{var mapper;if(typeof filterOptionProp==='string'){mapper=_generateAccessor(filterOptionProp);}else{mapper=IDENTITY_FN;}
return function(value,options){return fuzzy.filter(value,options,{extract:mapper}).map(function(res){return options[res.index];});};}},_generateOptionToStringFor:function(prop){if(typeof prop==='string'){return _generateAccessor(prop);}else if(typeof prop==='function'){return prop;}else{return IDENTITY_FN;}},_hasHint:function(){return this.state.visible.length>0||this._hasCustomValue();}});module.exports=Typeahead;},{"../keyevent":72,"./selector":78,"classnames":79,"fuzzy":80,"react":236}],77:[function(require,module,exports){var React=require('react');var classNames=require('classnames');var TypeaheadOption=React.createClass({displayName:"TypeaheadOption",propTypes:{customClasses:React.PropTypes.object,customValue:React.PropTypes.string,onClick:React.PropTypes.func,children:React.PropTypes.string,hover:React.PropTypes.bool},getDefaultProps:function(){return{customClasses:{},onClick:function(event){event.preventDefault();}};},render:function(){var classes={};classes[this.props.customClasses.hover||"hover"]=!!this.props.hover;classes[this.props.customClasses.listItem]=!!this.props.customClasses.listItem;if(this.props.customValue){classes[this.props.customClasses.customAdd]=!!this.props.customClasses.customAdd;}
var classList=classNames(classes);return(React.createElement("li",{className:classList,onClick:this._onClick},React.createElement("a",{href:"javascript: void 0;",className:this._getClasses(),ref:"anchor"},this.props.children)));},_getClasses:function(){var classes={"typeahead-option":true,};classes[this.props.customClasses.listAnchor]=!!this.props.customClasses.listAnchor;return classNames(classes);},_onClick:function(event){event.preventDefault();return this.props.onClick(event);}});module.exports=TypeaheadOption;},{"classnames":79,"react":236}],78:[function(require,module,exports){var React=require('react');var TypeaheadOption=require('./option');var classNames=require('classnames');var TypeaheadSelector=React.createClass({displayName:"TypeaheadSelector",propTypes:{options:React.PropTypes.array,customClasses:React.PropTypes.object,customValue:React.PropTypes.string,selectionIndex:React.PropTypes.number,onOptionSelected:React.PropTypes.func,displayOption:React.PropTypes.func.isRequired,defaultClassNames:React.PropTypes.bool},getDefaultProps:function(){return{selectionIndex:null,customClasses:{},customValue:null,onOptionSelected:function(option){},defaultClassNames:true};},render:function(){var classes={"typeahead-selector":this.props.defaultClassNames};classes[this.props.customClasses.results]=this.props.customClasses.results;var classList=classNames(classes);var customValue=null;var customValueOffset=0;if(this.props.customValue!==null){customValueOffset++;customValue=(React.createElement(TypeaheadOption,{ref:this.props.customValue,key:this.props.customValue,hover:this.props.selectionIndex===0,customClasses:this.props.customClasses,customValue:this.props.customValue,onClick:this._onClick.bind(this,this.props.customValue)},this.props.customValue));}
var results=this.props.options.map(function(result,i){var displayString=this.props.displayOption(result,i);var uniqueKey=displayString+'_'+i;return(React.createElement(TypeaheadOption,{ref:uniqueKey,key:uniqueKey,hover:this.props.selectionIndex===i+customValueOffset,customClasses:this.props.customClasses,onClick:this._onClick.bind(this,result)},displayString));},this);return(React.createElement("ul",{className:classList},customValue,results));},_onClick:function(result,event){return this.props.onOptionSelected(result,event);}});module.exports=TypeaheadSelector;},{"./option":77,"classnames":79,"react":236}],79:[function(require,module,exports){function classNames(){var classes='';var arg;for(var i=0;i<arguments.length;i++){arg=arguments[i];if(!arg){continue;}
if('string'===typeof arg||'number'===typeof arg){classes+=' '+arg;}else if(Object.prototype.toString.call(arg)==='[object Array]'){classes+=' '+classNames.apply(null,arg);}else if('object'===typeof arg){for(var key in arg){if(!arg.hasOwnProperty(key)||!arg[key]){continue;}
classes+=' '+key;}}}
return classes.substr(1);}
if(typeof module!=='undefined'&&module.exports){module.exports=classNames;}
if(typeof define!=='undefined'&&define.amd){define('classnames',[],function(){return classNames;});}},{}],80:[function(require,module,exports){(function(){var root=this;var fuzzy={};if(typeof exports!=='undefined'){module.exports=fuzzy;}else{root.fuzzy=fuzzy;}
fuzzy.simpleFilter=function(pattern,array){return array.filter(function(string){return fuzzy.test(pattern,string);});};fuzzy.test=function(pattern,string){return fuzzy.match(pattern,string)!==null;};fuzzy.match=function(pattern,string,opts){opts=opts||{};var patternIdx=0,result=[],len=string.length,totalScore=0,currScore=0,pre=opts.pre||'',post=opts.post||'',compareString=opts.caseSensitive&&string||string.toLowerCase(),ch,compareChar;pattern=opts.caseSensitive&&pattern||pattern.toLowerCase();for(var idx=0;idx<len;idx++){ch=string[idx];if(compareString[idx]===pattern[patternIdx]){ch=pre+ch+post;patternIdx+=1;currScore+=1+currScore;}else{currScore=0;}
totalScore+=currScore;result[result.length]=ch;}
if(patternIdx===pattern.length){return{rendered:result.join(''),score:totalScore};}
return null;};fuzzy.filter=function(pattern,arr,opts){opts=opts||{};return arr.reduce(function(prev,element,idx,arr){var str=element;if(opts.extract){str=opts.extract(element);}
var rendered=fuzzy.match(pattern,str,opts);if(rendered!=null){prev[prev.length]={string:rendered.rendered,score:rendered.score,index:idx,original:element};}
return prev;},[]).sort(function(a,b){var compare=b.score-a.score;if(compare)return compare;return a.index-b.index;});};}());},{}],81:[function(require,module,exports){'use strict';var ReactMount=require('./ReactMount');var findDOMNode=require('./findDOMNode');var focusNode=require('fbjs/lib/focusNode');var Mixin={componentDidMount:function(){if(this.props.autoFocus){focusNode(findDOMNode(this));}}};var AutoFocusUtils={Mixin:Mixin,focusDOMComponent:function(){focusNode(ReactMount.getNode(this._rootNodeID));}};module.exports=AutoFocusUtils;},{"./ReactMount":145,"./findDOMNode":188,"fbjs/lib/focusNode":218}],82:[function(require,module,exports){'use strict';var EventConstants=require('./EventConstants');var EventPropagators=require('./EventPropagators');var ExecutionEnvironment=require('fbjs/lib/ExecutionEnvironment');var FallbackCompositionState=require('./FallbackCompositionState');var SyntheticCompositionEvent=require('./SyntheticCompositionEvent');var SyntheticInputEvent=require('./SyntheticInputEvent');var keyOf=require('fbjs/lib/keyOf');var END_KEYCODES=[9,13,27,32];var START_KEYCODE=229;var canUseCompositionEvent=ExecutionEnvironment.canUseDOM&&'CompositionEvent'in window;var documentMode=null;if(ExecutionEnvironment.canUseDOM&&'documentMode'in document){documentMode=document.documentMode;}
var canUseTextInputEvent=ExecutionEnvironment.canUseDOM&&'TextEvent'in window&&!documentMode&&!isPresto();var useFallbackCompositionData=ExecutionEnvironment.canUseDOM&&(!canUseCompositionEvent||documentMode&&documentMode>8&&documentMode<=11);function isPresto(){var opera=window.opera;return typeof opera==='object'&&typeof opera.version==='function'&&parseInt(opera.version(),10)<=12;}
var SPACEBAR_CODE=32;var SPACEBAR_CHAR=String.fromCharCode(SPACEBAR_CODE);var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={beforeInput:{phasedRegistrationNames:{bubbled:keyOf({onBeforeInput:null}),captured:keyOf({onBeforeInputCapture:null})},dependencies:[topLevelTypes.topCompositionEnd,topLevelTypes.topKeyPress,topLevelTypes.topTextInput,topLevelTypes.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:keyOf({onCompositionEnd:null}),captured:keyOf({onCompositionEndCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionEnd,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:keyOf({onCompositionStart:null}),captured:keyOf({onCompositionStartCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionStart,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:keyOf({onCompositionUpdate:null}),captured:keyOf({onCompositionUpdateCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionUpdate,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]}};var hasSpaceKeypress=false;function isKeypressCommand(nativeEvent){return(nativeEvent.ctrlKey||nativeEvent.altKey||nativeEvent.metaKey)&&!(nativeEvent.ctrlKey&&nativeEvent.altKey);}
function getCompositionEventType(topLevelType){switch(topLevelType){case topLevelTypes.topCompositionStart:return eventTypes.compositionStart;case topLevelTypes.topCompositionEnd:return eventTypes.compositionEnd;case topLevelTypes.topCompositionUpdate:return eventTypes.compositionUpdate;}}
function isFallbackCompositionStart(topLevelType,nativeEvent){return topLevelType===topLevelTypes.topKeyDown&&nativeEvent.keyCode===START_KEYCODE;}
function isFallbackCompositionEnd(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topKeyUp:return END_KEYCODES.indexOf(nativeEvent.keyCode)!==-1;case topLevelTypes.topKeyDown:return nativeEvent.keyCode!==START_KEYCODE;case topLevelTypes.topKeyPress:case topLevelTypes.topMouseDown:case topLevelTypes.topBlur:return true;default:return false;}}
function getDataFromCustomEvent(nativeEvent){var detail=nativeEvent.detail;if(typeof detail==='object'&&'data'in detail){return detail.data;}
return null;}
var currentComposition=null;function extractCompositionEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var eventType;var fallbackData;if(canUseCompositionEvent){eventType=getCompositionEventType(topLevelType);}else if(!currentComposition){if(isFallbackCompositionStart(topLevelType,nativeEvent)){eventType=eventTypes.compositionStart;}}else if(isFallbackCompositionEnd(topLevelType,nativeEvent)){eventType=eventTypes.compositionEnd;}
if(!eventType){return null;}
if(useFallbackCompositionData){if(!currentComposition&&eventType===eventTypes.compositionStart){currentComposition=FallbackCompositionState.getPooled(topLevelTarget);}else if(eventType===eventTypes.compositionEnd){if(currentComposition){fallbackData=currentComposition.getData();}}}
var event=SyntheticCompositionEvent.getPooled(eventType,topLevelTargetID,nativeEvent,nativeEventTarget);if(fallbackData){event.data=fallbackData;}else{var customData=getDataFromCustomEvent(nativeEvent);if(customData!==null){event.data=customData;}}
EventPropagators.accumulateTwoPhaseDispatches(event);return event;}
function getNativeBeforeInputChars(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topCompositionEnd:return getDataFromCustomEvent(nativeEvent);case topLevelTypes.topKeyPress:var which=nativeEvent.which;if(which!==SPACEBAR_CODE){return null;}
hasSpaceKeypress=true;return SPACEBAR_CHAR;case topLevelTypes.topTextInput:var chars=nativeEvent.data;if(chars===SPACEBAR_CHAR&&hasSpaceKeypress){return null;}
return chars;default:return null;}}
function getFallbackBeforeInputChars(topLevelType,nativeEvent){if(currentComposition){if(topLevelType===topLevelTypes.topCompositionEnd||isFallbackCompositionEnd(topLevelType,nativeEvent)){var chars=currentComposition.getData();FallbackCompositionState.release(currentComposition);currentComposition=null;return chars;}
return null;}
switch(topLevelType){case topLevelTypes.topPaste:return null;case topLevelTypes.topKeyPress:if(nativeEvent.which&&!isKeypressCommand(nativeEvent)){return String.fromCharCode(nativeEvent.which);}
return null;case topLevelTypes.topCompositionEnd:return useFallbackCompositionData?null:nativeEvent.data;default:return null;}}
function extractBeforeInputEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var chars;if(canUseTextInputEvent){chars=getNativeBeforeInputChars(topLevelType,nativeEvent);}else{chars=getFallbackBeforeInputChars(topLevelType,nativeEvent);}
if(!chars){return null;}
var event=SyntheticInputEvent.getPooled(eventTypes.beforeInput,topLevelTargetID,nativeEvent,nativeEventTarget);event.data=chars;EventPropagators.accumulateTwoPhaseDispatches(event);return event;}
var BeforeInputEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){return[extractCompositionEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget),extractBeforeInputEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget)];}};module.exports=BeforeInputEventPlugin;},{"./EventConstants":94,"./EventPropagators":98,"./FallbackCompositionState":99,"./SyntheticCompositionEvent":170,"./SyntheticInputEvent":174,"fbjs/lib/ExecutionEnvironment":210,"fbjs/lib/keyOf":228}],83:[function(require,module,exports){'use strict';var isUnitlessNumber={animationIterationCount:true,boxFlex:true,boxFlexGroup:true,boxOrdinalGroup:true,columnCount:true,flex:true,flexGrow:true,flexPositive:true,flexShrink:true,flexNegative:true,flexOrder:true,fontWeight:true,lineClamp:true,lineHeight:true,opacity:true,order:true,orphans:true,tabSize:true,widows:true,zIndex:true,zoom:true,fillOpacity:true,stopOpacity:true,strokeDashoffset:true,strokeOpacity:true,strokeWidth:true};function prefixKey(prefix,key){return prefix+key.charAt(0).toUpperCase()+key.substring(1);}
var prefixes=['Webkit','ms','Moz','O'];Object.keys(isUnitlessNumber).forEach(function(prop){prefixes.forEach(function(prefix){isUnitlessNumber[prefixKey(prefix,prop)]=isUnitlessNumber[prop];});});var shorthandPropertyExpansions={background:{backgroundAttachment:true,backgroundColor:true,backgroundImage:true,backgroundPositionX:true,backgroundPositionY:true,backgroundRepeat:true},backgroundPosition:{backgroundPositionX:true,backgroundPositionY:true},border:{borderWidth:true,borderStyle:true,borderColor:true},borderBottom:{borderBottomWidth:true,borderBottomStyle:true,borderBottomColor:true},borderLeft:{borderLeftWidth:true,borderLeftStyle:true,borderLeftColor:true},borderRight:{borderRightWidth:true,borderRightStyle:true,borderRightColor:true},borderTop:{borderTopWidth:true,borderTopStyle:true,borderTopColor:true},font:{fontStyle:true,fontVariant:true,fontWeight:true,fontSize:true,lineHeight:true,fontFamily:true},outline:{outlineWidth:true,outlineStyle:true,outlineColor:true}};var CSSProperty={isUnitlessNumber:isUnitlessNumber,shorthandPropertyExpansions:shorthandPropertyExpansions};module.exports=CSSProperty;},{}],84:[function(require,module,exports){'use strict';var CSSProperty=require('./CSSProperty');var ExecutionEnvironment=require('fbjs/lib/ExecutionEnvironment');var ReactPerf=require('./ReactPerf');var camelizeStyleName=require('fbjs/lib/camelizeStyleName');var dangerousStyleValue=require('./dangerousStyleValue');var hyphenateStyleName=require('fbjs/lib/hyphenateStyleName');var memoizeStringOnly=require('fbjs/lib/memoizeStringOnly');var warning=require('fbjs/lib/warning');var processStyleName=memoizeStringOnly(function(styleName){return hyphenateStyleName(styleName);});var hasShorthandPropertyBug=false;var styleFloatAccessor='cssFloat';if(ExecutionEnvironment.canUseDOM){var tempStyle=document.createElement('div').style;try{tempStyle.font='';}catch(e){hasShorthandPropertyBug=true;}
if(document.documentElement.style.cssFloat===undefined){styleFloatAccessor='styleFloat';}}
if("production"!=='production'){var badVendoredStyleNamePattern=/^(?:webkit|moz|o)[A-Z]/;var badStyleValueWithSemicolonPattern=/;\s*$/;var warnedStyleNames={};var warnedStyleValues={};var warnHyphenatedStyleName=function(name){if(warnedStyleNames.hasOwnProperty(name)&&warnedStyleNames[name]){return;}
warnedStyleNames[name]=true;"production"!=='production'?warning(false,'Unsupported style property %s. Did you mean %s?',name,camelizeStyleName(name)):undefined;};var warnBadVendoredStyleName=function(name){if(warnedStyleNames.hasOwnProperty(name)&&warnedStyleNames[name]){return;}
warnedStyleNames[name]=true;"production"!=='production'?warning(false,'Unsupported vendor-prefixed style property %s. Did you mean %s?',name,name.charAt(0).toUpperCase()+name.slice(1)):undefined;};var warnStyleValueWithSemicolon=function(name,value){if(warnedStyleValues.hasOwnProperty(value)&&warnedStyleValues[value]){return;}
warnedStyleValues[value]=true;"production"!=='production'?warning(false,'Style property values shouldn\'t contain a semicolon. '+'Try "%s: %s" instead.',name,value.replace(badStyleValueWithSemicolonPattern,'')):undefined;};var warnValidStyle=function(name,value){if(name.indexOf('-')>-1){warnHyphenatedStyleName(name);}else if(badVendoredStyleNamePattern.test(name)){warnBadVendoredStyleName(name);}else if(badStyleValueWithSemicolonPattern.test(value)){warnStyleValueWithSemicolon(name,value);}};}
var CSSPropertyOperations={createMarkupForStyles:function(styles){var serialized='';for(var styleName in styles){if(!styles.hasOwnProperty(styleName)){continue;}
var styleValue=styles[styleName];if("production"!=='production'){warnValidStyle(styleName,styleValue);}
if(styleValue!=null){serialized+=processStyleName(styleName)+':';serialized+=dangerousStyleValue(styleName,styleValue)+';';}}
return serialized||null;},setValueForStyles:function(node,styles){var style=node.style;for(var styleName in styles){if(!styles.hasOwnProperty(styleName)){continue;}
if("production"!=='production'){warnValidStyle(styleName,styles[styleName]);}
var styleValue=dangerousStyleValue(styleName,styles[styleName]);if(styleName==='float'){styleName=styleFloatAccessor;}
if(styleValue){style[styleName]=styleValue;}else{var expansion=hasShorthandPropertyBug&&CSSProperty.shorthandPropertyExpansions[styleName];if(expansion){for(var individualStyleName in expansion){style[individualStyleName]='';}}else{style[styleName]='';}}}}};ReactPerf.measureMethods(CSSPropertyOperations,'CSSPropertyOperations',{setValueForStyles:'setValueForStyles'});module.exports=CSSPropertyOperations;},{"./CSSProperty":83,"./ReactPerf":151,"./dangerousStyleValue":185,"fbjs/lib/ExecutionEnvironment":210,"fbjs/lib/camelizeStyleName":212,"fbjs/lib/hyphenateStyleName":223,"fbjs/lib/memoizeStringOnly":230,"fbjs/lib/warning":235}],85:[function(require,module,exports){'use strict';var PooledClass=require('./PooledClass');var assign=require('./Object.assign');var invariant=require('fbjs/lib/invariant');function CallbackQueue(){this._callbacks=null;this._contexts=null;}
assign(CallbackQueue.prototype,{enqueue:function(callback,context){this._callbacks=this._callbacks||[];this._contexts=this._contexts||[];this._callbacks.push(callback);this._contexts.push(context);},notifyAll:function(){var callbacks=this._callbacks;var contexts=this._contexts;if(callbacks){!(callbacks.length===contexts.length)?"production"!=='production'?invariant(false,'Mismatched list of contexts in callback queue'):invariant(false):undefined;this._callbacks=null;this._contexts=null;for(var i=0;i<callbacks.length;i++){callbacks[i].call(contexts[i]);}
callbacks.length=0;contexts.length=0;}},reset:function(){this._callbacks=null;this._contexts=null;},destructor:function(){this.reset();}});PooledClass.addPoolingTo(CallbackQueue);module.exports=CallbackQueue;},{"./Object.assign":102,"./PooledClass":103,"fbjs/lib/invariant":224}],86:[function(require,module,exports){'use strict';var EventConstants=require('./EventConstants');var EventPluginHub=require('./EventPluginHub');var EventPropagators=require('./EventPropagators');var ExecutionEnvironment=require('fbjs/lib/ExecutionEnvironment');var ReactUpdates=require('./ReactUpdates');var SyntheticEvent=require('./SyntheticEvent');var getEventTarget=require('./getEventTarget');var isEventSupported=require('./isEventSupported');var isTextInputElement=require('./isTextInputElement');var keyOf=require('fbjs/lib/keyOf');var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={change:{phasedRegistrationNames:{bubbled:keyOf({onChange:null}),captured:keyOf({onChangeCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topChange,topLevelTypes.topClick,topLevelTypes.topFocus,topLevelTypes.topInput,topLevelTypes.topKeyDown,topLevelTypes.topKeyUp,topLevelTypes.topSelectionChange]}};var activeElement=null;var activeElementID=null;var activeElementValue=null;var activeElementValueProp=null;function shouldUseChangeEvent(elem){var nodeName=elem.nodeName&&elem.nodeName.toLowerCase();return nodeName==='select'||nodeName==='input'&&elem.type==='file';}
var doesChangeEventBubble=false;if(ExecutionEnvironment.canUseDOM){doesChangeEventBubble=isEventSupported('change')&&(!('documentMode'in document)||document.documentMode>8);}
function manualDispatchChangeEvent(nativeEvent){var event=SyntheticEvent.getPooled(eventTypes.change,activeElementID,nativeEvent,getEventTarget(nativeEvent));EventPropagators.accumulateTwoPhaseDispatches(event);ReactUpdates.batchedUpdates(runEventInBatch,event);}
function runEventInBatch(event){EventPluginHub.enqueueEvents(event);EventPluginHub.processEventQueue(false);}
function startWatchingForChangeEventIE8(target,targetID){activeElement=target;activeElementID=targetID;activeElement.attachEvent('onchange',manualDispatchChangeEvent);}
function stopWatchingForChangeEventIE8(){if(!activeElement){return;}
activeElement.detachEvent('onchange',manualDispatchChangeEvent);activeElement=null;activeElementID=null;}
function getTargetIDForChangeEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topChange){return topLevelTargetID;}}
function handleEventsForChangeEventIE8(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topFocus){stopWatchingForChangeEventIE8();startWatchingForChangeEventIE8(topLevelTarget,topLevelTargetID);}else if(topLevelType===topLevelTypes.topBlur){stopWatchingForChangeEventIE8();}}
var isInputEventSupported=false;if(ExecutionEnvironment.canUseDOM){isInputEventSupported=isEventSupported('input')&&(!('documentMode'in document)||document.documentMode>9);}
var newValueProp={get:function(){return activeElementValueProp.get.call(this);},set:function(val){activeElementValue=''+val;activeElementValueProp.set.call(this,val);}};function startWatchingForValueChange(target,targetID){activeElement=target;activeElementID=targetID;activeElementValue=target.value;activeElementValueProp=Object.getOwnPropertyDescriptor(target.constructor.prototype,'value');Object.defineProperty(activeElement,'value',newValueProp);activeElement.attachEvent('onpropertychange',handlePropertyChange);}
function stopWatchingForValueChange(){if(!activeElement){return;}
delete activeElement.value;activeElement.detachEvent('onpropertychange',handlePropertyChange);activeElement=null;activeElementID=null;activeElementValue=null;activeElementValueProp=null;}
function handlePropertyChange(nativeEvent){if(nativeEvent.propertyName!=='value'){return;}
var value=nativeEvent.srcElement.value;if(value===activeElementValue){return;}
activeElementValue=value;manualDispatchChangeEvent(nativeEvent);}
function getTargetIDForInputEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topInput){return topLevelTargetID;}}
function handleEventsForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topFocus){stopWatchingForValueChange();startWatchingForValueChange(topLevelTarget,topLevelTargetID);}else if(topLevelType===topLevelTypes.topBlur){stopWatchingForValueChange();}}
function getTargetIDForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topSelectionChange||topLevelType===topLevelTypes.topKeyUp||topLevelType===topLevelTypes.topKeyDown){if(activeElement&&activeElement.value!==activeElementValue){activeElementValue=activeElement.value;return activeElementID;}}}
function shouldUseClickEvent(elem){return elem.nodeName&&elem.nodeName.toLowerCase()==='input'&&(elem.type==='checkbox'||elem.type==='radio');}
function getTargetIDForClickEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topClick){return topLevelTargetID;}}
var ChangeEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var getTargetIDFunc,handleEventFunc;if(shouldUseChangeEvent(topLevelTarget)){if(doesChangeEventBubble){getTargetIDFunc=getTargetIDForChangeEvent;}else{handleEventFunc=handleEventsForChangeEventIE8;}}else if(isTextInputElement(topLevelTarget)){if(isInputEventSupported){getTargetIDFunc=getTargetIDForInputEvent;}else{getTargetIDFunc=getTargetIDForInputEventIE;handleEventFunc=handleEventsForInputEventIE;}}else if(shouldUseClickEvent(topLevelTarget)){getTargetIDFunc=getTargetIDForClickEvent;}
if(getTargetIDFunc){var targetID=getTargetIDFunc(topLevelType,topLevelTarget,topLevelTargetID);if(targetID){var event=SyntheticEvent.getPooled(eventTypes.change,targetID,nativeEvent,nativeEventTarget);event.type='change';EventPropagators.accumulateTwoPhaseDispatches(event);return event;}}
if(handleEventFunc){handleEventFunc(topLevelType,topLevelTarget,topLevelTargetID);}}};module.exports=ChangeEventPlugin;},{"./EventConstants":94,"./EventPluginHub":95,"./EventPropagators":98,"./ReactUpdates":163,"./SyntheticEvent":172,"./getEventTarget":194,"./isEventSupported":199,"./isTextInputElement":200,"fbjs/lib/ExecutionEnvironment":210,"fbjs/lib/keyOf":228}],87:[function(require,module,exports){'use strict';var nextReactRootIndex=0;var ClientReactRootIndex={createReactRootIndex:function(){return nextReactRootIndex++;}};module.exports=ClientReactRootIndex;},{}],88:[function(require,module,exports){'use strict';var Danger=require('./Danger');var ReactMultiChildUpdateTypes=require('./ReactMultiChildUpdateTypes');var ReactPerf=require('./ReactPerf');var setInnerHTML=require('./setInnerHTML');var setTextContent=require('./setTextContent');var invariant=require('fbjs/lib/invariant');function insertChildAt(parentNode,childNode,index){var beforeChild=index>=parentNode.childNodes.length?null:parentNode.childNodes.item(index);parentNode.insertBefore(childNode,beforeChild);}
var DOMChildrenOperations={dangerouslyReplaceNodeWithMarkup:Danger.dangerouslyReplaceNodeWithMarkup,updateTextContent:setTextContent,processUpdates:function(updates,markupList){var update;var initialChildren=null;var updatedChildren=null;for(var i=0;i<updates.length;i++){update=updates[i];if(update.type===ReactMultiChildUpdateTypes.MOVE_EXISTING||update.type===ReactMultiChildUpdateTypes.REMOVE_NODE){var updatedIndex=update.fromIndex;var updatedChild=update.parentNode.childNodes[updatedIndex];var parentID=update.parentID;!updatedChild?"production"!=='production'?invariant(false,'processUpdates(): Unable to find child %s of element. This '+'probably means the DOM was unexpectedly mutated (e.g., by the '+'browser), usually due to forgetting a <tbody> when using tables, '+'nesting tags like <form>, <p>, or <a>, or using non-SVG elements '+'in an <svg> parent. Try inspecting the child nodes of the element '+'with React ID `%s`.',updatedIndex,parentID):invariant(false):undefined;initialChildren=initialChildren||{};initialChildren[parentID]=initialChildren[parentID]||[];initialChildren[parentID][updatedIndex]=updatedChild;updatedChildren=updatedChildren||[];updatedChildren.push(updatedChild);}}
var renderedMarkup;if(markupList.length&&typeof markupList[0]==='string'){renderedMarkup=Danger.dangerouslyRenderMarkup(markupList);}else{renderedMarkup=markupList;}
if(updatedChildren){for(var j=0;j<updatedChildren.length;j++){updatedChildren[j].parentNode.removeChild(updatedChildren[j]);}}
for(var k=0;k<updates.length;k++){update=updates[k];switch(update.type){case ReactMultiChildUpdateTypes.INSERT_MARKUP:insertChildAt(update.parentNode,renderedMarkup[update.markupIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.MOVE_EXISTING:insertChildAt(update.parentNode,initialChildren[update.parentID][update.fromIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.SET_MARKUP:setInnerHTML(update.parentNode,update.content);break;case ReactMultiChildUpdateTypes.TEXT_CONTENT:setTextContent(update.parentNode,update.content);break;case ReactMultiChildUpdateTypes.REMOVE_NODE:break;}}}};ReactPerf.measureMethods(DOMChildrenOperations,'DOMChildrenOperations',{updateTextContent:'updateTextContent'});module.exports=DOMChildrenOperations;},{"./Danger":91,"./ReactMultiChildUpdateTypes":147,"./ReactPerf":151,"./setInnerHTML":204,"./setTextContent":205,"fbjs/lib/invariant":224}],89:[function(require,module,exports){'use strict';var invariant=require('fbjs/lib/invariant');function checkMask(value,bitmask){return(value&bitmask)===bitmask;}
var DOMPropertyInjection={MUST_USE_ATTRIBUTE:0x1,MUST_USE_PROPERTY:0x2,HAS_SIDE_EFFECTS:0x4,HAS_BOOLEAN_VALUE:0x8,HAS_NUMERIC_VALUE:0x10,HAS_POSITIVE_NUMERIC_VALUE:0x20|0x10,HAS_OVERLOADED_BOOLEAN_VALUE:0x40,injectDOMPropertyConfig:function(domPropertyConfig){var Injection=DOMPropertyInjection;var Properties=domPropertyConfig.Properties||{};var DOMAttributeNamespaces=domPropertyConfig.DOMAttributeNamespaces||{};var DOMAttributeNames=domPropertyConfig.DOMAttributeNames||{};var DOMPropertyNames=domPropertyConfig.DOMPropertyNames||{};var DOMMutationMethods=domPropertyConfig.DOMMutationMethods||{};if(domPropertyConfig.isCustomAttribute){DOMProperty._isCustomAttributeFunctions.push(domPropertyConfig.isCustomAttribute);}
for(var propName in Properties){!!DOMProperty.properties.hasOwnProperty(propName)?"production"!=='production'?invariant(false,'injectDOMPropertyConfig(...): You\'re trying to inject DOM property '+'\'%s\' which has already been injected. You may be accidentally '+'injecting the same DOM property config twice, or you may be '+'injecting two configs that have conflicting property names.',propName):invariant(false):undefined;var lowerCased=propName.toLowerCase();var propConfig=Properties[propName];var propertyInfo={attributeName:lowerCased,attributeNamespace:null,propertyName:propName,mutationMethod:null,mustUseAttribute:checkMask(propConfig,Injection.MUST_USE_ATTRIBUTE),mustUseProperty:checkMask(propConfig,Injection.MUST_USE_PROPERTY),hasSideEffects:checkMask(propConfig,Injection.HAS_SIDE_EFFECTS),hasBooleanValue:checkMask(propConfig,Injection.HAS_BOOLEAN_VALUE),hasNumericValue:checkMask(propConfig,Injection.HAS_NUMERIC_VALUE),hasPositiveNumericValue:checkMask(propConfig,Injection.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:checkMask(propConfig,Injection.HAS_OVERLOADED_BOOLEAN_VALUE)};!(!propertyInfo.mustUseAttribute||!propertyInfo.mustUseProperty)?"production"!=='production'?invariant(false,'DOMProperty: Cannot require using both attribute and property: %s',propName):invariant(false):undefined;!(propertyInfo.mustUseProperty||!propertyInfo.hasSideEffects)?"production"!=='production'?invariant(false,'DOMProperty: Properties that have side effects must use property: %s',propName):invariant(false):undefined;!(propertyInfo.hasBooleanValue+propertyInfo.hasNumericValue+propertyInfo.hasOverloadedBooleanValue<=1)?"production"!=='production'?invariant(false,'DOMProperty: Value can be one of boolean, overloaded boolean, or '+'numeric value, but not a combination: %s',propName):invariant(false):undefined;if("production"!=='production'){DOMProperty.getPossibleStandardName[lowerCased]=propName;}
if(DOMAttributeNames.hasOwnProperty(propName)){var attributeName=DOMAttributeNames[propName];propertyInfo.attributeName=attributeName;if("production"!=='production'){DOMProperty.getPossibleStandardName[attributeName]=propName;}}
if(DOMAttributeNamespaces.hasOwnProperty(propName)){propertyInfo.attributeNamespace=DOMAttributeNamespaces[propName];}
if(DOMPropertyNames.hasOwnProperty(propName)){propertyInfo.propertyName=DOMPropertyNames[propName];}
if(DOMMutationMethods.hasOwnProperty(propName)){propertyInfo.mutationMethod=DOMMutationMethods[propName];}
DOMProperty.properties[propName]=propertyInfo;}}};var defaultValueCache={};var DOMProperty={ID_ATTRIBUTE_NAME:'data-reactid',properties:{},getPossibleStandardName:"production"!=='production'?{}:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(attributeName){for(var i=0;i<DOMProperty._isCustomAttributeFunctions.length;i++){var isCustomAttributeFn=DOMProperty._isCustomAttributeFunctions[i];if(isCustomAttributeFn(attributeName)){return true;}}
return false;},getDefaultValueForProperty:function(nodeName,prop){var nodeDefaults=defaultValueCache[nodeName];var testElement;if(!nodeDefaults){defaultValueCache[nodeName]=nodeDefaults={};}
if(!(prop in nodeDefaults)){testElement=document.createElement(nodeName);nodeDefaults[prop]=testElement[prop];}
return nodeDefaults[prop];},injection:DOMPropertyInjection};module.exports=DOMProperty;},{"fbjs/lib/invariant":224}],90:[function(require,module,exports){'use strict';var DOMProperty=require('./DOMProperty');var ReactPerf=require('./ReactPerf');var quoteAttributeValueForBrowser=require('./quoteAttributeValueForBrowser');var warning=require('fbjs/lib/warning');var VALID_ATTRIBUTE_NAME_REGEX=/^[a-zA-Z_][\w\.\-]*$/;var illegalAttributeNameCache={};var validatedAttributeNameCache={};function isAttributeNameSafe(attributeName){if(validatedAttributeNameCache.hasOwnProperty(attributeName)){return true;}
if(illegalAttributeNameCache.hasOwnProperty(attributeName)){return false;}
if(VALID_ATTRIBUTE_NAME_REGEX.test(attributeName)){validatedAttributeNameCache[attributeName]=true;return true;}
illegalAttributeNameCache[attributeName]=true;"production"!=='production'?warning(false,'Invalid attribute name: `%s`',attributeName):undefined;return false;}
function shouldIgnoreValue(propertyInfo,value){return value==null||propertyInfo.hasBooleanValue&&!value||propertyInfo.hasNumericValue&&isNaN(value)||propertyInfo.hasPositiveNumericValue&&value<1||propertyInfo.hasOverloadedBooleanValue&&value===false;}
if("production"!=='production'){var reactProps={children:true,dangerouslySetInnerHTML:true,key:true,ref:true};var warnedProperties={};var warnUnknownProperty=function(name){if(reactProps.hasOwnProperty(name)&&reactProps[name]||warnedProperties.hasOwnProperty(name)&&warnedProperties[name]){return;}
warnedProperties[name]=true;var lowerCasedName=name.toLowerCase();var standardName=DOMProperty.isCustomAttribute(lowerCasedName)?lowerCasedName:DOMProperty.getPossibleStandardName.hasOwnProperty(lowerCasedName)?DOMProperty.getPossibleStandardName[lowerCasedName]:null;"production"!=='production'?warning(standardName==null,'Unknown DOM property %s. Did you mean %s?',name,standardName):undefined;};}
var DOMPropertyOperations={createMarkupForID:function(id){return DOMProperty.ID_ATTRIBUTE_NAME+'='+quoteAttributeValueForBrowser(id);},setAttributeForID:function(node,id){node.setAttribute(DOMProperty.ID_ATTRIBUTE_NAME,id);},createMarkupForProperty:function(name,value){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){if(shouldIgnoreValue(propertyInfo,value)){return'';}
var attributeName=propertyInfo.attributeName;if(propertyInfo.hasBooleanValue||propertyInfo.hasOverloadedBooleanValue&&value===true){return attributeName+'=""';}
return attributeName+'='+quoteAttributeValueForBrowser(value);}else if(DOMProperty.isCustomAttribute(name)){if(value==null){return'';}
return name+'='+quoteAttributeValueForBrowser(value);}else if("production"!=='production'){warnUnknownProperty(name);}
return null;},createMarkupForCustomAttribute:function(name,value){if(!isAttributeNameSafe(name)||value==null){return'';}
return name+'='+quoteAttributeValueForBrowser(value);},setValueForProperty:function(node,name,value){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){var mutationMethod=propertyInfo.mutationMethod;if(mutationMethod){mutationMethod(node,value);}else if(shouldIgnoreValue(propertyInfo,value)){this.deleteValueForProperty(node,name);}else if(propertyInfo.mustUseAttribute){var attributeName=propertyInfo.attributeName;var namespace=propertyInfo.attributeNamespace;if(namespace){node.setAttributeNS(namespace,attributeName,''+value);}else if(propertyInfo.hasBooleanValue||propertyInfo.hasOverloadedBooleanValue&&value===true){node.setAttribute(attributeName,'');}else{node.setAttribute(attributeName,''+value);}}else{var propName=propertyInfo.propertyName;if(!propertyInfo.hasSideEffects||''+node[propName]!==''+value){node[propName]=value;}}}else if(DOMProperty.isCustomAttribute(name)){DOMPropertyOperations.setValueForAttribute(node,name,value);}else if("production"!=='production'){warnUnknownProperty(name);}},setValueForAttribute:function(node,name,value){if(!isAttributeNameSafe(name)){return;}
if(value==null){node.removeAttribute(name);}else{node.setAttribute(name,''+value);}},deleteValueForProperty:function(node,name){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){var mutationMethod=propertyInfo.mutationMethod;if(mutationMethod){mutationMethod(node,undefined);}else if(propertyInfo.mustUseAttribute){node.removeAttribute(propertyInfo.attributeName);}else{var propName=propertyInfo.propertyName;var defaultValue=DOMProperty.getDefaultValueForProperty(node.nodeName,propName);if(!propertyInfo.hasSideEffects||''+node[propName]!==defaultValue){node[propName]=defaultValue;}}}else if(DOMProperty.isCustomAttribute(name)){node.removeAttribute(name);}else if("production"!=='production'){warnUnknownProperty(name);}}};ReactPerf.measureMethods(DOMPropertyOperations,'DOMPropertyOperations',{setValueForProperty:'setValueForProperty',setValueForAttribute:'setValueForAttribute',deleteValueForProperty:'deleteValueForProperty'});module.exports=DOMPropertyOperations;},{"./DOMProperty":89,"./ReactPerf":151,"./quoteAttributeValueForBrowser":202,"fbjs/lib/warning":235}],91:[function(require,module,exports){'use strict';var ExecutionEnvironment=require('fbjs/lib/ExecutionEnvironment');var createNodesFromMarkup=require('fbjs/lib/createNodesFromMarkup');var emptyFunction=require('fbjs/lib/emptyFunction');var getMarkupWrap=require('fbjs/lib/getMarkupWrap');var invariant=require('fbjs/lib/invariant');var OPEN_TAG_NAME_EXP=/^(<[^ \/>]+)/;var RESULT_INDEX_ATTR='data-danger-index';function getNodeName(markup){return markup.substring(1,markup.indexOf(' '));}
var Danger={dangerouslyRenderMarkup:function(markupList){!ExecutionEnvironment.canUseDOM?"production"!=='production'?invariant(false,'dangerouslyRenderMarkup(...): Cannot render markup in a worker '+'thread. Make sure `window` and `document` are available globally '+'before requiring React when unit testing or use '+'ReactDOMServer.renderToString for server rendering.'):invariant(false):undefined;var nodeName;var markupByNodeName={};for(var i=0;i<markupList.length;i++){!markupList[i]?"production"!=='production'?invariant(false,'dangerouslyRenderMarkup(...): Missing markup.'):invariant(false):undefined;nodeName=getNodeName(markupList[i]);nodeName=getMarkupWrap(nodeName)?nodeName:'*';markupByNodeName[nodeName]=markupByNodeName[nodeName]||[];markupByNodeName[nodeName][i]=markupList[i];}
var resultList=[];var resultListAssignmentCount=0;for(nodeName in markupByNodeName){if(!markupByNodeName.hasOwnProperty(nodeName)){continue;}
var markupListByNodeName=markupByNodeName[nodeName];var resultIndex;for(resultIndex in markupListByNodeName){if(markupListByNodeName.hasOwnProperty(resultIndex)){var markup=markupListByNodeName[resultIndex];markupListByNodeName[resultIndex]=markup.replace(OPEN_TAG_NAME_EXP,'$1 '+RESULT_INDEX_ATTR+'="'+resultIndex+'" ');}}
var renderNodes=createNodesFromMarkup(markupListByNodeName.join(''),emptyFunction);for(var j=0;j<renderNodes.length;++j){var renderNode=renderNodes[j];if(renderNode.hasAttribute&&renderNode.hasAttribute(RESULT_INDEX_ATTR)){resultIndex=+renderNode.getAttribute(RESULT_INDEX_ATTR);renderNode.removeAttribute(RESULT_INDEX_ATTR);!!resultList.hasOwnProperty(resultIndex)?"production"!=='production'?invariant(false,'Danger: Assigning to an already-occupied result index.'):invariant(false):undefined;resultList[resultIndex]=renderNode;resultListAssignmentCount+=1;}else if("production"!=='production'){console.error('Danger: Discarding unexpected node:',renderNode);}}}
!(resultListAssignmentCount===resultList.length)?"production"!=='production'?invariant(false,'Danger: Did not assign to every index of resultList.'):invariant(false):undefined;!(resultList.length===markupList.length)?"production"!=='production'?invariant(false,'Danger: Expected markup to render %s nodes, but rendered %s.',markupList.length,resultList.length):invariant(false):undefined;return resultList;},dangerouslyReplaceNodeWithMarkup:function(oldChild,markup){!ExecutionEnvironment.canUseDOM?"production"!=='production'?invariant(false,'dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a '+'worker thread. Make sure `window` and `document` are available '+'globally before requiring React when unit testing or use '+'ReactDOMServer.renderToString() for server rendering.'):invariant(false):undefined;!markup?"production"!=='production'?invariant(false,'dangerouslyReplaceNodeWithMarkup(...): Missing markup.'):invariant(false):undefined;!(oldChild.tagName.toLowerCase()!=='html')?"production"!=='production'?invariant(false,'dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the '+'<html> node. This is because browser quirks make this unreliable '+'and/or slow. If you want to render to the root you must use '+'server rendering. See ReactDOMServer.renderToString().'):invariant(false):undefined;var newChild;if(typeof markup==='string'){newChild=createNodesFromMarkup(markup,emptyFunction)[0];}else{newChild=markup;}
oldChild.parentNode.replaceChild(newChild,oldChild);}};module.exports=Danger;},{"fbjs/lib/ExecutionEnvironment":210,"fbjs/lib/createNodesFromMarkup":215,"fbjs/lib/emptyFunction":216,"fbjs/lib/getMarkupWrap":220,"fbjs/lib/invariant":224}],92:[function(require,module,exports){'use strict';var keyOf=require('fbjs/lib/keyOf');var DefaultEventPluginOrder=[keyOf({ResponderEventPlugin:null}),keyOf({SimpleEventPlugin:null}),keyOf({TapEventPlugin:null}),keyOf({EnterLeaveEventPlugin:null}),keyOf({ChangeEventPlugin:null}),keyOf({SelectEventPlugin:null}),keyOf({BeforeInputEventPlugin:null})];module.exports=DefaultEventPluginOrder;},{"fbjs/lib/keyOf":228}],93:[function(require,module,exports){'use strict';var EventConstants=require('./EventConstants');var EventPropagators=require('./EventPropagators');var SyntheticMouseEvent=require('./SyntheticMouseEvent');var ReactMount=require('./ReactMount');var keyOf=require('fbjs/lib/keyOf');var topLevelTypes=EventConstants.topLevelTypes;var getFirstReactDOM=ReactMount.getFirstReactDOM;var eventTypes={mouseEnter:{registrationName:keyOf({onMouseEnter:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]},mouseLeave:{registrationName:keyOf({onMouseLeave:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]}};var extractedEvents=[null,null];var EnterLeaveEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){if(topLevelType===topLevelTypes.topMouseOver&&(nativeEvent.relatedTarget||nativeEvent.fromElement)){return null;}
if(topLevelType!==topLevelTypes.topMouseOut&&topLevelType!==topLevelTypes.topMouseOver){return null;}
var win;if(topLevelTarget.window===topLevelTarget){win=topLevelTarget;}else{var doc=topLevelTarget.ownerDocument;if(doc){win=doc.defaultView||doc.parentWindow;}else{win=window;}}
var from;var to;var fromID='';var toID='';if(topLevelType===topLevelTypes.topMouseOut){from=topLevelTarget;fromID=topLevelTargetID;to=getFirstReactDOM(nativeEvent.relatedTarget||nativeEvent.toElement);if(to){toID=ReactMount.getID(to);}else{to=win;}
to=to||win;}else{from=win;to=topLevelTarget;toID=topLevelTargetID;}
if(from===to){return null;}
var leave=SyntheticMouseEvent.getPooled(eventTypes.mouseLeave,fromID,nativeEvent,nativeEventTarget);leave.type='mouseleave';leave.target=from;leave.relatedTarget=to;var enter=SyntheticMouseEvent.getPooled(eventTypes.mouseEnter,toID,nativeEvent,nativeEventTarget);enter.type='mouseenter';enter.target=to;enter.relatedTarget=from;EventPropagators.accumulateEnterLeaveDispatches(leave,enter,fromID,toID);extractedEvents[0]=leave;extractedEvents[1]=enter;return extractedEvents;}};module.exports=EnterLeaveEventPlugin;},{"./EventConstants":94,"./EventPropagators":98,"./ReactMount":145,"./SyntheticMouseEvent":176,"fbjs/lib/keyOf":228}],94:[function(require,module,exports){'use strict';var keyMirror=require('fbjs/lib/keyMirror');var PropagationPhases=keyMirror({bubbled:null,captured:null});var topLevelTypes=keyMirror({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null});var EventConstants={topLevelTypes:topLevelTypes,PropagationPhases:PropagationPhases};module.exports=EventConstants;},{"fbjs/lib/keyMirror":227}],95:[function(require,module,exports){'use strict';var EventPluginRegistry=require('./EventPluginRegistry');var EventPluginUtils=require('./EventPluginUtils');var ReactErrorUtils=require('./ReactErrorUtils');var accumulateInto=require('./accumulateInto');var forEachAccumulated=require('./forEachAccumulated');var invariant=require('fbjs/lib/invariant');var warning=require('fbjs/lib/warning');var listenerBank={};var eventQueue=null;var executeDispatchesAndRelease=function(event,simulated){if(event){EventPluginUtils.executeDispatchesInOrder(event,simulated);if(!event.isPersistent()){event.constructor.release(event);}}};var executeDispatchesAndReleaseSimulated=function(e){return executeDispatchesAndRelease(e,true);};var executeDispatchesAndReleaseTopLevel=function(e){return executeDispatchesAndRelease(e,false);};var InstanceHandle=null;function validateInstanceHandle(){var valid=InstanceHandle&&InstanceHandle.traverseTwoPhase&&InstanceHandle.traverseEnterLeave;"production"!=='production'?warning(valid,'InstanceHandle not injected before use!'):undefined;}
var EventPluginHub={injection:{injectMount:EventPluginUtils.injection.injectMount,injectInstanceHandle:function(InjectedInstanceHandle){InstanceHandle=InjectedInstanceHandle;if("production"!=='production'){validateInstanceHandle();}},getInstanceHandle:function(){if("production"!=='production'){validateInstanceHandle();}
return InstanceHandle;},injectEventPluginOrder:EventPluginRegistry.injectEventPluginOrder,injectEventPluginsByName:EventPluginRegistry.injectEventPluginsByName},eventNameDispatchConfigs:EventPluginRegistry.eventNameDispatchConfigs,registrationNameModules:EventPluginRegistry.registrationNameModules,putListener:function(id,registrationName,listener){!(typeof listener==='function')?"production"!=='production'?invariant(false,'Expected %s listener to be a function, instead got type %s',registrationName,typeof listener):invariant(false):undefined;var bankForRegistrationName=listenerBank[registrationName]||(listenerBank[registrationName]={});bankForRegistrationName[id]=listener;var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];if(PluginModule&&PluginModule.didPutListener){PluginModule.didPutListener(id,registrationName,listener);}},getListener:function(id,registrationName){var bankForRegistrationName=listenerBank[registrationName];return bankForRegistrationName&&bankForRegistrationName[id];},deleteListener:function(id,registrationName){var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];if(PluginModule&&PluginModule.willDeleteListener){PluginModule.willDeleteListener(id,registrationName);}
var bankForRegistrationName=listenerBank[registrationName];if(bankForRegistrationName){delete bankForRegistrationName[id];}},deleteAllListeners:function(id){for(var registrationName in listenerBank){if(!listenerBank[registrationName][id]){continue;}
var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];if(PluginModule&&PluginModule.willDeleteListener){PluginModule.willDeleteListener(id,registrationName);}
delete listenerBank[registrationName][id];}},extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var events;var plugins=EventPluginRegistry.plugins;for(var i=0;i<plugins.length;i++){var possiblePlugin=plugins[i];if(possiblePlugin){var extractedEvents=possiblePlugin.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget);if(extractedEvents){events=accumulateInto(events,extractedEvents);}}}
return events;},enqueueEvents:function(events){if(events){eventQueue=accumulateInto(eventQueue,events);}},processEventQueue:function(simulated){var processingEventQueue=eventQueue;eventQueue=null;if(simulated){forEachAccumulated(processingEventQueue,executeDispatchesAndReleaseSimulated);}else{forEachAccumulated(processingEventQueue,executeDispatchesAndReleaseTopLevel);}
!!eventQueue?"production"!=='production'?invariant(false,'processEventQueue(): Additional events were enqueued while processing '+'an event queue. Support for this has not yet been implemented.'):invariant(false):undefined;ReactErrorUtils.rethrowCaughtError();},__purge:function(){listenerBank={};},__getListenerBank:function(){return listenerBank;}};module.exports=EventPluginHub;},{"./EventPluginRegistry":96,"./EventPluginUtils":97,"./ReactErrorUtils":136,"./accumulateInto":182,"./forEachAccumulated":190,"fbjs/lib/invariant":224,"fbjs/lib/warning":235}],96:[function(require,module,exports){'use strict';var invariant=require('fbjs/lib/invariant');var EventPluginOrder=null;var namesToPlugins={};function recomputePluginOrdering(){if(!EventPluginOrder){return;}
for(var pluginName in namesToPlugins){var PluginModule=namesToPlugins[pluginName];var pluginIndex=EventPluginOrder.indexOf(pluginName);!(pluginIndex>-1)?"production"!=='production'?invariant(false,'EventPluginRegistry: Cannot inject event plugins that do not exist in '+'the plugin ordering, `%s`.',pluginName):invariant(false):undefined;if(EventPluginRegistry.plugins[pluginIndex]){continue;}
!PluginModule.extractEvents?"production"!=='production'?invariant(false,'EventPluginRegistry: Event plugins must implement an `extractEvents` '+'method, but `%s` does not.',pluginName):invariant(false):undefined;EventPluginRegistry.plugins[pluginIndex]=PluginModule;var publishedEvents=PluginModule.eventTypes;for(var eventName in publishedEvents){!publishEventForPlugin(publishedEvents[eventName],PluginModule,eventName)?"production"!=='production'?invariant(false,'EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.',eventName,pluginName):invariant(false):undefined;}}}
function publishEventForPlugin(dispatchConfig,PluginModule,eventName){!!EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(eventName)?"production"!=='production'?invariant(false,'EventPluginHub: More than one plugin attempted to publish the same '+'event name, `%s`.',eventName):invariant(false):undefined;EventPluginRegistry.eventNameDispatchConfigs[eventName]=dispatchConfig;var phasedRegistrationNames=dispatchConfig.phasedRegistrationNames;if(phasedRegistrationNames){for(var phaseName in phasedRegistrationNames){if(phasedRegistrationNames.hasOwnProperty(phaseName)){var phasedRegistrationName=phasedRegistrationNames[phaseName];publishRegistrationName(phasedRegistrationName,PluginModule,eventName);}}
return true;}else if(dispatchConfig.registrationName){publishRegistrationName(dispatchConfig.registrationName,PluginModule,eventName);return true;}
return false;}
function publishRegistrationName(registrationName,PluginModule,eventName){!!EventPluginRegistry.registrationNameModules[registrationName]?"production"!=='production'?invariant(false,'EventPluginHub: More than one plugin attempted to publish the same '+'registration name, `%s`.',registrationName):invariant(false):undefined;EventPluginRegistry.registrationNameModules[registrationName]=PluginModule;EventPluginRegistry.registrationNameDependencies[registrationName]=PluginModule.eventTypes[eventName].dependencies;}
var EventPluginRegistry={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(InjectedEventPluginOrder){!!EventPluginOrder?"production"!=='production'?invariant(false,'EventPluginRegistry: Cannot inject event plugin ordering more than '+'once. You are likely trying to load more than one copy of React.'):invariant(false):undefined;EventPluginOrder=Array.prototype.slice.call(InjectedEventPluginOrder);recomputePluginOrdering();},injectEventPluginsByName:function(injectedNamesToPlugins){var isOrderingDirty=false;for(var pluginName in injectedNamesToPlugins){if(!injectedNamesToPlugins.hasOwnProperty(pluginName)){continue;}
var PluginModule=injectedNamesToPlugins[pluginName];if(!namesToPlugins.hasOwnProperty(pluginName)||namesToPlugins[pluginName]!==PluginModule){!!namesToPlugins[pluginName]?"production"!=='production'?invariant(false,'EventPluginRegistry: Cannot inject two different event plugins '+'using the same name, `%s`.',pluginName):invariant(false):undefined;namesToPlugins[pluginName]=PluginModule;isOrderingDirty=true;}}
if(isOrderingDirty){recomputePluginOrdering();}},getPluginModuleForEvent:function(event){var dispatchConfig=event.dispatchConfig;if(dispatchConfig.registrationName){return EventPluginRegistry.registrationNameModules[dispatchConfig.registrationName]||null;}
for(var phase in dispatchConfig.phasedRegistrationNames){if(!dispatchConfig.phasedRegistrationNames.hasOwnProperty(phase)){continue;}
var PluginModule=EventPluginRegistry.registrationNameModules[dispatchConfig.phasedRegistrationNames[phase]];if(PluginModule){return PluginModule;}}
return null;},_resetEventPlugins:function(){EventPluginOrder=null;for(var pluginName in namesToPlugins){if(namesToPlugins.hasOwnProperty(pluginName)){delete namesToPlugins[pluginName];}}
EventPluginRegistry.plugins.length=0;var eventNameDispatchConfigs=EventPluginRegistry.eventNameDispatchConfigs;for(var eventName in eventNameDispatchConfigs){if(eventNameDispatchConfigs.hasOwnProperty(eventName)){delete eventNameDispatchConfigs[eventName];}}
var registrationNameModules=EventPluginRegistry.registrationNameModules;for(var registrationName in registrationNameModules){if(registrationNameModules.hasOwnProperty(registrationName)){delete registrationNameModules[registrationName];}}}};module.exports=EventPluginRegistry;},{"fbjs/lib/invariant":224}],97:[function(require,module,exports){'use strict';var EventConstants=require('./EventConstants');var ReactErrorUtils=require('./ReactErrorUtils');var invariant=require('fbjs/lib/invariant');var warning=require('fbjs/lib/warning');var injection={Mount:null,injectMount:function(InjectedMount){injection.Mount=InjectedMount;if("production"!=='production'){"production"!=='production'?warning(InjectedMount&&InjectedMount.getNode&&InjectedMount.getID,'EventPluginUtils.injection.injectMount(...): Injected Mount '+'module is missing getNode or getID.'):undefined;}}};var topLevelTypes=EventConstants.topLevelTypes;function isEndish(topLevelType){return topLevelType===topLevelTypes.topMouseUp||topLevelType===topLevelTypes.topTouchEnd||topLevelType===topLevelTypes.topTouchCancel;}
function isMoveish(topLevelType){return topLevelType===topLevelTypes.topMouseMove||topLevelType===topLevelTypes.topTouchMove;}
function isStartish(topLevelType){return topLevelType===topLevelTypes.topMouseDown||topLevelType===topLevelTypes.topTouchStart;}
var validateEventDispatches;if("production"!=='production'){validateEventDispatches=function(event){var dispatchListeners=event._dispatchListeners;var dispatchIDs=event._dispatchIDs;var listenersIsArr=Array.isArray(dispatchListeners);var idsIsArr=Array.isArray(dispatchIDs);var IDsLen=idsIsArr?dispatchIDs.length:dispatchIDs?1:0;var listenersLen=listenersIsArr?dispatchListeners.length:dispatchListeners?1:0;"production"!=='production'?warning(idsIsArr===listenersIsArr&&IDsLen===listenersLen,'EventPluginUtils: Invalid `event`.'):undefined;};}
function executeDispatch(event,simulated,listener,domID){var type=event.type||'unknown-event';event.currentTarget=injection.Mount.getNode(domID);if(simulated){ReactErrorUtils.invokeGuardedCallbackWithCatch(type,listener,event,domID);}else{ReactErrorUtils.invokeGuardedCallback(type,listener,event,domID);}
event.currentTarget=null;}
function executeDispatchesInOrder(event,simulated){var dispatchListeners=event._dispatchListeners;var dispatchIDs=event._dispatchIDs;if("production"!=='production'){validateEventDispatches(event);}
if(Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length;i++){if(event.isPropagationStopped()){break;}
executeDispatch(event,simulated,dispatchListeners[i],dispatchIDs[i]);}}else if(dispatchListeners){executeDispatch(event,simulated,dispatchListeners,dispatchIDs);}
event._dispatchListeners=null;event._dispatchIDs=null;}
function executeDispatchesInOrderStopAtTrueImpl(event){var dispatchListeners=event._dispatchListeners;var dispatchIDs=event._dispatchIDs;if("production"!=='production'){validateEventDispatches(event);}
if(Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length;i++){if(event.isPropagationStopped()){break;}
if(dispatchListeners[i](event,dispatchIDs[i])){return dispatchIDs[i];}}}else if(dispatchListeners){if(dispatchListeners(event,dispatchIDs)){return dispatchIDs;}}
return null;}
function executeDispatchesInOrderStopAtTrue(event){var ret=executeDispatchesInOrderStopAtTrueImpl(event);event._dispatchIDs=null;event._dispatchListeners=null;return ret;}
function executeDirectDispatch(event){if("production"!=='production'){validateEventDispatches(event);}
var dispatchListener=event._dispatchListeners;var dispatchID=event._dispatchIDs;!!Array.isArray(dispatchListener)?"production"!=='production'?invariant(false,'executeDirectDispatch(...): Invalid `event`.'):invariant(false):undefined;var res=dispatchListener?dispatchListener(event,dispatchID):null;event._dispatchListeners=null;event._dispatchIDs=null;return res;}
function hasDispatches(event){return!!event._dispatchListeners;}
var EventPluginUtils={isEndish:isEndish,isMoveish:isMoveish,isStartish:isStartish,executeDirectDispatch:executeDirectDispatch,executeDispatchesInOrder:executeDispatchesInOrder,executeDispatchesInOrderStopAtTrue:executeDispatchesInOrderStopAtTrue,hasDispatches:hasDispatches,getNode:function(id){return injection.Mount.getNode(id);},getID:function(node){return injection.Mount.getID(node);},injection:injection};module.exports=EventPluginUtils;},{"./EventConstants":94,"./ReactErrorUtils":136,"fbjs/lib/invariant":224,"fbjs/lib/warning":235}],98:[function(require,module,exports){'use strict';var EventConstants=require('./EventConstants');var EventPluginHub=require('./EventPluginHub');var warning=require('fbjs/lib/warning');var accumulateInto=require('./accumulateInto');var forEachAccumulated=require('./forEachAccumulated');var PropagationPhases=EventConstants.PropagationPhases;var getListener=EventPluginHub.getListener;function listenerAtPhase(id,event,propagationPhase){var registrationName=event.dispatchConfig.phasedRegistrationNames[propagationPhase];return getListener(id,registrationName);}
function accumulateDirectionalDispatches(domID,upwards,event){if("production"!=='production'){"production"!=='production'?warning(domID,'Dispatching id must not be null'):undefined;}
var phase=upwards?PropagationPhases.bubbled:PropagationPhases.captured;var listener=listenerAtPhase(domID,event,phase);if(listener){event._dispatchListeners=accumulateInto(event._dispatchListeners,listener);event._dispatchIDs=accumulateInto(event._dispatchIDs,domID);}}
function accumulateTwoPhaseDispatchesSingle(event){if(event&&event.dispatchConfig.phasedRegistrationNames){EventPluginHub.injection.getInstanceHandle().traverseTwoPhase(event.dispatchMarker,accumulateDirectionalDispatches,event);}}
function accumulateTwoPhaseDispatchesSingleSkipTarget(event){if(event&&event.dispatchConfig.phasedRegistrationNames){EventPluginHub.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(event.dispatchMarker,accumulateDirectionalDispatches,event);}}
function accumulateDispatches(id,ignoredDirection,event){if(event&&event.dispatchConfig.registrationName){var registrationName=event.dispatchConfig.registrationName;var listener=getListener(id,registrationName);if(listener){event._dispatchListeners=accumulateInto(event._dispatchListeners,listener);event._dispatchIDs=accumulateInto(event._dispatchIDs,id);}}}
function accumulateDirectDispatchesSingle(event){if(event&&event.dispatchConfig.registrationName){accumulateDispatches(event.dispatchMarker,null,event);}}
function accumulateTwoPhaseDispatches(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingle);}
function accumulateTwoPhaseDispatchesSkipTarget(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingleSkipTarget);}
function accumulateEnterLeaveDispatches(leave,enter,fromID,toID){EventPluginHub.injection.getInstanceHandle().traverseEnterLeave(fromID,toID,accumulateDispatches,leave,enter);}
function accumulateDirectDispatches(events){forEachAccumulated(events,accumulateDirectDispatchesSingle);}
var EventPropagators={accumulateTwoPhaseDispatches:accumulateTwoPhaseDispatches,accumulateTwoPhaseDispatchesSkipTarget:accumulateTwoPhaseDispatchesSkipTarget,accumulateDirectDispatches:accumulateDirectDispatches,accumulateEnterLeaveDispatches:accumulateEnterLeaveDispatches};module.exports=EventPropagators;},{"./EventConstants":94,"./EventPluginHub":95,"./accumulateInto":182,"./forEachAccumulated":190,"fbjs/lib/warning":235}],99:[function(require,module,exports){'use strict';var PooledClass=require('./PooledClass');var assign=require('./Object.assign');var getTextContentAccessor=require('./getTextContentAccessor');function FallbackCompositionState(root){this._root=root;this._startText=this.getText();this._fallbackText=null;}
assign(FallbackCompositionState.prototype,{destructor:function(){this._root=null;this._startText=null;this._fallbackText=null;},getText:function(){if('value'in this._root){return this._root.value;}
return this._root[getTextContentAccessor()];},getData:function(){if(this._fallbackText){return this._fallbackText;}
var start;var startValue=this._startText;var startLength=startValue.length;var end;var endValue=this.getText();var endLength=endValue.length;for(start=0;start<startLength;start++){if(startValue[start]!==endValue[start]){break;}}
var minEnd=startLength-start;for(end=1;end<=minEnd;end++){if(startValue[startLength-end]!==endValue[endLength-end]){break;}}
var sliceTail=end>1?1-end:undefined;this._fallbackText=endValue.slice(start,sliceTail);return this._fallbackText;}});PooledClass.addPoolingTo(FallbackCompositionState);module.exports=FallbackCompositionState;},{"./Object.assign":102,"./PooledClass":103,"./getTextContentAccessor":197}],100:[function(require,module,exports){'use strict';var DOMProperty=require('./DOMProperty');var ExecutionEnvironment=require('fbjs/lib/ExecutionEnvironment');var MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE;var MUST_USE_PROPERTY=DOMProperty.injection.MUST_USE_PROPERTY;var HAS_BOOLEAN_VALUE=DOMProperty.injection.HAS_BOOLEAN_VALUE;var HAS_SIDE_EFFECTS=DOMProperty.injection.HAS_SIDE_EFFECTS;var HAS_NUMERIC_VALUE=DOMProperty.injection.HAS_NUMERIC_VALUE;var HAS_POSITIVE_NUMERIC_VALUE=DOMProperty.injection.HAS_POSITIVE_NUMERIC_VALUE;var HAS_OVERLOADED_BOOLEAN_VALUE=DOMProperty.injection.HAS_OVERLOADED_BOOLEAN_VALUE;var hasSVG;if(ExecutionEnvironment.canUseDOM){var implementation=document.implementation;hasSVG=implementation&&implementation.hasFeature&&implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure','1.1');}
var HTMLDOMPropertyConfig={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,allowTransparency:MUST_USE_ATTRIBUTE,alt:null,async:HAS_BOOLEAN_VALUE,autoComplete:null,autoPlay:HAS_BOOLEAN_VALUE,capture:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,cellPadding:null,cellSpacing:null,charSet:MUST_USE_ATTRIBUTE,challenge:MUST_USE_ATTRIBUTE,checked:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,classID:MUST_USE_ATTRIBUTE,className:hasSVG?MUST_USE_ATTRIBUTE:MUST_USE_PROPERTY,cols:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,colSpan:null,content:null,contentEditable:null,contextMenu:MUST_USE_ATTRIBUTE,controls:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,coords:null,crossOrigin:null,data:null,dateTime:MUST_USE_ATTRIBUTE,'default':HAS_BOOLEAN_VALUE,defer:HAS_BOOLEAN_VALUE,dir:null,disabled:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,download:HAS_OVERLOADED_BOOLEAN_VALUE,draggable:null,encType:null,form:MUST_USE_ATTRIBUTE,formAction:MUST_USE_ATTRIBUTE,formEncType:MUST_USE_ATTRIBUTE,formMethod:MUST_USE_ATTRIBUTE,formNoValidate:HAS_BOOLEAN_VALUE,formTarget:MUST_USE_ATTRIBUTE,frameBorder:MUST_USE_ATTRIBUTE,headers:null,height:MUST_USE_ATTRIBUTE,hidden:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:MUST_USE_PROPERTY,inputMode:MUST_USE_ATTRIBUTE,integrity:null,is:MUST_USE_ATTRIBUTE,keyParams:MUST_USE_ATTRIBUTE,keyType:MUST_USE_ATTRIBUTE,kind:null,label:null,lang:null,list:MUST_USE_ATTRIBUTE,loop:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,low:null,manifest:MUST_USE_ATTRIBUTE,marginHeight:null,marginWidth:null,max:null,maxLength:MUST_USE_ATTRIBUTE,media:MUST_USE_ATTRIBUTE,mediaGroup:null,method:null,min:null,minLength:MUST_USE_ATTRIBUTE,multiple:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,muted:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,name:null,nonce:MUST_USE_ATTRIBUTE,noValidate:HAS_BOOLEAN_VALUE,open:HAS_BOOLEAN_VALUE,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,rel:null,required:HAS_BOOLEAN_VALUE,reversed:HAS_BOOLEAN_VALUE,role:MUST_USE_ATTRIBUTE,rows:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,rowSpan:null,sandbox:null,scope:null,scoped:HAS_BOOLEAN_VALUE,scrolling:null,seamless:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,selected:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,shape:null,size:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,sizes:MUST_USE_ATTRIBUTE,span:HAS_POSITIVE_NUMERIC_VALUE,spellCheck:null,src:null,srcDoc:MUST_USE_PROPERTY,srcLang:null,srcSet:MUST_USE_ATTRIBUTE,start:HAS_NUMERIC_VALUE,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:MUST_USE_PROPERTY|HAS_SIDE_EFFECTS,width:MUST_USE_ATTRIBUTE,wmode:MUST_USE_ATTRIBUTE,wrap:null,about:MUST_USE_ATTRIBUTE,datatype:MUST_USE_ATTRIBUTE,inlist:MUST_USE_ATTRIBUTE,prefix:MUST_USE_ATTRIBUTE,property:MUST_USE_ATTRIBUTE,resource:MUST_USE_ATTRIBUTE,'typeof':MUST_USE_ATTRIBUTE,vocab:MUST_USE_ATTRIBUTE,autoCapitalize:null,autoCorrect:null,autoSave:null,color:null,itemProp:MUST_USE_ATTRIBUTE,itemScope:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,itemType:MUST_USE_ATTRIBUTE,itemID:MUST_USE_ATTRIBUTE,itemRef:MUST_USE_ATTRIBUTE,results:null,security:MUST_USE_ATTRIBUTE,unselectable:MUST_USE_ATTRIBUTE},DOMAttributeNames:{acceptCharset:'accept-charset',className:'class',htmlFor:'for',httpEquiv:'http-equiv'},DOMPropertyNames:{autoCapitalize:'autocapitalize',autoComplete:'autocomplete',autoCorrect:'autocorrect',autoFocus:'autofocus',autoPlay:'autoplay',autoSave:'autosave',encType:'encoding',hrefLang:'hreflang',radioGroup:'radiogroup',spellCheck:'spellcheck',srcDoc:'srcdoc',srcSet:'srcset'}};module.exports=HTMLDOMPropertyConfig;},{"./DOMProperty":89,"fbjs/lib/ExecutionEnvironment":210}],101:[function(require,module,exports){'use strict';var ReactPropTypes=require('./ReactPropTypes');var ReactPropTypeLocations=require('./ReactPropTypeLocations');var invariant=require('fbjs/lib/invariant');var warning=require('fbjs/lib/warning');var hasReadOnlyValue={'button':true,'checkbox':true,'image':true,'hidden':true,'radio':true,'reset':true,'submit':true};function _assertSingleLink(inputProps){!(inputProps.checkedLink==null||inputProps.valueLink==null)?"production"!=='production'?invariant(false,'Cannot provide a checkedLink and a valueLink. If you want to use '+'checkedLink, you probably don\'t want to use valueLink and vice versa.'):invariant(false):undefined;}
function _assertValueLink(inputProps){_assertSingleLink(inputProps);!(inputProps.value==null&&inputProps.onChange==null)?"production"!=='production'?invariant(false,'Cannot provide a valueLink and a value or onChange event. If you want '+'to use value or onChange, you probably don\'t want to use valueLink.'):invariant(false):undefined;}
function _assertCheckedLink(inputProps){_assertSingleLink(inputProps);!(inputProps.checked==null&&inputProps.onChange==null)?"production"!=='production'?invariant(false,'Cannot provide a checkedLink and a checked property or onChange event. '+'If you want to use checked or onChange, you probably don\'t want to '+'use checkedLink'):invariant(false):undefined;}
var propTypes={value:function(props,propName,componentName){if(!props[propName]||hasReadOnlyValue[props.type]||props.onChange||props.readOnly||props.disabled){return null;}
return new Error('You provided a `value` prop to a form field without an '+'`onChange` handler. This will render a read-only field. If '+'the field should be mutable use `defaultValue`. Otherwise, '+'set either `onChange` or `readOnly`.');},checked:function(props,propName,componentName){if(!props[propName]||props.onChange||props.readOnly||props.disabled){return null;}
return new Error('You provided a `checked` prop to a form field without an '+'`onChange` handler. This will render a read-only field. If '+'the field should be mutable use `defaultChecked`. Otherwise, '+'set either `onChange` or `readOnly`.');},onChange:ReactPropTypes.func};var loggedTypeFailures={};function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name){return' Check the render method of `'+name+'`.';}}
return'';}
var LinkedValueUtils={checkPropTypes:function(tagName,props,owner){for(var propName in propTypes){if(propTypes.hasOwnProperty(propName)){var error=propTypes[propName](props,propName,tagName,ReactPropTypeLocations.prop);}
if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=true;var addendum=getDeclarationErrorAddendum(owner);"production"!=='production'?warning(false,'Failed form propType: %s%s',error.message,addendum):undefined;}}},getValue:function(inputProps){if(inputProps.valueLink){_assertValueLink(inputProps);return inputProps.valueLink.value;}
return inputProps.value;},getChecked:function(inputProps){if(inputProps.checkedLink){_assertCheckedLink(inputProps);return inputProps.checkedLink.value;}
return inputProps.checked;},executeOnChange:function(inputProps,event){if(inputProps.valueLink){_assertValueLink(inputProps);return inputProps.valueLink.requestChange(event.target.value);}else if(inputProps.checkedLink){_assertCheckedLink(inputProps);return inputProps.checkedLink.requestChange(event.target.checked);}else if(inputProps.onChange){return inputProps.onChange.call(undefined,event);}}};module.exports=LinkedValueUtils;},{"./ReactPropTypeLocations":153,"./ReactPropTypes":154,"fbjs/lib/invariant":224,"fbjs/lib/warning":235}],102:[function(require,module,exports){'use strict';function assign(target,sources){if(target==null){throw new TypeError('Object.assign target cannot be null or undefined');}
var to=Object(target);var hasOwnProperty=Object.prototype.hasOwnProperty;for(var nextIndex=1;nextIndex<arguments.length;nextIndex++){var nextSource=arguments[nextIndex];if(nextSource==null){continue;}
var from=Object(nextSource);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key];}}}
return to;}
module.exports=assign;},{}],103:[function(require,module,exports){'use strict';var invariant=require('fbjs/lib/invariant');var oneArgumentPooler=function(copyFieldsFrom){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,copyFieldsFrom);return instance;}else{return new Klass(copyFieldsFrom);}};var twoArgumentPooler=function(a1,a2){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2);return instance;}else{return new Klass(a1,a2);}};var threeArgumentPooler=function(a1,a2,a3){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3);return instance;}else{return new Klass(a1,a2,a3);}};var fourArgumentPooler=function(a1,a2,a3,a4){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3,a4);return instance;}else{return new Klass(a1,a2,a3,a4);}};var fiveArgumentPooler=function(a1,a2,a3,a4,a5){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3,a4,a5);return instance;}else{return new Klass(a1,a2,a3,a4,a5);}};var standardReleaser=function(instance){var Klass=this;!(instance instanceof Klass)?"production"!=='production'?invariant(false,'Trying to release an instance into a pool of a different type.'):invariant(false):undefined;instance.destructor();if(Klass.instancePool.length<Klass.poolSize){Klass.instancePool.push(instance);}};var DEFAULT_POOL_SIZE=10;var DEFAULT_POOLER=oneArgumentPooler;var addPoolingTo=function(CopyConstructor,pooler){var NewKlass=CopyConstructor;NewKlass.instancePool=[];NewKlass.getPooled=pooler||DEFAULT_POOLER;if(!NewKlass.poolSize){NewKlass.poolSize=DEFAULT_POOL_SIZE;}
NewKlass.release=standardReleaser;return NewKlass;};var PooledClass={addPoolingTo:addPoolingTo,oneArgumentPooler:oneArgumentPooler,twoArgumentPooler:twoArgumentPooler,threeArgumentPooler:threeArgumentPooler,fourArgumentPooler:fourArgumentPooler,fiveArgumentPooler:fiveArgumentPooler};module.exports=PooledClass;},{"fbjs/lib/invariant":224}],104:[function(require,module,exports){'use strict';var ReactDOM=require('./ReactDOM');var ReactDOMServer=require('./ReactDOMServer');var ReactIsomorphic=require('./ReactIsomorphic');var assign=require('./Object.assign');var deprecated=require('./deprecated');var React={};assign(React,ReactIsomorphic);assign(React,{findDOMNode:deprecated('findDOMNode','ReactDOM','react-dom',ReactDOM,ReactDOM.findDOMNode),render:deprecated('render','ReactDOM','react-dom',ReactDOM,ReactDOM.render),unmountComponentAtNode:deprecated('unmountComponentAtNode','ReactDOM','react-dom',ReactDOM,ReactDOM.unmountComponentAtNode),renderToString:deprecated('renderToString','ReactDOMServer','react-dom/server',ReactDOMServer,ReactDOMServer.renderToString),renderToStaticMarkup:deprecated('renderToStaticMarkup','ReactDOMServer','react-dom/server',ReactDOMServer,ReactDOMServer.renderToStaticMarkup)});React.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ReactDOM;React.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ReactDOMServer;module.exports=React;},{"./Object.assign":102,"./ReactDOM":115,"./ReactDOMServer":125,"./ReactIsomorphic":143,"./deprecated":186}],105:[function(require,module,exports){'use strict';var ReactInstanceMap=require('./ReactInstanceMap');var findDOMNode=require('./findDOMNode');var warning=require('fbjs/lib/warning');var didWarnKey='_getDOMNodeDidWarn';var ReactBrowserComponentMixin={getDOMNode:function(){"production"!=='production'?warning(this.constructor[didWarnKey],'%s.getDOMNode(...) is deprecated. Please use '+'ReactDOM.findDOMNode(instance) instead.',ReactInstanceMap.get(this).getName()||this.tagName||'Unknown'):undefined;this.constructor[didWarnKey]=true;return findDOMNode(this);}};module.exports=ReactBrowserComponentMixin;},{"./ReactInstanceMap":142,"./findDOMNode":188,"fbjs/lib/warning":235}],106:[function(require,module,exports){'use strict';var EventConstants=require('./EventConstants');var EventPluginHub=require('./EventPluginHub');var EventPluginRegistry=require('./EventPluginRegistry');var ReactEventEmitterMixin=require('./ReactEventEmitterMixin');var ReactPerf=require('./ReactPerf');var ViewportMetrics=require('./ViewportMetrics');var assign=require('./Object.assign');var isEventSupported=require('./isEventSupported');var alreadyListeningTo={};var isMonitoringScrollValue=false;var reactTopListenersCounter=0;var topEventMapping={topAbort:'abort',topBlur:'blur',topCanPlay:'canplay',topCanPlayThrough:'canplaythrough',topChange:'change',topClick:'click',topCompositionEnd:'compositionend',topCompositionStart:'compositionstart',topCompositionUpdate:'compositionupdate',topContextMenu:'contextmenu',topCopy:'copy',topCut:'cut',topDoubleClick:'dblclick',topDrag:'drag',topDragEnd:'dragend',topDragEnter:'dragenter',topDragExit:'dragexit',topDragLeave:'dragleave',topDragOver:'dragover',topDragStart:'dragstart',topDrop:'drop',topDurationChange:'durationchange',topEmptied:'emptied',topEncrypted:'encrypted',topEnded:'ended',topError:'error',topFocus:'focus',topInput:'input',topKeyDown:'keydown',topKeyPress:'keypress',topKeyUp:'keyup',topLoadedData:'loadeddata',topLoadedMetadata:'loadedmetadata',topLoadStart:'loadstart',topMouseDown:'mousedown',topMouseMove:'mousemove',topMouseOut:'mouseout',topMouseOver:'mouseover',topMouseUp:'mouseup',topPaste:'paste',topPause:'pause',topPlay:'play',topPlaying:'playing',topProgress:'progress',topRateChange:'ratechange',topScroll:'scroll',topSeeked:'seeked',topSeeking:'seeking',topSelectionChange:'selectionchange',topStalled:'stalled',topSuspend:'suspend',topTextInput:'textInput',topTimeUpdate:'timeupdate',topTouchCancel:'touchcancel',topTouchEnd:'touchend',topTouchMove:'touchmove',topTouchStart:'touchstart',topVolumeChange:'volumechange',topWaiting:'waiting',topWheel:'wheel'};var topListenersIDKey='_reactListenersID'+String(Math.random()).slice(2);function getListeningForDocument(mountAt){if(!Object.prototype.hasOwnProperty.call(mountAt,topListenersIDKey)){mountAt[topListenersIDKey]=reactTopListenersCounter++;alreadyListeningTo[mountAt[topListenersIDKey]]={};}
return alreadyListeningTo[mountAt[topListenersIDKey]];}
var ReactBrowserEventEmitter=assign({},ReactEventEmitterMixin,{ReactEventListener:null,injection:{injectReactEventListener:function(ReactEventListener){ReactEventListener.setHandleTopLevel(ReactBrowserEventEmitter.handleTopLevel);ReactBrowserEventEmitter.ReactEventListener=ReactEventListener;}},setEnabled:function(enabled){if(ReactBrowserEventEmitter.ReactEventListener){ReactBrowserEventEmitter.ReactEventListener.setEnabled(enabled);}},isEnabled:function(){return!!(ReactBrowserEventEmitter.ReactEventListener&&ReactBrowserEventEmitter.ReactEventListener.isEnabled());},listenTo:function(registrationName,contentDocumentHandle){var mountAt=contentDocumentHandle;var isListening=getListeningForDocument(mountAt);var dependencies=EventPluginRegistry.registrationNameDependencies[registrationName];var topLevelTypes=EventConstants.topLevelTypes;for(var i=0;i<dependencies.length;i++){var dependency=dependencies[i];if(!(isListening.hasOwnProperty(dependency)&&isListening[dependency])){if(dependency===topLevelTypes.topWheel){if(isEventSupported('wheel')){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,'wheel',mountAt);}else if(isEventSupported('mousewheel')){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,'mousewheel',mountAt);}else{ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,'DOMMouseScroll',mountAt);}}else if(dependency===topLevelTypes.topScroll){if(isEventSupported('scroll',true)){ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topScroll,'scroll',mountAt);}else{ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topScroll,'scroll',ReactBrowserEventEmitter.ReactEventListener.WINDOW_HANDLE);}}else if(dependency===topLevelTypes.topFocus||dependency===topLevelTypes.topBlur){if(isEventSupported('focus',true)){ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topFocus,'focus',mountAt);ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topBlur,'blur',mountAt);}else if(isEventSupported('focusin')){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topFocus,'focusin',mountAt);ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topBlur,'focusout',mountAt);}
isListening[topLevelTypes.topBlur]=true;isListening[topLevelTypes.topFocus]=true;}else if(topEventMapping.hasOwnProperty(dependency)){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(dependency,topEventMapping[dependency],mountAt);}
isListening[dependency]=true;}}},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelType,handlerBaseName,handle);},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelType,handlerBaseName,handle);},ensureScrollValueMonitoring:function(){if(!isMonitoringScrollValue){var refresh=ViewportMetrics.refreshScrollValues;ReactBrowserEventEmitter.ReactEventListener.monitorScrollValue(refresh);isMonitoringScrollValue=true;}},eventNameDispatchConfigs:EventPluginHub.eventNameDispatchConfigs,registrationNameModules:EventPluginHub.registrationNameModules,putListener:EventPluginHub.putListener,getListener:EventPluginHub.getListener,deleteListener:EventPluginHub.deleteListener,deleteAllListeners:EventPluginHub.deleteAllListeners});ReactPerf.measureMethods(ReactBrowserEventEmitter,'ReactBrowserEventEmitter',{putListener:'putListener',deleteListener:'deleteListener'});module.exports=ReactBrowserEventEmitter;},{"./EventConstants":94,"./EventPluginHub":95,"./EventPluginRegistry":96,"./Object.assign":102,"./ReactEventEmitterMixin":137,"./ReactPerf":151,"./ViewportMetrics":181,"./isEventSupported":199}],107:[function(require,module,exports){'use strict';var ReactReconciler=require('./ReactReconciler');var instantiateReactComponent=require('./instantiateReactComponent');var shouldUpdateReactComponent=require('./shouldUpdateReactComponent');var traverseAllChildren=require('./traverseAllChildren');var warning=require('fbjs/lib/warning');function instantiateChild(childInstances,child,name){var keyUnique=childInstances[name]===undefined;if("production"!=='production'){"production"!=='production'?warning(keyUnique,'flattenChildren(...): Encountered two children with the same key, '+'`%s`. Child keys must be unique; when two children share a key, only '+'the first child will be used.',name):undefined;}
if(child!=null&&keyUnique){childInstances[name]=instantiateReactComponent(child,null);}}
var ReactChildReconciler={instantiateChildren:function(nestedChildNodes,transaction,context){if(nestedChildNodes==null){return null;}
var childInstances={};traverseAllChildren(nestedChildNodes,instantiateChild,childInstances);return childInstances;},updateChildren:function(prevChildren,nextChildren,transaction,context){if(!nextChildren&&!prevChildren){return null;}
var name;for(name in nextChildren){if(!nextChildren.hasOwnProperty(name)){continue;}
var prevChild=prevChildren&&prevChildren[name];var prevElement=prevChild&&prevChild._currentElement;var nextElement=nextChildren[name];if(prevChild!=null&&shouldUpdateReactComponent(prevElement,nextElement)){ReactReconciler.receiveComponent(prevChild,nextElement,transaction,context);nextChildren[name]=prevChild;}else{if(prevChild){ReactReconciler.unmountComponent(prevChild,name);}
var nextChildInstance=instantiateReactComponent(nextElement,null);nextChildren[name]=nextChildInstance;}}
for(name in prevChildren){if(prevChildren.hasOwnProperty(name)&&!(nextChildren&&nextChildren.hasOwnProperty(name))){ReactReconciler.unmountComponent(prevChildren[name]);}}
return nextChildren;},unmountChildren:function(renderedChildren){for(var name in renderedChildren){if(renderedChildren.hasOwnProperty(name)){var renderedChild=renderedChildren[name];ReactReconciler.unmountComponent(renderedChild);}}}};module.exports=ReactChildReconciler;},{"./ReactReconciler":156,"./instantiateReactComponent":198,"./shouldUpdateReactComponent":206,"./traverseAllChildren":207,"fbjs/lib/warning":235}],108:[function(require,module,exports){'use strict';var PooledClass=require('./PooledClass');var ReactElement=require('./ReactElement');var emptyFunction=require('fbjs/lib/emptyFunction');var traverseAllChildren=require('./traverseAllChildren');var twoArgumentPooler=PooledClass.twoArgumentPooler;var fourArgumentPooler=PooledClass.fourArgumentPooler;var userProvidedKeyEscapeRegex=/\/(?!\/)/g;function escapeUserProvidedKey(text){return(''+text).replace(userProvidedKeyEscapeRegex,'//');}
function ForEachBookKeeping(forEachFunction,forEachContext){this.func=forEachFunction;this.context=forEachContext;this.count=0;}
ForEachBookKeeping.prototype.destructor=function(){this.func=null;this.context=null;this.count=0;};PooledClass.addPoolingTo(ForEachBookKeeping,twoArgumentPooler);function forEachSingleChild(bookKeeping,child,name){var func=bookKeeping.func;var context=bookKeeping.context;func.call(context,child,bookKeeping.count++);}
function forEachChildren(children,forEachFunc,forEachContext){if(children==null){return children;}
var traverseContext=ForEachBookKeeping.getPooled(forEachFunc,forEachContext);traverseAllChildren(children,forEachSingleChild,traverseContext);ForEachBookKeeping.release(traverseContext);}
function MapBookKeeping(mapResult,keyPrefix,mapFunction,mapContext){this.result=mapResult;this.keyPrefix=keyPrefix;this.func=mapFunction;this.context=mapContext;this.count=0;}
MapBookKeeping.prototype.destructor=function(){this.result=null;this.keyPrefix=null;this.func=null;this.context=null;this.count=0;};PooledClass.addPoolingTo(MapBookKeeping,fourArgumentPooler);function mapSingleChildIntoContext(bookKeeping,child,childKey){var result=bookKeeping.result;var keyPrefix=bookKeeping.keyPrefix;var func=bookKeeping.func;var context=bookKeeping.context;var mappedChild=func.call(context,child,bookKeeping.count++);if(Array.isArray(mappedChild)){mapIntoWithKeyPrefixInternal(mappedChild,result,childKey,emptyFunction.thatReturnsArgument);}else if(mappedChild!=null){if(ReactElement.isValidElement(mappedChild)){mappedChild=ReactElement.cloneAndReplaceKey(mappedChild,keyPrefix+(mappedChild!==child?escapeUserProvidedKey(mappedChild.key||'')+'/':'')+childKey);}
result.push(mappedChild);}}
function mapIntoWithKeyPrefixInternal(children,array,prefix,func,context){var escapedPrefix='';if(prefix!=null){escapedPrefix=escapeUserProvidedKey(prefix)+'/';}
var traverseContext=MapBookKeeping.getPooled(array,escapedPrefix,func,context);traverseAllChildren(children,mapSingleChildIntoContext,traverseContext);MapBookKeeping.release(traverseContext);}
function mapChildren(children,func,context){if(children==null){return children;}
var result=[];mapIntoWithKeyPrefixInternal(children,result,null,func,context);return result;}
function forEachSingleChildDummy(traverseContext,child,name){return null;}
function countChildren(children,context){return traverseAllChildren(children,forEachSingleChildDummy,null);}
function toArray(children){var result=[];mapIntoWithKeyPrefixInternal(children,result,null,emptyFunction.thatReturnsArgument);return result;}
var ReactChildren={forEach:forEachChildren,map:mapChildren,mapIntoWithKeyPrefixInternal:mapIntoWithKeyPrefixInternal,count:countChildren,toArray:toArray};module.exports=ReactChildren;},{"./PooledClass":103,"./ReactElement":132,"./traverseAllChildren":207,"fbjs/lib/emptyFunction":216}],109:[function(require,module,exports){'use strict';var ReactComponent=require('./ReactComponent');var ReactElement=require('./ReactElement');var ReactPropTypeLocations=require('./ReactPropTypeLocations');var ReactPropTypeLocationNames=require('./ReactPropTypeLocationNames');var ReactNoopUpdateQueue=require('./ReactNoopUpdateQueue');var assign=require('./Object.assign');var emptyObject=require('fbjs/lib/emptyObject');var invariant=require('fbjs/lib/invariant');var keyMirror=require('fbjs/lib/keyMirror');var keyOf=require('fbjs/lib/keyOf');var warning=require('fbjs/lib/warning');var MIXINS_KEY=keyOf({mixins:null});var SpecPolicy=keyMirror({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null});var injectedMixins=[];var warnedSetProps=false;function warnSetProps(){if(!warnedSetProps){warnedSetProps=true;"production"!=='production'?warning(false,'setProps(...) and replaceProps(...) are deprecated. '+'Instead, call render again at the top level.'):undefined;}}
var ReactClassInterface={mixins:SpecPolicy.DEFINE_MANY,statics:SpecPolicy.DEFINE_MANY,propTypes:SpecPolicy.DEFINE_MANY,contextTypes:SpecPolicy.DEFINE_MANY,childContextTypes:SpecPolicy.DEFINE_MANY,getDefaultProps:SpecPolicy.DEFINE_MANY_MERGED,getInitialState:SpecPolicy.DEFINE_MANY_MERGED,getChildContext:SpecPolicy.DEFINE_MANY_MERGED,render:SpecPolicy.DEFINE_ONCE,componentWillMount:SpecPolicy.DEFINE_MANY,componentDidMount:SpecPolicy.DEFINE_MANY,componentWillReceiveProps:SpecPolicy.DEFINE_MANY,shouldComponentUpdate:SpecPolicy.DEFINE_ONCE,componentWillUpdate:SpecPolicy.DEFINE_MANY,componentDidUpdate:SpecPolicy.DEFINE_MANY,componentWillUnmount:SpecPolicy.DEFINE_MANY,updateComponent:SpecPolicy.OVERRIDE_BASE};var RESERVED_SPEC_KEYS={displayName:function(Constructor,displayName){Constructor.displayName=displayName;},mixins:function(Constructor,mixins){if(mixins){for(var i=0;i<mixins.length;i++){mixSpecIntoComponent(Constructor,mixins[i]);}}},childContextTypes:function(Constructor,childContextTypes){if("production"!=='production'){validateTypeDef(Constructor,childContextTypes,ReactPropTypeLocations.childContext);}
Constructor.childContextTypes=assign({},Constructor.childContextTypes,childContextTypes);},contextTypes:function(Constructor,contextTypes){if("production"!=='production'){validateTypeDef(Constructor,contextTypes,ReactPropTypeLocations.context);}
Constructor.contextTypes=assign({},Constructor.contextTypes,contextTypes);},getDefaultProps:function(Constructor,getDefaultProps){if(Constructor.getDefaultProps){Constructor.getDefaultProps=createMergedResultFunction(Constructor.getDefaultProps,getDefaultProps);}else{Constructor.getDefaultProps=getDefaultProps;}},propTypes:function(Constructor,propTypes){if("production"!=='production'){validateTypeDef(Constructor,propTypes,ReactPropTypeLocations.prop);}
Constructor.propTypes=assign({},Constructor.propTypes,propTypes);},statics:function(Constructor,statics){mixStaticSpecIntoComponent(Constructor,statics);},autobind:function(){}};function validateTypeDef(Constructor,typeDef,location){for(var propName in typeDef){if(typeDef.hasOwnProperty(propName)){"production"!=='production'?warning(typeof typeDef[propName]==='function','%s: %s type `%s` is invalid; it must be a function, usually from '+'React.PropTypes.',Constructor.displayName||'ReactClass',ReactPropTypeLocationNames[location],propName):undefined;}}}
function validateMethodOverride(proto,name){var specPolicy=ReactClassInterface.hasOwnProperty(name)?ReactClassInterface[name]:null;if(ReactClassMixin.hasOwnProperty(name)){!(specPolicy===SpecPolicy.OVERRIDE_BASE)?"production"!=='production'?invariant(false,'ReactClassInterface: You are attempting to override '+'`%s` from your class specification. Ensure that your method names '+'do not overlap with React methods.',name):invariant(false):undefined;}
if(proto.hasOwnProperty(name)){!(specPolicy===SpecPolicy.DEFINE_MANY||specPolicy===SpecPolicy.DEFINE_MANY_MERGED)?"production"!=='production'?invariant(false,'ReactClassInterface: You are attempting to define '+'`%s` on your component more than once. This conflict may be due '+'to a mixin.',name):invariant(false):undefined;}}
function mixSpecIntoComponent(Constructor,spec){if(!spec){return;}
!(typeof spec!=='function')?"production"!=='production'?invariant(false,'ReactClass: You\'re attempting to '+'use a component class as a mixin. Instead, just use a regular object.'):invariant(false):undefined;!!ReactElement.isValidElement(spec)?"production"!=='production'?invariant(false,'ReactClass: You\'re attempting to '+'use a component as a mixin. Instead, just use a regular object.'):invariant(false):undefined;var proto=Constructor.prototype;if(spec.hasOwnProperty(MIXINS_KEY)){RESERVED_SPEC_KEYS.mixins(Constructor,spec.mixins);}
for(var name in spec){if(!spec.hasOwnProperty(name)){continue;}
if(name===MIXINS_KEY){continue;}
var property=spec[name];validateMethodOverride(proto,name);if(RESERVED_SPEC_KEYS.hasOwnProperty(name)){RESERVED_SPEC_KEYS[name](Constructor,property);}else{var isReactClassMethod=ReactClassInterface.hasOwnProperty(name);var isAlreadyDefined=proto.hasOwnProperty(name);var isFunction=typeof property==='function';var shouldAutoBind=isFunction&&!isReactClassMethod&&!isAlreadyDefined&&spec.autobind!==false;if(shouldAutoBind){if(!proto.__reactAutoBindMap){proto.__reactAutoBindMap={};}
proto.__reactAutoBindMap[name]=property;proto[name]=property;}else{if(isAlreadyDefined){var specPolicy=ReactClassInterface[name];!(isReactClassMethod&&(specPolicy===SpecPolicy.DEFINE_MANY_MERGED||specPolicy===SpecPolicy.DEFINE_MANY))?"production"!=='production'?invariant(false,'ReactClass: Unexpected spec policy %s for key %s '+'when mixing in component specs.',specPolicy,name):invariant(false):undefined;if(specPolicy===SpecPolicy.DEFINE_MANY_MERGED){proto[name]=createMergedResultFunction(proto[name],property);}else if(specPolicy===SpecPolicy.DEFINE_MANY){proto[name]=createChainedFunction(proto[name],property);}}else{proto[name]=property;if("production"!=='production'){if(typeof property==='function'&&spec.displayName){proto[name].displayName=spec.displayName+'_'+name;}}}}}}}
function mixStaticSpecIntoComponent(Constructor,statics){if(!statics){return;}
for(var name in statics){var property=statics[name];if(!statics.hasOwnProperty(name)){continue;}
var isReserved=(name in RESERVED_SPEC_KEYS);!!isReserved?"production"!=='production'?invariant(false,'ReactClass: You are attempting to define a reserved '+'property, `%s`, that shouldn\'t be on the "statics" key. Define it '+'as an instance property instead; it will still be accessible on the '+'constructor.',name):invariant(false):undefined;var isInherited=(name in Constructor);!!isInherited?"production"!=='production'?invariant(false,'ReactClass: You are attempting to define '+'`%s` on your component more than once. This conflict may be '+'due to a mixin.',name):invariant(false):undefined;Constructor[name]=property;}}
function mergeIntoWithNoDuplicateKeys(one,two){!(one&&two&&typeof one==='object'&&typeof two==='object')?"production"!=='production'?invariant(false,'mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.'):invariant(false):undefined;for(var key in two){if(two.hasOwnProperty(key)){!(one[key]===undefined)?"production"!=='production'?invariant(false,'mergeIntoWithNoDuplicateKeys(): '+'Tried to merge two objects with the same key: `%s`. This conflict '+'may be due to a mixin; in particular, this may be caused by two '+'getInitialState() or getDefaultProps() methods returning objects '+'with clashing keys.',key):invariant(false):undefined;one[key]=two[key];}}
return one;}
function createMergedResultFunction(one,two){return function mergedResult(){var a=one.apply(this,arguments);var b=two.apply(this,arguments);if(a==null){return b;}else if(b==null){return a;}
var c={};mergeIntoWithNoDuplicateKeys(c,a);mergeIntoWithNoDuplicateKeys(c,b);return c;};}
function createChainedFunction(one,two){return function chainedFunction(){one.apply(this,arguments);two.apply(this,arguments);};}
function bindAutoBindMethod(component,method){var boundMethod=method.bind(component);if("production"!=='production'){boundMethod.__reactBoundContext=component;boundMethod.__reactBoundMethod=method;boundMethod.__reactBoundArguments=null;var componentName=component.constructor.displayName;var _bind=boundMethod.bind;boundMethod.bind=function(newThis){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}
if(newThis!==component&&newThis!==null){"production"!=='production'?warning(false,'bind(): React component methods may only be bound to the '+'component instance. See %s',componentName):undefined;}else if(!args.length){"production"!=='production'?warning(false,'bind(): You are binding a component method to the component. '+'React does this for you automatically in a high-performance '+'way, so you can safely remove this call. See %s',componentName):undefined;return boundMethod;}
var reboundMethod=_bind.apply(boundMethod,arguments);reboundMethod.__reactBoundContext=component;reboundMethod.__reactBoundMethod=method;reboundMethod.__reactBoundArguments=args;return reboundMethod;};}
return boundMethod;}
function bindAutoBindMethods(component){for(var autoBindKey in component.__reactAutoBindMap){if(component.__reactAutoBindMap.hasOwnProperty(autoBindKey)){var method=component.__reactAutoBindMap[autoBindKey];component[autoBindKey]=bindAutoBindMethod(component,method);}}}
var ReactClassMixin={replaceState:function(newState,callback){this.updater.enqueueReplaceState(this,newState);if(callback){this.updater.enqueueCallback(this,callback);}},isMounted:function(){return this.updater.isMounted(this);},setProps:function(partialProps,callback){if("production"!=='production'){warnSetProps();}
this.updater.enqueueSetProps(this,partialProps);if(callback){this.updater.enqueueCallback(this,callback);}},replaceProps:function(newProps,callback){if("production"!=='production'){warnSetProps();}
this.updater.enqueueReplaceProps(this,newProps);if(callback){this.updater.enqueueCallback(this,callback);}}};var ReactClassComponent=function(){};assign(ReactClassComponent.prototype,ReactComponent.prototype,ReactClassMixin);var ReactClass={createClass:function(spec){var Constructor=function(props,context,updater){if("production"!=='production'){"production"!=='production'?warning(this instanceof Constructor,'Something is calling a React component directly. Use a factory or '+'JSX instead. See: https://fb.me/react-legacyfactory'):undefined;}
if(this.__reactAutoBindMap){bindAutoBindMethods(this);}
this.props=props;this.context=context;this.refs=emptyObject;this.updater=updater||ReactNoopUpdateQueue;this.state=null;var initialState=this.getInitialState?this.getInitialState():null;if("production"!=='production'){if(typeof initialState==='undefined'&&this.getInitialState._isMockFunction){initialState=null;}}
!(typeof initialState==='object'&&!Array.isArray(initialState))?"production"!=='production'?invariant(false,'%s.getInitialState(): must return an object or null',Constructor.displayName||'ReactCompositeComponent'):invariant(false):undefined;this.state=initialState;};Constructor.prototype=new ReactClassComponent();Constructor.prototype.constructor=Constructor;injectedMixins.forEach(mixSpecIntoComponent.bind(null,Constructor));mixSpecIntoComponent(Constructor,spec);if(Constructor.getDefaultProps){Constructor.defaultProps=Constructor.getDefaultProps();}
if("production"!=='production'){if(Constructor.getDefaultProps){Constructor.getDefaultProps.isReactClassApproved={};}
if(Constructor.prototype.getInitialState){Constructor.prototype.getInitialState.isReactClassApproved={};}}
!Constructor.prototype.render?"production"!=='production'?invariant(false,'createClass(...): Class specification must implement a `render` method.'):invariant(false):undefined;if("production"!=='production'){"production"!=='production'?warning(!Constructor.prototype.componentShouldUpdate,'%s has a method called '+'componentShouldUpdate(). Did you mean shouldComponentUpdate()? '+'The name is phrased as a question because the function is '+'expected to return a value.',spec.displayName||'A component'):undefined;"production"!=='production'?warning(!Constructor.prototype.componentWillRecieveProps,'%s has a method called '+'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?',spec.displayName||'A component'):undefined;}
for(var methodName in ReactClassInterface){if(!Constructor.prototype[methodName]){Constructor.prototype[methodName]=null;}}
return Constructor;},injection:{injectMixin:function(mixin){injectedMixins.push(mixin);}}};module.exports=ReactClass;},{"./Object.assign":102,"./ReactComponent":110,"./ReactElement":132,"./ReactNoopUpdateQueue":149,"./ReactPropTypeLocationNames":152,"./ReactPropTypeLocations":153,"fbjs/lib/emptyObject":217,"fbjs/lib/invariant":224,"fbjs/lib/keyMirror":227,"fbjs/lib/keyOf":228,"fbjs/lib/warning":235}],110:[function(require,module,exports){'use strict';var ReactNoopUpdateQueue=require('./ReactNoopUpdateQueue');var canDefineProperty=require('./canDefineProperty');var emptyObject=require('fbjs/lib/emptyObject');var invariant=require('fbjs/lib/invariant');var warning=require('fbjs/lib/warning');function ReactComponent(props,context,updater){this.props=props;this.context=context;this.refs=emptyObject;this.updater=updater||ReactNoopUpdateQueue;}
ReactComponent.prototype.isReactComponent={};ReactComponent.prototype.setState=function(partialState,callback){!(typeof partialState==='object'||typeof partialState==='function'||partialState==null)?"production"!=='production'?invariant(false,'setState(...): takes an object of state variables to update or a '+'function which returns an object of state variables.'):invariant(false):undefined;if("production"!=='production'){"production"!=='production'?warning(partialState!=null,'setState(...): You passed an undefined or null state object; '+'instead, use forceUpdate().'):undefined;}
this.updater.enqueueSetState(this,partialState);if(callback){this.updater.enqueueCallback(this,callback);}};ReactComponent.prototype.forceUpdate=function(callback){this.updater.enqueueForceUpdate(this);if(callback){this.updater.enqueueCallback(this,callback);}};if("production"!=='production'){var deprecatedAPIs={getDOMNode:['getDOMNode','Use ReactDOM.findDOMNode(component) instead.'],isMounted:['isMounted','Instead, make sure to clean up subscriptions and pending requests in '+'componentWillUnmount to prevent memory leaks.'],replaceProps:['replaceProps','Instead, call render again at the top level.'],replaceState:['replaceState','Refactor your code to use setState instead (see '+'https://github.com/facebook/react/issues/3236).'],setProps:['setProps','Instead, call render again at the top level.']};var defineDeprecationWarning=function(methodName,info){if(canDefineProperty){Object.defineProperty(ReactComponent.prototype,methodName,{get:function(){"production"!=='production'?warning(false,'%s(...) is deprecated in plain JavaScript React classes. %s',info[0],info[1]):undefined;return undefined;}});}};for(var fnName in deprecatedAPIs){if(deprecatedAPIs.hasOwnProperty(fnName)){defineDeprecationWarning(fnName,deprecatedAPIs[fnName]);}}}
module.exports=ReactComponent;},{"./ReactNoopUpdateQueue":149,"./canDefineProperty":184,"fbjs/lib/emptyObject":217,"fbjs/lib/invariant":224,"fbjs/lib/warning":235}],111:[function(require,module,exports){'use strict';var ReactDOMIDOperations=require('./ReactDOMIDOperations');var ReactMount=require('./ReactMount');var ReactComponentBrowserEnvironment={processChildrenUpdates:ReactDOMIDOperations.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:ReactDOMIDOperations.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(rootNodeID){ReactMount.purgeID(rootNodeID);}};module.exports=ReactComponentBrowserEnvironment;},{"./ReactDOMIDOperations":120,"./ReactMount":145}],112:[function(require,module,exports){'use strict';var invariant=require('fbjs/lib/invariant');var injected=false;var ReactComponentEnvironment={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(environment){!!injected?"production"!=='production'?invariant(false,'ReactCompositeComponent: injectEnvironment() can only be called once.'):invariant(false):undefined;ReactComponentEnvironment.unmountIDFromEnvironment=environment.unmountIDFromEnvironment;ReactComponentEnvironment.replaceNodeWithMarkupByID=environment.replaceNodeWithMarkupByID;ReactComponentEnvironment.processChildrenUpdates=environment.processChildrenUpdates;injected=true;}}};module.exports=ReactComponentEnvironment;},{"fbjs/lib/invariant":224}],113:[function(require,module,exports){'use strict';var ReactComponentEnvironment=require('./ReactComponentEnvironment');var ReactCurrentOwner=require('./ReactCurrentOwner');var ReactElement=require('./ReactElement');var ReactInstanceMap=require('./ReactInstanceMap');var ReactPerf=require('./ReactPerf');var ReactPropTypeLocations=require('./ReactPropTypeLocations');var ReactPropTypeLocationNames=require('./ReactPropTypeLocationNames');var ReactReconciler=require('./ReactReconciler');var ReactUpdateQueue=require('./ReactUpdateQueue');var assign=require('./Object.assign');var emptyObject=require('fbjs/lib/emptyObject');var invariant=require('fbjs/lib/invariant');var shouldUpdateReactComponent=require('./shouldUpdateReactComponent');var warning=require('fbjs/lib/warning');function getDeclarationErrorAddendum(component){var owner=component._currentElement._owner||null;if(owner){var name=owner.getName();if(name){return' Check the render method of `'+name+'`.';}}
return'';}
function StatelessComponent(Component){}
StatelessComponent.prototype.render=function(){var Component=ReactInstanceMap.get(this)._currentElement.type;return Component(this.props,this.context,this.updater);};var nextMountID=1;var ReactCompositeComponentMixin={construct:function(element){this._currentElement=element;this._rootNodeID=null;this._instance=null;this._pendingElement=null;this._pendingStateQueue=null;this._pendingReplaceState=false;this._pendingForceUpdate=false;this._renderedComponent=null;this._context=null;this._mountOrder=0;this._topLevelWrapper=null;this._pendingCallbacks=null;},mountComponent:function(rootID,transaction,context){this._context=context;this._mountOrder=nextMountID++;this._rootNodeID=rootID;var publicProps=this._processProps(this._currentElement.props);var publicContext=this._processContext(context);var Component=this._currentElement.type;var inst;var renderedElement;var canInstantiate=('prototype'in Component);if(canInstantiate){if("production"!=='production'){ReactCurrentOwner.current=this;try{inst=new Component(publicProps,publicContext,ReactUpdateQueue);}finally{ReactCurrentOwner.current=null;}}else{inst=new Component(publicProps,publicContext,ReactUpdateQueue);}}
if(!canInstantiate||inst===null||inst===false||ReactElement.isValidElement(inst)){renderedElement=inst;inst=new StatelessComponent(Component);}
if("production"!=='production'){if(inst.render==null){"production"!=='production'?warning(false,'%s(...): No `render` method found on the returned component '+'instance: you may have forgotten to define `render`, returned '+'null/false from a stateless component, or tried to render an '+'element whose type is a function that isn\'t a React component.',Component.displayName||Component.name||'Component'):undefined;}else{"production"!=='production'?warning(Component.prototype&&Component.prototype.isReactComponent||!canInstantiate||!(inst instanceof Component),'%s(...): React component classes must extend React.Component.',Component.displayName||Component.name||'Component'):undefined;}}
inst.props=publicProps;inst.context=publicContext;inst.refs=emptyObject;inst.updater=ReactUpdateQueue;this._instance=inst;ReactInstanceMap.set(inst,this);if("production"!=='production'){"production"!=='production'?warning(!inst.getInitialState||inst.getInitialState.isReactClassApproved,'getInitialState was defined on %s, a plain JavaScript class. '+'This is only supported for classes created using React.createClass. '+'Did you mean to define a state property instead?',this.getName()||'a component'):undefined;"production"!=='production'?warning(!inst.getDefaultProps||inst.getDefaultProps.isReactClassApproved,'getDefaultProps was defined on %s, a plain JavaScript class. '+'This is only supported for classes created using React.createClass. '+'Use a static property to define defaultProps instead.',this.getName()||'a component'):undefined;"production"!=='production'?warning(!inst.propTypes,'propTypes was defined as an instance property on %s. Use a static '+'property to define propTypes instead.',this.getName()||'a component'):undefined;"production"!=='production'?warning(!inst.contextTypes,'contextTypes was defined as an instance property on %s. Use a '+'static property to define contextTypes instead.',this.getName()||'a component'):undefined;"production"!=='production'?warning(typeof inst.componentShouldUpdate!=='function','%s has a method called '+'componentShouldUpdate(). Did you mean shouldComponentUpdate()? '+'The name is phrased as a question because the function is '+'expected to return a value.',this.getName()||'A component'):undefined;"production"!=='production'?warning(typeof inst.componentDidUnmount!=='function','%s has a method called '+'componentDidUnmount(). But there is no such lifecycle method. '+'Did you mean componentWillUnmount()?',this.getName()||'A component'):undefined;"production"!=='production'?warning(typeof inst.componentWillRecieveProps!=='function','%s has a method called '+'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?',this.getName()||'A component'):undefined;}
var initialState=inst.state;if(initialState===undefined){inst.state=initialState=null;}
!(typeof initialState==='object'&&!Array.isArray(initialState))?"production"!=='production'?invariant(false,'%s.state: must be set to an object or null',this.getName()||'ReactCompositeComponent'):invariant(false):undefined;this._pendingStateQueue=null;this._pendingReplaceState=false;this._pendingForceUpdate=false;if(inst.componentWillMount){inst.componentWillMount();if(this._pendingStateQueue){inst.state=this._processPendingState(inst.props,inst.context);}}
if(renderedElement===undefined){renderedElement=this._renderValidatedComponent();}
this._renderedComponent=this._instantiateReactComponent(renderedElement);var markup=ReactReconciler.mountComponent(this._renderedComponent,rootID,transaction,this._processChildContext(context));if(inst.componentDidMount){transaction.getReactMountReady().enqueue(inst.componentDidMount,inst);}
return markup;},unmountComponent:function(){var inst=this._instance;if(inst.componentWillUnmount){inst.componentWillUnmount();}
ReactReconciler.unmountComponent(this._renderedComponent);this._renderedComponent=null;this._instance=null;this._pendingStateQueue=null;this._pendingReplaceState=false;this._pendingForceUpdate=false;this._pendingCallbacks=null;this._pendingElement=null;this._context=null;this._rootNodeID=null;this._topLevelWrapper=null;ReactInstanceMap.remove(inst);},_maskContext:function(context){var maskedContext=null;var Component=this._currentElement.type;var contextTypes=Component.contextTypes;if(!contextTypes){return emptyObject;}
maskedContext={};for(var contextName in contextTypes){maskedContext[contextName]=context[contextName];}
return maskedContext;},_processContext:function(context){var maskedContext=this._maskContext(context);if("production"!=='production'){var Component=this._currentElement.type;if(Component.contextTypes){this._checkPropTypes(Component.contextTypes,maskedContext,ReactPropTypeLocations.context);}}
return maskedContext;},_processChildContext:function(currentContext){var Component=this._currentElement.type;var inst=this._instance;var childContext=inst.getChildContext&&inst.getChildContext();if(childContext){!(typeof Component.childContextTypes==='object')?"production"!=='production'?invariant(false,'%s.getChildContext(): childContextTypes must be defined in order to '+'use getChildContext().',this.getName()||'ReactCompositeComponent'):invariant(false):undefined;if("production"!=='production'){this._checkPropTypes(Component.childContextTypes,childContext,ReactPropTypeLocations.childContext);}
for(var name in childContext){!(name in Component.childContextTypes)?"production"!=='production'?invariant(false,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||'ReactCompositeComponent',name):invariant(false):undefined;}
return assign({},currentContext,childContext);}
return currentContext;},_processProps:function(newProps){if("production"!=='production'){var Component=this._currentElement.type;if(Component.propTypes){this._checkPropTypes(Component.propTypes,newProps,ReactPropTypeLocations.prop);}}
return newProps;},_checkPropTypes:function(propTypes,props,location){var componentName=this.getName();for(var propName in propTypes){if(propTypes.hasOwnProperty(propName)){var error;try{!(typeof propTypes[propName]==='function')?"production"!=='production'?invariant(false,'%s: %s type `%s` is invalid; it must be a function, usually '+'from React.PropTypes.',componentName||'React class',ReactPropTypeLocationNames[location],propName):invariant(false):undefined;error=propTypes[propName](props,propName,componentName,location);}catch(ex){error=ex;}
if(error instanceof Error){var addendum=getDeclarationErrorAddendum(this);if(location===ReactPropTypeLocations.prop){"production"!=='production'?warning(false,'Failed Composite propType: %s%s',error.message,addendum):undefined;}else{"production"!=='production'?warning(false,'Failed Context Types: %s%s',error.message,addendum):undefined;}}}}},receiveComponent:function(nextElement,transaction,nextContext){var prevElement=this._currentElement;var prevContext=this._context;this._pendingElement=null;this.updateComponent(transaction,prevElement,nextElement,prevContext,nextContext);},performUpdateIfNecessary:function(transaction){if(this._pendingElement!=null){ReactReconciler.receiveComponent(this,this._pendingElement||this._currentElement,transaction,this._context);}
if(this._pendingStateQueue!==null||this._pendingForceUpdate){this.updateComponent(transaction,this._currentElement,this._currentElement,this._context,this._context);}},updateComponent:function(transaction,prevParentElement,nextParentElement,prevUnmaskedContext,nextUnmaskedContext){var inst=this._instance;var nextContext=this._context===nextUnmaskedContext?inst.context:this._processContext(nextUnmaskedContext);var nextProps;if(prevParentElement===nextParentElement){nextProps=nextParentElement.props;}else{nextProps=this._processProps(nextParentElement.props);if(inst.componentWillReceiveProps){inst.componentWillReceiveProps(nextProps,nextContext);}}
var nextState=this._processPendingState(nextProps,nextContext);var shouldUpdate=this._pendingForceUpdate||!inst.shouldComponentUpdate||inst.shouldComponentUpdate(nextProps,nextState,nextContext);if("production"!=='production'){"production"!=='production'?warning(typeof shouldUpdate!=='undefined','%s.shouldComponentUpdate(): Returned undefined instead of a '+'boolean value. Make sure to return true or false.',this.getName()||'ReactCompositeComponent'):undefined;}
if(shouldUpdate){this._pendingForceUpdate=false;this._performComponentUpdate(nextParentElement,nextProps,nextState,nextContext,transaction,nextUnmaskedContext);}else{this._currentElement=nextParentElement;this._context=nextUnmaskedContext;inst.props=nextProps;inst.state=nextState;inst.context=nextContext;}},_processPendingState:function(props,context){var inst=this._instance;var queue=this._pendingStateQueue;var replace=this._pendingReplaceState;this._pendingReplaceState=false;this._pendingStateQueue=null;if(!queue){return inst.state;}
if(replace&&queue.length===1){return queue[0];}
var nextState=assign({},replace?queue[0]:inst.state);for(var i=replace?1:0;i<queue.length;i++){var partial=queue[i];assign(nextState,typeof partial==='function'?partial.call(inst,nextState,props,context):partial);}
return nextState;},_performComponentUpdate:function(nextElement,nextProps,nextState,nextContext,transaction,unmaskedContext){var inst=this._instance;var hasComponentDidUpdate=Boolean(inst.componentDidUpdate);var prevProps;var prevState;var prevContext;if(hasComponentDidUpdate){prevProps=inst.props;prevState=inst.state;prevContext=inst.context;}
if(inst.componentWillUpdate){inst.componentWillUpdate(nextProps,nextState,nextContext);}
this._currentElement=nextElement;this._context=unmaskedContext;inst.props=nextProps;inst.state=nextState;inst.context=nextContext;this._updateRenderedComponent(transaction,unmaskedContext);if(hasComponentDidUpdate){transaction.getReactMountReady().enqueue(inst.componentDidUpdate.bind(inst,prevProps,prevState,prevContext),inst);}},_updateRenderedComponent:function(transaction,context){var prevComponentInstance=this._renderedComponent;var prevRenderedElement=prevComponentInstance._currentElement;var nextRenderedElement=this._renderValidatedComponent();if(shouldUpdateReactComponent(prevRenderedElement,nextRenderedElement)){ReactReconciler.receiveComponent(prevComponentInstance,nextRenderedElement,transaction,this._processChildContext(context));}else{var thisID=this._rootNodeID;var prevComponentID=prevComponentInstance._rootNodeID;ReactReconciler.unmountComponent(prevComponentInstance);this._renderedComponent=this._instantiateReactComponent(nextRenderedElement);var nextMarkup=ReactReconciler.mountComponent(this._renderedComponent,thisID,transaction,this._processChildContext(context));this._replaceNodeWithMarkupByID(prevComponentID,nextMarkup);}},_replaceNodeWithMarkupByID:function(prevComponentID,nextMarkup){ReactComponentEnvironment.replaceNodeWithMarkupByID(prevComponentID,nextMarkup);},_renderValidatedComponentWithoutOwnerOrContext:function(){var inst=this._instance;var renderedComponent=inst.render();if("production"!=='production'){if(typeof renderedComponent==='undefined'&&inst.render._isMockFunction){renderedComponent=null;}}
return renderedComponent;},_renderValidatedComponent:function(){var renderedComponent;ReactCurrentOwner.current=this;try{renderedComponent=this._renderValidatedComponentWithoutOwnerOrContext();}finally{ReactCurrentOwner.current=null;}
!(renderedComponent===null||renderedComponent===false||ReactElement.isValidElement(renderedComponent))?"production"!=='production'?invariant(false,'%s.render(): A valid ReactComponent must be returned. You may have '+'returned undefined, an array or some other invalid object.',this.getName()||'ReactCompositeComponent'):invariant(false):undefined;return renderedComponent;},attachRef:function(ref,component){var inst=this.getPublicInstance();!(inst!=null)?"production"!=='production'?invariant(false,'Stateless function components cannot have refs.'):invariant(false):undefined;var publicComponentInstance=component.getPublicInstance();if("production"!=='production'){var componentName=component&&component.getName?component.getName():'a component';"production"!=='production'?warning(publicComponentInstance!=null,'Stateless function components cannot be given refs '+'(See ref "%s" in %s created by %s). '+'Attempts to access this ref will fail.',ref,componentName,this.getName()):undefined;}
var refs=inst.refs===emptyObject?inst.refs={}:inst.refs;refs[ref]=publicComponentInstance;},detachRef:function(ref){var refs=this.getPublicInstance().refs;delete refs[ref];},getName:function(){var type=this._currentElement.type;var constructor=this._instance&&this._instance.constructor;return type.displayName||constructor&&constructor.displayName||type.name||constructor&&constructor.name||null;},getPublicInstance:function(){var inst=this._instance;if(inst instanceof StatelessComponent){return null;}
return inst;},_instantiateReactComponent:null};ReactPerf.measureMethods(ReactCompositeComponentMixin,'ReactCompositeComponent',{mountComponent:'mountComponent',updateComponent:'updateComponent',_renderValidatedComponent:'_renderValidatedComponent'});var ReactCompositeComponent={Mixin:ReactCompositeComponentMixin};module.exports=ReactCompositeComponent;},{"./Object.assign":102,"./ReactComponentEnvironment":112,"./ReactCurrentOwner":114,"./ReactElement":132,"./ReactInstanceMap":142,"./ReactPerf":151,"./ReactPropTypeLocationNames":152,"./ReactPropTypeLocations":153,"./ReactReconciler":156,"./ReactUpdateQueue":162,"./shouldUpdateReactComponent":206,"fbjs/lib/emptyObject":217,"fbjs/lib/invariant":224,"fbjs/lib/warning":235}],114:[function(require,module,exports){'use strict';var ReactCurrentOwner={current:null};module.exports=ReactCurrentOwner;},{}],115:[function(require,module,exports){'use strict';var ReactCurrentOwner=require('./ReactCurrentOwner');var ReactDOMTextComponent=require('./ReactDOMTextComponent');var ReactDefaultInjection=require('./ReactDefaultInjection');var ReactInstanceHandles=require('./ReactInstanceHandles');var ReactMount=require('./ReactMount');var ReactPerf=require('./ReactPerf');var ReactReconciler=require('./ReactReconciler');var ReactUpdates=require('./ReactUpdates');var ReactVersion=require('./ReactVersion');var findDOMNode=require('./findDOMNode');var renderSubtreeIntoContainer=require('./renderSubtreeIntoContainer');var warning=require('fbjs/lib/warning');ReactDefaultInjection.inject();var render=ReactPerf.measure('React','render',ReactMount.render);var React={findDOMNode:findDOMNode,render:render,unmountComponentAtNode:ReactMount.unmountComponentAtNode,version:ReactVersion,unstable_batchedUpdates:ReactUpdates.batchedUpdates,unstable_renderSubtreeIntoContainer:renderSubtreeIntoContainer};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=='undefined'&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject==='function'){__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:ReactCurrentOwner,InstanceHandles:ReactInstanceHandles,Mount:ReactMount,Reconciler:ReactReconciler,TextComponent:ReactDOMTextComponent});}
if("production"!=='production'){var ExecutionEnvironment=require('fbjs/lib/ExecutionEnvironment');if(ExecutionEnvironment.canUseDOM&&window.top===window.self){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==='undefined'){if(navigator.userAgent.indexOf('Chrome')>-1&&navigator.userAgent.indexOf('Edge')===-1||navigator.userAgent.indexOf('Firefox')>-1){console.debug('Download the React DevTools for a better development experience: '+'https://fb.me/react-devtools');}}
var ieCompatibilityMode=document.documentMode&&document.documentMode<8;"production"!=='production'?warning(!ieCompatibilityMode,'Internet Explorer is running in compatibility mode; please add the '+'following tag to your HTML to prevent this from happening: '+'<meta http-equiv="X-UA-Compatible" content="IE=edge" />'):undefined;var expectedFeatures=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze];for(var i=0;i<expectedFeatures.length;i++){if(!expectedFeatures[i]){console.error('One or more ES5 shim/shams expected by React are not available: '+'https://fb.me/react-warning-polyfills');break;}}}}
module.exports=React;},{"./ReactCurrentOwner":114,"./ReactDOMTextComponent":126,"./ReactDefaultInjection":129,"./ReactInstanceHandles":141,"./ReactMount":145,"./ReactPerf":151,"./ReactReconciler":156,"./ReactUpdates":163,"./ReactVersion":164,"./findDOMNode":188,"./renderSubtreeIntoContainer":203,"fbjs/lib/ExecutionEnvironment":210,"fbjs/lib/warning":235}],116:[function(require,module,exports){'use strict';var mouseListenerNames={onClick:true,onDoubleClick:true,onMouseDown:true,onMouseMove:true,onMouseUp:true,onClickCapture:true,onDoubleClickCapture:true,onMouseDownCapture:true,onMouseMoveCapture:true,onMouseUpCapture:true};var ReactDOMButton={getNativeProps:function(inst,props,context){if(!props.disabled){return props;}
var nativeProps={};for(var key in props){if(props.hasOwnProperty(key)&&!mouseListenerNames[key]){nativeProps[key]=props[key];}}
return nativeProps;}};module.exports=ReactDOMButton;},{}],117:[function(require,module,exports){'use strict';var AutoFocusUtils=require('./AutoFocusUtils');var CSSPropertyOperations=require('./CSSPropertyOperations');var DOMProperty=require('./DOMProperty');var DOMPropertyOperations=require('./DOMPropertyOperations');var EventConstants=require('./EventConstants');var ReactBrowserEventEmitter=require('./ReactBrowserEventEmitter');var ReactComponentBrowserEnvironment=require('./ReactComponentBrowserEnvironment');var ReactDOMButton=require('./ReactDOMButton');var ReactDOMInput=require('./ReactDOMInput');var ReactDOMOption=require('./ReactDOMOption');var ReactDOMSelect=require('./ReactDOMSelect');var ReactDOMTextarea=require('./ReactDOMTextarea');var ReactMount=require('./ReactMount');var ReactMultiChild=require('./ReactMultiChild');var ReactPerf=require('./ReactPerf');var ReactUpdateQueue=require('./ReactUpdateQueue');var assign=require('./Object.assign');var canDefineProperty=require('./canDefineProperty');var escapeTextContentForBrowser=require('./escapeTextContentForBrowser');var invariant=require('fbjs/lib/invariant');var isEventSupported=require('./isEventSupported');var keyOf=require('fbjs/lib/keyOf');var setInnerHTML=require('./setInnerHTML');var setTextContent=require('./setTextContent');var shallowEqual=require('fbjs/lib/shallowEqual');var validateDOMNesting=require('./validateDOMNesting');var warning=require('fbjs/lib/warning');var deleteListener=ReactBrowserEventEmitter.deleteListener;var listenTo=ReactBrowserEventEmitter.listenTo;var registrationNameModules=ReactBrowserEventEmitter.registrationNameModules;var CONTENT_TYPES={'string':true,'number':true};var CHILDREN=keyOf({children:null});var STYLE=keyOf({style:null});var HTML=keyOf({__html:null});var ELEMENT_NODE_TYPE=1;function getDeclarationErrorAddendum(internalInstance){if(internalInstance){var owner=internalInstance._currentElement._owner||null;if(owner){var name=owner.getName();if(name){return' This DOM node was rendered by `'+name+'`.';}}}
return'';}
var legacyPropsDescriptor;if("production"!=='production'){legacyPropsDescriptor={props:{enumerable:false,get:function(){var component=this._reactInternalComponent;"production"!=='production'?warning(false,'ReactDOMComponent: Do not access .props of a DOM node; instead, '+'recreate the props as `render` did originally or read the DOM '+'properties/attributes directly from this node (e.g., '+'this.refs.box.className).%s',getDeclarationErrorAddendum(component)):undefined;return component._currentElement.props;}}};}
function legacyGetDOMNode(){if("production"!=='production'){var component=this._reactInternalComponent;"production"!=='production'?warning(false,'ReactDOMComponent: Do not access .getDOMNode() of a DOM node; '+'instead, use the node directly.%s',getDeclarationErrorAddendum(component)):undefined;}
return this;}
function legacyIsMounted(){var component=this._reactInternalComponent;if("production"!=='production'){"production"!=='production'?warning(false,'ReactDOMComponent: Do not access .isMounted() of a DOM node.%s',getDeclarationErrorAddendum(component)):undefined;}
return!!component;}
function legacySetStateEtc(){if("production"!=='production'){var component=this._reactInternalComponent;"production"!=='production'?warning(false,'ReactDOMComponent: Do not access .setState(), .replaceState(), or '+'.forceUpdate() of a DOM node. This is a no-op.%s',getDeclarationErrorAddendum(component)):undefined;}}
function legacySetProps(partialProps,callback){var component=this._reactInternalComponent;if("production"!=='production'){"production"!=='production'?warning(false,'ReactDOMComponent: Do not access .setProps() of a DOM node. '+'Instead, call ReactDOM.render again at the top level.%s',getDeclarationErrorAddendum(component)):undefined;}
if(!component){return;}
ReactUpdateQueue.enqueueSetPropsInternal(component,partialProps);if(callback){ReactUpdateQueue.enqueueCallbackInternal(component,callback);}}
function legacyReplaceProps(partialProps,callback){var component=this._reactInternalComponent;if("production"!=='production'){"production"!=='production'?warning(false,'ReactDOMComponent: Do not access .replaceProps() of a DOM node. '+'Instead, call ReactDOM.render again at the top level.%s',getDeclarationErrorAddendum(component)):undefined;}
if(!component){return;}
ReactUpdateQueue.enqueueReplacePropsInternal(component,partialProps);if(callback){ReactUpdateQueue.enqueueCallbackInternal(component,callback);}}
function friendlyStringify(obj){if(typeof obj==='object'){if(Array.isArray(obj)){return'['+obj.map(friendlyStringify).join(', ')+']';}else{var pairs=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var keyEscaped=/^[a-z$_][\w$_]*$/i.test(key)?key:JSON.stringify(key);pairs.push(keyEscaped+': '+friendlyStringify(obj[key]));}}
return'{'+pairs.join(', ')+'}';}}else if(typeof obj==='string'){return JSON.stringify(obj);}else if(typeof obj==='function'){return'[function object]';}
return String(obj);}
var styleMutationWarning={};function checkAndWarnForMutatedStyle(style1,style2,component){if(style1==null||style2==null){return;}
if(shallowEqual(style1,style2)){return;}
var componentName=component._tag;var owner=component._currentElement._owner;var ownerName;if(owner){ownerName=owner.getName();}
var hash=ownerName+'|'+componentName;if(styleMutationWarning.hasOwnProperty(hash)){return;}
styleMutationWarning[hash]=true;"production"!=='production'?warning(false,'`%s` was passed a style object that has previously been mutated. '+'Mutating `style` is deprecated. Consider cloning it beforehand. Check '+'the `render` %s. Previous style: %s. Mutated style: %s.',componentName,owner?'of `'+ownerName+'`':'using <'+componentName+'>',friendlyStringify(style1),friendlyStringify(style2)):undefined;}
function assertValidProps(component,props){if(!props){return;}
if("production"!=='production'){if(voidElementTags[component._tag]){"production"!=='production'?warning(props.children==null&&props.dangerouslySetInnerHTML==null,'%s is a void element tag and must not have `children` or '+'use `props.dangerouslySetInnerHTML`.%s',component._tag,component._currentElement._owner?' Check the render method of '+component._currentElement._owner.getName()+'.':''):undefined;}}
if(props.dangerouslySetInnerHTML!=null){!(props.children==null)?"production"!=='production'?invariant(false,'Can only set one of `children` or `props.dangerouslySetInnerHTML`.'):invariant(false):undefined;!(typeof props.dangerouslySetInnerHTML==='object'&&HTML in props.dangerouslySetInnerHTML)?"production"!=='production'?invariant(false,'`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. '+'Please visit https://fb.me/react-invariant-dangerously-set-inner-html '+'for more information.'):invariant(false):undefined;}
if("production"!=='production'){"production"!=='production'?warning(props.innerHTML==null,'Directly setting property `innerHTML` is not permitted. '+'For more information, lookup documentation on `dangerouslySetInnerHTML`.'):undefined;"production"!=='production'?warning(!props.contentEditable||props.children==null,'A component is `contentEditable` and contains `children` managed by '+'React. It is now your responsibility to guarantee that none of '+'those nodes are unexpectedly modified or duplicated. This is '+'probably not intentional.'):undefined;}
!(props.style==null||typeof props.style==='object')?"production"!=='production'?invariant(false,'The `style` prop expects a mapping from style properties to values, '+'not a string. For example, style={{marginRight: spacing + \'em\'}} when '+'using JSX.%s',getDeclarationErrorAddendum(component)):invariant(false):undefined;}
function enqueuePutListener(id,registrationName,listener,transaction){if("production"!=='production'){"production"!=='production'?warning(registrationName!=='onScroll'||isEventSupported('scroll',true),'This browser doesn\'t support the `onScroll` event'):undefined;}
var container=ReactMount.findReactContainerForID(id);if(container){var doc=container.nodeType===ELEMENT_NODE_TYPE?container.ownerDocument:container;listenTo(registrationName,doc);}
transaction.getReactMountReady().enqueue(putListener,{id:id,registrationName:registrationName,listener:listener});}
function putListener(){var listenerToPut=this;ReactBrowserEventEmitter.putListener(listenerToPut.id,listenerToPut.registrationName,listenerToPut.listener);}
var mediaEvents={topAbort:'abort',topCanPlay:'canplay',topCanPlayThrough:'canplaythrough',topDurationChange:'durationchange',topEmptied:'emptied',topEncrypted:'encrypted',topEnded:'ended',topError:'error',topLoadedData:'loadeddata',topLoadedMetadata:'loadedmetadata',topLoadStart:'loadstart',topPause:'pause',topPlay:'play',topPlaying:'playing',topProgress:'progress',topRateChange:'ratechange',topSeeked:'seeked',topSeeking:'seeking',topStalled:'stalled',topSuspend:'suspend',topTimeUpdate:'timeupdate',topVolumeChange:'volumechange',topWaiting:'waiting'};function trapBubbledEventsLocal(){var inst=this;!inst._rootNodeID?"production"!=='production'?invariant(false,'Must be mounted to trap events'):invariant(false):undefined;var node=ReactMount.getNode(inst._rootNodeID);!node?"production"!=='production'?invariant(false,'trapBubbledEvent(...): Requires node to be rendered.'):invariant(false):undefined;switch(inst._tag){case'iframe':inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,'load',node)];break;case'video':case'audio':inst._wrapperState.listeners=[];for(var event in mediaEvents){if(mediaEvents.hasOwnProperty(event)){inst._wrapperState.listeners.push(ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes[event],mediaEvents[event],node));}}
break;case'img':inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topError,'error',node),ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,'load',node)];break;case'form':inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topReset,'reset',node),ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topSubmit,'submit',node)];break;}}
function mountReadyInputWrapper(){ReactDOMInput.mountReadyWrapper(this);}
function postUpdateSelectWrapper(){ReactDOMSelect.postUpdateWrapper(this);}
var omittedCloseTags={'area':true,'base':true,'br':true,'col':true,'embed':true,'hr':true,'img':true,'input':true,'keygen':true,'link':true,'meta':true,'param':true,'source':true,'track':true,'wbr':true};var newlineEatingTags={'listing':true,'pre':true,'textarea':true};var voidElementTags=assign({'menuitem':true},omittedCloseTags);var VALID_TAG_REGEX=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/;var validatedTagCache={};var hasOwnProperty=({}).hasOwnProperty;function validateDangerousTag(tag){if(!hasOwnProperty.call(validatedTagCache,tag)){!VALID_TAG_REGEX.test(tag)?"production"!=='production'?invariant(false,'Invalid tag: %s',tag):invariant(false):undefined;validatedTagCache[tag]=true;}}
function processChildContextDev(context,inst){context=assign({},context);var info=context[validateDOMNesting.ancestorInfoContextKey];context[validateDOMNesting.ancestorInfoContextKey]=validateDOMNesting.updatedAncestorInfo(info,inst._tag,inst);return context;}
function isCustomComponent(tagName,props){return tagName.indexOf('-')>=0||props.is!=null;}
function ReactDOMComponent(tag){validateDangerousTag(tag);this._tag=tag.toLowerCase();this._renderedChildren=null;this._previousStyle=null;this._previousStyleCopy=null;this._rootNodeID=null;this._wrapperState=null;this._topLevelWrapper=null;this._nodeWithLegacyProperties=null;if("production"!=='production'){this._unprocessedContextDev=null;this._processedContextDev=null;}}
ReactDOMComponent.displayName='ReactDOMComponent';ReactDOMComponent.Mixin={construct:function(element){this._currentElement=element;},mountComponent:function(rootID,transaction,context){this._rootNodeID=rootID;var props=this._currentElement.props;switch(this._tag){case'iframe':case'img':case'form':case'video':case'audio':this._wrapperState={listeners:null};transaction.getReactMountReady().enqueue(trapBubbledEventsLocal,this);break;case'button':props=ReactDOMButton.getNativeProps(this,props,context);break;case'input':ReactDOMInput.mountWrapper(this,props,context);props=ReactDOMInput.getNativeProps(this,props,context);break;case'option':ReactDOMOption.mountWrapper(this,props,context);props=ReactDOMOption.getNativeProps(this,props,context);break;case'select':ReactDOMSelect.mountWrapper(this,props,context);props=ReactDOMSelect.getNativeProps(this,props,context);context=ReactDOMSelect.processChildContext(this,props,context);break;case'textarea':ReactDOMTextarea.mountWrapper(this,props,context);props=ReactDOMTextarea.getNativeProps(this,props,context);break;}
assertValidProps(this,props);if("production"!=='production'){if(context[validateDOMNesting.ancestorInfoContextKey]){validateDOMNesting(this._tag,this,context[validateDOMNesting.ancestorInfoContextKey]);}}
if("production"!=='production'){this._unprocessedContextDev=context;this._processedContextDev=processChildContextDev(context,this);context=this._processedContextDev;}
var mountImage;if(transaction.useCreateElement){var ownerDocument=context[ReactMount.ownerDocumentContextKey];var el=ownerDocument.createElement(this._currentElement.type);DOMPropertyOperations.setAttributeForID(el,this._rootNodeID);ReactMount.getID(el);this._updateDOMProperties({},props,transaction,el);this._createInitialChildren(transaction,props,context,el);mountImage=el;}else{var tagOpen=this._createOpenTagMarkupAndPutListeners(transaction,props);var tagContent=this._createContentMarkup(transaction,props,context);if(!tagContent&&omittedCloseTags[this._tag]){mountImage=tagOpen+'/>';}else{mountImage=tagOpen+'>'+tagContent+'</'+this._currentElement.type+'>';}}
switch(this._tag){case'input':transaction.getReactMountReady().enqueue(mountReadyInputWrapper,this);case'button':case'select':case'textarea':if(props.autoFocus){transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent,this);}
break;}
return mountImage;},_createOpenTagMarkupAndPutListeners:function(transaction,props){var ret='<'+this._currentElement.type;for(var propKey in props){if(!props.hasOwnProperty(propKey)){continue;}
var propValue=props[propKey];if(propValue==null){continue;}
if(registrationNameModules.hasOwnProperty(propKey)){if(propValue){enqueuePutListener(this._rootNodeID,propKey,propValue,transaction);}}else{if(propKey===STYLE){if(propValue){if("production"!=='production'){this._previousStyle=propValue;}
propValue=this._previousStyleCopy=assign({},props.style);}
propValue=CSSPropertyOperations.createMarkupForStyles(propValue);}
var markup=null;if(this._tag!=null&&isCustomComponent(this._tag,props)){if(propKey!==CHILDREN){markup=DOMPropertyOperations.createMarkupForCustomAttribute(propKey,propValue);}}else{markup=DOMPropertyOperations.createMarkupForProperty(propKey,propValue);}
if(markup){ret+=' '+markup;}}}
if(transaction.renderToStaticMarkup){return ret;}
var markupForID=DOMPropertyOperations.createMarkupForID(this._rootNodeID);return ret+' '+markupForID;},_createContentMarkup:function(transaction,props,context){var ret='';var innerHTML=props.dangerouslySetInnerHTML;if(innerHTML!=null){if(innerHTML.__html!=null){ret=innerHTML.__html;}}else{var contentToUse=CONTENT_TYPES[typeof props.children]?props.children:null;var childrenToUse=contentToUse!=null?null:props.children;if(contentToUse!=null){ret=escapeTextContentForBrowser(contentToUse);}else if(childrenToUse!=null){var mountImages=this.mountChildren(childrenToUse,transaction,context);ret=mountImages.join('');}}
if(newlineEatingTags[this._tag]&&ret.charAt(0)==='\n'){return'\n'+ret;}else{return ret;}},_createInitialChildren:function(transaction,props,context,el){var innerHTML=props.dangerouslySetInnerHTML;if(innerHTML!=null){if(innerHTML.__html!=null){setInnerHTML(el,innerHTML.__html);}}else{var contentToUse=CONTENT_TYPES[typeof props.children]?props.children:null;var childrenToUse=contentToUse!=null?null:props.children;if(contentToUse!=null){setTextContent(el,contentToUse);}else if(childrenToUse!=null){var mountImages=this.mountChildren(childrenToUse,transaction,context);for(var i=0;i<mountImages.length;i++){el.appendChild(mountImages[i]);}}}},receiveComponent:function(nextElement,transaction,context){var prevElement=this._currentElement;this._currentElement=nextElement;this.updateComponent(transaction,prevElement,nextElement,context);},updateComponent:function(transaction,prevElement,nextElement,context){var lastProps=prevElement.props;var nextProps=this._currentElement.props;switch(this._tag){case'button':lastProps=ReactDOMButton.getNativeProps(this,lastProps);nextProps=ReactDOMButton.getNativeProps(this,nextProps);break;case'input':ReactDOMInput.updateWrapper(this);lastProps=ReactDOMInput.getNativeProps(this,lastProps);nextProps=ReactDOMInput.getNativeProps(this,nextProps);break;case'option':lastProps=ReactDOMOption.getNativeProps(this,lastProps);nextProps=ReactDOMOption.getNativeProps(this,nextProps);break;case'select':lastProps=ReactDOMSelect.getNativeProps(this,lastProps);nextProps=ReactDOMSelect.getNativeProps(this,nextProps);break;case'textarea':ReactDOMTextarea.updateWrapper(this);lastProps=ReactDOMTextarea.getNativeProps(this,lastProps);nextProps=ReactDOMTextarea.getNativeProps(this,nextProps);break;}
if("production"!=='production'){if(this._unprocessedContextDev!==context){this._unprocessedContextDev=context;this._processedContextDev=processChildContextDev(context,this);}
context=this._processedContextDev;}
assertValidProps(this,nextProps);this._updateDOMProperties(lastProps,nextProps,transaction,null);this._updateDOMChildren(lastProps,nextProps,transaction,context);if(!canDefineProperty&&this._nodeWithLegacyProperties){this._nodeWithLegacyProperties.props=nextProps;}
if(this._tag==='select'){transaction.getReactMountReady().enqueue(postUpdateSelectWrapper,this);}},_updateDOMProperties:function(lastProps,nextProps,transaction,node){var propKey;var styleName;var styleUpdates;for(propKey in lastProps){if(nextProps.hasOwnProperty(propKey)||!lastProps.hasOwnProperty(propKey)){continue;}
if(propKey===STYLE){var lastStyle=this._previousStyleCopy;for(styleName in lastStyle){if(lastStyle.hasOwnProperty(styleName)){styleUpdates=styleUpdates||{};styleUpdates[styleName]='';}}
this._previousStyleCopy=null;}else if(registrationNameModules.hasOwnProperty(propKey)){if(lastProps[propKey]){deleteListener(this._rootNodeID,propKey);}}else if(DOMProperty.properties[propKey]||DOMProperty.isCustomAttribute(propKey)){if(!node){node=ReactMount.getNode(this._rootNodeID);}
DOMPropertyOperations.deleteValueForProperty(node,propKey);}}
for(propKey in nextProps){var nextProp=nextProps[propKey];var lastProp=propKey===STYLE?this._previousStyleCopy:lastProps[propKey];if(!nextProps.hasOwnProperty(propKey)||nextProp===lastProp){continue;}
if(propKey===STYLE){if(nextProp){if("production"!=='production'){checkAndWarnForMutatedStyle(this._previousStyleCopy,this._previousStyle,this);this._previousStyle=nextProp;}
nextProp=this._previousStyleCopy=assign({},nextProp);}else{this._previousStyleCopy=null;}
if(lastProp){for(styleName in lastProp){if(lastProp.hasOwnProperty(styleName)&&(!nextProp||!nextProp.hasOwnProperty(styleName))){styleUpdates=styleUpdates||{};styleUpdates[styleName]='';}}
for(styleName in nextProp){if(nextProp.hasOwnProperty(styleName)&&lastProp[styleName]!==nextProp[styleName]){styleUpdates=styleUpdates||{};styleUpdates[styleName]=nextProp[styleName];}}}else{styleUpdates=nextProp;}}else if(registrationNameModules.hasOwnProperty(propKey)){if(nextProp){enqueuePutListener(this._rootNodeID,propKey,nextProp,transaction);}else if(lastProp){deleteListener(this._rootNodeID,propKey);}}else if(isCustomComponent(this._tag,nextProps)){if(!node){node=ReactMount.getNode(this._rootNodeID);}
if(propKey===CHILDREN){nextProp=null;}
DOMPropertyOperations.setValueForAttribute(node,propKey,nextProp);}else if(DOMProperty.properties[propKey]||DOMProperty.isCustomAttribute(propKey)){if(!node){node=ReactMount.getNode(this._rootNodeID);}
if(nextProp!=null){DOMPropertyOperations.setValueForProperty(node,propKey,nextProp);}else{DOMPropertyOperations.deleteValueForProperty(node,propKey);}}}
if(styleUpdates){if(!node){node=ReactMount.getNode(this._rootNodeID);}
CSSPropertyOperations.setValueForStyles(node,styleUpdates);}},_updateDOMChildren:function(lastProps,nextProps,transaction,context){var lastContent=CONTENT_TYPES[typeof lastProps.children]?lastProps.children:null;var nextContent=CONTENT_TYPES[typeof nextProps.children]?nextProps.children:null;var lastHtml=lastProps.dangerouslySetInnerHTML&&lastProps.dangerouslySetInnerHTML.__html;var nextHtml=nextProps.dangerouslySetInnerHTML&&nextProps.dangerouslySetInnerHTML.__html;var lastChildren=lastContent!=null?null:lastProps.children;var nextChildren=nextContent!=null?null:nextProps.children;var lastHasContentOrHtml=lastContent!=null||lastHtml!=null;var nextHasContentOrHtml=nextContent!=null||nextHtml!=null;if(lastChildren!=null&&nextChildren==null){this.updateChildren(null,transaction,context);}else if(lastHasContentOrHtml&&!nextHasContentOrHtml){this.updateTextContent('');}
if(nextContent!=null){if(lastContent!==nextContent){this.updateTextContent(''+nextContent);}}else if(nextHtml!=null){if(lastHtml!==nextHtml){this.updateMarkup(''+nextHtml);}}else if(nextChildren!=null){this.updateChildren(nextChildren,transaction,context);}},unmountComponent:function(){switch(this._tag){case'iframe':case'img':case'form':case'video':case'audio':var listeners=this._wrapperState.listeners;if(listeners){for(var i=0;i<listeners.length;i++){listeners[i].remove();}}
break;case'input':ReactDOMInput.unmountWrapper(this);break;case'html':case'head':case'body':!false?"production"!=='production'?invariant(false,'<%s> tried to unmount. Because of cross-browser quirks it is '+'impossible to unmount some top-level components (eg <html>, '+'<head>, and <body>) reliably and efficiently. To fix this, have a '+'single top-level component that never unmounts render these '+'elements.',this._tag):invariant(false):undefined;break;}
this.unmountChildren();ReactBrowserEventEmitter.deleteAllListeners(this._rootNodeID);ReactComponentBrowserEnvironment.unmountIDFromEnvironment(this._rootNodeID);this._rootNodeID=null;this._wrapperState=null;if(this._nodeWithLegacyProperties){var node=this._nodeWithLegacyProperties;node._reactInternalComponent=null;this._nodeWithLegacyProperties=null;}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var node=ReactMount.getNode(this._rootNodeID);node._reactInternalComponent=this;node.getDOMNode=legacyGetDOMNode;node.isMounted=legacyIsMounted;node.setState=legacySetStateEtc;node.replaceState=legacySetStateEtc;node.forceUpdate=legacySetStateEtc;node.setProps=legacySetProps;node.replaceProps=legacyReplaceProps;if("production"!=='production'){if(canDefineProperty){Object.defineProperties(node,legacyPropsDescriptor);}else{node.props=this._currentElement.props;}}else{node.props=this._currentElement.props;}
this._nodeWithLegacyProperties=node;}
return this._nodeWithLegacyProperties;}};ReactPerf.measureMethods(ReactDOMComponent,'ReactDOMComponent',{mountComponent:'mountComponent',updateComponent:'updateComponent'});assign(ReactDOMComponent.prototype,ReactDOMComponent.Mixin,ReactMultiChild.Mixin);module.exports=ReactDOMComponent;},{"./AutoFocusUtils":81,"./CSSPropertyOperations":84,"./DOMProperty":89,"./DOMPropertyOperations":90,"./EventConstants":94,"./Object.assign":102,"./ReactBrowserEventEmitter":106,"./ReactComponentBrowserEnvironment":111,"./ReactDOMButton":116,"./ReactDOMInput":121,"./ReactDOMOption":122,"./ReactDOMSelect":123,"./ReactDOMTextarea":127,"./ReactMount":145,"./ReactMultiChild":146,"./ReactPerf":151,"./ReactUpdateQueue":162,"./canDefineProperty":184,"./escapeTextContentForBrowser":187,"./isEventSupported":199,"./setInnerHTML":204,"./setTextContent":205,"./validateDOMNesting":208,"fbjs/lib/invariant":224,"fbjs/lib/keyOf":228,"fbjs/lib/shallowEqual":233,"fbjs/lib/warning":235}],118:[function(require,module,exports){'use strict';var ReactElement=require('./ReactElement');var ReactElementValidator=require('./ReactElementValidator');var mapObject=require('fbjs/lib/mapObject');function createDOMFactory(tag){if("production"!=='production'){return ReactElementValidator.createFactory(tag);}
return ReactElement.createFactory(tag);}
var ReactDOMFactories=mapObject({a:'a',abbr:'abbr',address:'address',area:'area',article:'article',aside:'aside',audio:'audio',b:'b',base:'base',bdi:'bdi',bdo:'bdo',big:'big',blockquote:'blockquote',body:'body',br:'br',button:'button',canvas:'canvas',caption:'caption',cite:'cite',code:'code',col:'col',colgroup:'colgroup',data:'data',datalist:'datalist',dd:'dd',del:'del',details:'details',dfn:'dfn',dialog:'dialog',div:'div',dl:'dl',dt:'dt',em:'em',embed:'embed',fieldset:'fieldset',figcaption:'figcaption',figure:'figure',footer:'footer',form:'form',h1:'h1',h2:'h2',h3:'h3',h4:'h4',h5:'h5',h6:'h6',head:'head',header:'header',hgroup:'hgroup',hr:'hr',html:'html',i:'i',iframe:'iframe',img:'img',input:'input',ins:'ins',kbd:'kbd',keygen:'keygen',label:'label',legend:'legend',li:'li',link:'link',main:'main',map:'map',mark:'mark',menu:'menu',menuitem:'menuitem',meta:'meta',meter:'meter',nav:'nav',noscript:'noscript',object:'object',ol:'ol',optgroup:'optgroup',option:'option',output:'output',p:'p',param:'param',picture:'picture',pre:'pre',progress:'progress',q:'q',rp:'rp',rt:'rt',ruby:'ruby',s:'s',samp:'samp',script:'script',section:'section',select:'select',small:'small',source:'source',span:'span',strong:'strong',style:'style',sub:'sub',summary:'summary',sup:'sup',table:'table',tbody:'tbody',td:'td',textarea:'textarea',tfoot:'tfoot',th:'th',thead:'thead',time:'time',title:'title',tr:'tr',track:'track',u:'u',ul:'ul','var':'var',video:'video',wbr:'wbr',circle:'circle',clipPath:'clipPath',defs:'defs',ellipse:'ellipse',g:'g',image:'image',line:'line',linearGradient:'linearGradient',mask:'mask',path:'path',pattern:'pattern',polygon:'polygon',polyline:'polyline',radialGradient:'radialGradient',rect:'rect',stop:'stop',svg:'svg',text:'text',tspan:'tspan'},createDOMFactory);module.exports=ReactDOMFactories;},{"./ReactElement":132,"./ReactElementValidator":133,"fbjs/lib/mapObject":229}],119:[function(require,module,exports){'use strict';var ReactDOMFeatureFlags={useCreateElement:false};module.exports=ReactDOMFeatureFlags;},{}],120:[function(require,module,exports){'use strict';var DOMChildrenOperations=require('./DOMChildrenOperations');var DOMPropertyOperations=require('./DOMPropertyOperations');var ReactMount=require('./ReactMount');var ReactPerf=require('./ReactPerf');var invariant=require('fbjs/lib/invariant');var INVALID_PROPERTY_ERRORS={dangerouslySetInnerHTML:'`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.',style:'`style` must be set using `updateStylesByID()`.'};var ReactDOMIDOperations={updatePropertyByID:function(id,name,value){var node=ReactMount.getNode(id);!!INVALID_PROPERTY_ERRORS.hasOwnProperty(name)?"production"!=='production'?invariant(false,'updatePropertyByID(...): %s',INVALID_PROPERTY_ERRORS[name]):invariant(false):undefined;if(value!=null){DOMPropertyOperations.setValueForProperty(node,name,value);}else{DOMPropertyOperations.deleteValueForProperty(node,name);}},dangerouslyReplaceNodeWithMarkupByID:function(id,markup){var node=ReactMount.getNode(id);DOMChildrenOperations.dangerouslyReplaceNodeWithMarkup(node,markup);},dangerouslyProcessChildrenUpdates:function(updates,markup){for(var i=0;i<updates.length;i++){updates[i].parentNode=ReactMount.getNode(updates[i].parentID);}
DOMChildrenOperations.processUpdates(updates,markup);}};ReactPerf.measureMethods(ReactDOMIDOperations,'ReactDOMIDOperations',{dangerouslyReplaceNodeWithMarkupByID:'dangerouslyReplaceNodeWithMarkupByID',dangerouslyProcessChildrenUpdates:'dangerouslyProcessChildrenUpdates'});module.exports=ReactDOMIDOperations;},{"./DOMChildrenOperations":88,"./DOMPropertyOperations":90,"./ReactMount":145,"./ReactPerf":151,"fbjs/lib/invariant":224}],121:[function(require,module,exports){'use strict';var ReactDOMIDOperations=require('./ReactDOMIDOperations');var LinkedValueUtils=require('./LinkedValueUtils');var ReactMount=require('./ReactMount');var ReactUpdates=require('./ReactUpdates');var assign=require('./Object.assign');var invariant=require('fbjs/lib/invariant');var instancesByReactID={};function forceUpdateIfMounted(){if(this._rootNodeID){ReactDOMInput.updateWrapper(this);}}
var ReactDOMInput={getNativeProps:function(inst,props,context){var value=LinkedValueUtils.getValue(props);var checked=LinkedValueUtils.getChecked(props);var nativeProps=assign({},props,{defaultChecked:undefined,defaultValue:undefined,value:value!=null?value:inst._wrapperState.initialValue,checked:checked!=null?checked:inst._wrapperState.initialChecked,onChange:inst._wrapperState.onChange});return nativeProps;},mountWrapper:function(inst,props){if("production"!=='production'){LinkedValueUtils.checkPropTypes('input',props,inst._currentElement._owner);}
var defaultValue=props.defaultValue;inst._wrapperState={initialChecked:props.defaultChecked||false,initialValue:defaultValue!=null?defaultValue:null,onChange:_handleChange.bind(inst)};},mountReadyWrapper:function(inst){instancesByReactID[inst._rootNodeID]=inst;},unmountWrapper:function(inst){delete instancesByReactID[inst._rootNodeID];},updateWrapper:function(inst){var props=inst._currentElement.props;var checked=props.checked;if(checked!=null){ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,'checked',checked||false);}
var value=LinkedValueUtils.getValue(props);if(value!=null){ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,'value',''+value);}}};function _handleChange(event){var props=this._currentElement.props;var returnValue=LinkedValueUtils.executeOnChange(props,event);ReactUpdates.asap(forceUpdateIfMounted,this);var name=props.name;if(props.type==='radio'&&name!=null){var rootNode=ReactMount.getNode(this._rootNodeID);var queryRoot=rootNode;while(queryRoot.parentNode){queryRoot=queryRoot.parentNode;}
var group=queryRoot.querySelectorAll('input[name='+JSON.stringify(''+name)+'][type="radio"]');for(var i=0;i<group.length;i++){var otherNode=group[i];if(otherNode===rootNode||otherNode.form!==rootNode.form){continue;}
var otherID=ReactMount.getID(otherNode);!otherID?"production"!=='production'?invariant(false,'ReactDOMInput: Mixing React and non-React radio inputs with the '+'same `name` is not supported.'):invariant(false):undefined;var otherInstance=instancesByReactID[otherID];!otherInstance?"production"!=='production'?invariant(false,'ReactDOMInput: Unknown radio button ID %s.',otherID):invariant(false):undefined;ReactUpdates.asap(forceUpdateIfMounted,otherInstance);}}
return returnValue;}
module.exports=ReactDOMInput;},{"./LinkedValueUtils":101,"./Object.assign":102,"./ReactDOMIDOperations":120,"./ReactMount":145,"./ReactUpdates":163,"fbjs/lib/invariant":224}],122:[function(require,module,exports){'use strict';var ReactChildren=require('./ReactChildren');var ReactDOMSelect=require('./ReactDOMSelect');var assign=require('./Object.assign');var warning=require('fbjs/lib/warning');var valueContextKey=ReactDOMSelect.valueContextKey;var ReactDOMOption={mountWrapper:function(inst,props,context){if("production"!=='production'){"production"!=='production'?warning(props.selected==null,'Use the `defaultValue` or `value` props on <select> instead of '+'setting `selected` on <option>.'):undefined;}
var selectValue=context[valueContextKey];var selected=null;if(selectValue!=null){selected=false;if(Array.isArray(selectValue)){for(var i=0;i<selectValue.length;i++){if(''+selectValue[i]===''+props.value){selected=true;break;}}}else{selected=''+selectValue===''+props.value;}}
inst._wrapperState={selected:selected};},getNativeProps:function(inst,props,context){var nativeProps=assign({selected:undefined,children:undefined},props);if(inst._wrapperState.selected!=null){nativeProps.selected=inst._wrapperState.selected;}
var content='';ReactChildren.forEach(props.children,function(child){if(child==null){return;}
if(typeof child==='string'||typeof child==='number'){content+=child;}else{"production"!=='production'?warning(false,'Only strings and numbers are supported as <option> children.'):undefined;}});nativeProps.children=content;return nativeProps;}};module.exports=ReactDOMOption;},{"./Object.assign":102,"./ReactChildren":108,"./ReactDOMSelect":123,"fbjs/lib/warning":235}],123:[function(require,module,exports){'use strict';var LinkedValueUtils=require('./LinkedValueUtils');var ReactMount=require('./ReactMount');var ReactUpdates=require('./ReactUpdates');var assign=require('./Object.assign');var warning=require('fbjs/lib/warning');var valueContextKey='__ReactDOMSelect_value$'+Math.random().toString(36).slice(2);function updateOptionsIfPendingUpdateAndMounted(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=false;var props=this._currentElement.props;var value=LinkedValueUtils.getValue(props);if(value!=null){updateOptions(this,props,value);}}}
function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name){return' Check the render method of `'+name+'`.';}}
return'';}
var valuePropNames=['value','defaultValue'];function checkSelectPropTypes(inst,props){var owner=inst._currentElement._owner;LinkedValueUtils.checkPropTypes('select',props,owner);for(var i=0;i<valuePropNames.length;i++){var propName=valuePropNames[i];if(props[propName]==null){continue;}
if(props.multiple){"production"!=='production'?warning(Array.isArray(props[propName]),'The `%s` prop supplied to <select> must be an array if '+'`multiple` is true.%s',propName,getDeclarationErrorAddendum(owner)):undefined;}else{"production"!=='production'?warning(!Array.isArray(props[propName]),'The `%s` prop supplied to <select> must be a scalar '+'value if `multiple` is false.%s',propName,getDeclarationErrorAddendum(owner)):undefined;}}}
function updateOptions(inst,multiple,propValue){var selectedValue,i;var options=ReactMount.getNode(inst._rootNodeID).options;if(multiple){selectedValue={};for(i=0;i<propValue.length;i++){selectedValue[''+propValue[i]]=true;}
for(i=0;i<options.length;i++){var selected=selectedValue.hasOwnProperty(options[i].value);if(options[i].selected!==selected){options[i].selected=selected;}}}else{selectedValue=''+propValue;for(i=0;i<options.length;i++){if(options[i].value===selectedValue){options[i].selected=true;return;}}
if(options.length){options[0].selected=true;}}}
var ReactDOMSelect={valueContextKey:valueContextKey,getNativeProps:function(inst,props,context){return assign({},props,{onChange:inst._wrapperState.onChange,value:undefined});},mountWrapper:function(inst,props){if("production"!=='production'){checkSelectPropTypes(inst,props);}
var value=LinkedValueUtils.getValue(props);inst._wrapperState={pendingUpdate:false,initialValue:value!=null?value:props.defaultValue,onChange:_handleChange.bind(inst),wasMultiple:Boolean(props.multiple)};},processChildContext:function(inst,props,context){var childContext=assign({},context);childContext[valueContextKey]=inst._wrapperState.initialValue;return childContext;},postUpdateWrapper:function(inst){var props=inst._currentElement.props;inst._wrapperState.initialValue=undefined;var wasMultiple=inst._wrapperState.wasMultiple;inst._wrapperState.wasMultiple=Boolean(props.multiple);var value=LinkedValueUtils.getValue(props);if(value!=null){inst._wrapperState.pendingUpdate=false;updateOptions(inst,Boolean(props.multiple),value);}else if(wasMultiple!==Boolean(props.multiple)){if(props.defaultValue!=null){updateOptions(inst,Boolean(props.multiple),props.defaultValue);}else{updateOptions(inst,Boolean(props.multiple),props.multiple?[]:'');}}}};function _handleChange(event){var props=this._currentElement.props;var returnValue=LinkedValueUtils.executeOnChange(props,event);this._wrapperState.pendingUpdate=true;ReactUpdates.asap(updateOptionsIfPendingUpdateAndMounted,this);return returnValue;}
module.exports=ReactDOMSelect;},{"./LinkedValueUtils":101,"./Object.assign":102,"./ReactMount":145,"./ReactUpdates":163,"fbjs/lib/warning":235}],124:[function(require,module,exports){'use strict';var ExecutionEnvironment=require('fbjs/lib/ExecutionEnvironment');var getNodeForCharacterOffset=require('./getNodeForCharacterOffset');var getTextContentAccessor=require('./getTextContentAccessor');function isCollapsed(anchorNode,anchorOffset,focusNode,focusOffset){return anchorNode===focusNode&&anchorOffset===focusOffset;}
function getIEOffsets(node){var selection=document.selection;var selectedRange=selection.createRange();var selectedLength=selectedRange.text.length;var fromStart=selectedRange.duplicate();fromStart.moveToElementText(node);fromStart.setEndPoint('EndToStart',selectedRange);var startOffset=fromStart.text.length;var endOffset=startOffset+selectedLength;return{start:startOffset,end:endOffset};}
function getModernOffsets(node){var selection=window.getSelection&&window.getSelection();if(!selection||selection.rangeCount===0){return null;}
var anchorNode=selection.anchorNode;var anchorOffset=selection.anchorOffset;var focusNode=selection.focusNode;var focusOffset=selection.focusOffset;var currentRange=selection.getRangeAt(0);try{currentRange.startContainer.nodeType;currentRange.endContainer.nodeType;}catch(e){return null;}
var isSelectionCollapsed=isCollapsed(selection.anchorNode,selection.anchorOffset,selection.focusNode,selection.focusOffset);var rangeLength=isSelectionCollapsed?0:currentRange.toString().length;var tempRange=currentRange.cloneRange();tempRange.selectNodeContents(node);tempRange.setEnd(currentRange.startContainer,currentRange.startOffset);var isTempRangeCollapsed=isCollapsed(tempRange.startContainer,tempRange.startOffset,tempRange.endContainer,tempRange.endOffset);var start=isTempRangeCollapsed?0:tempRange.toString().length;var end=start+rangeLength;var detectionRange=document.createRange();detectionRange.setStart(anchorNode,anchorOffset);detectionRange.setEnd(focusNode,focusOffset);var isBackward=detectionRange.collapsed;return{start:isBackward?end:start,end:isBackward?start:end};}
function setIEOffsets(node,offsets){var range=document.selection.createRange().duplicate();var start,end;if(typeof offsets.end==='undefined'){start=offsets.start;end=start;}else if(offsets.start>offsets.end){start=offsets.end;end=offsets.start;}else{start=offsets.start;end=offsets.end;}
range.moveToElementText(node);range.moveStart('character',start);range.setEndPoint('EndToStart',range);range.moveEnd('character',end-start);range.select();}
function setModernOffsets(node,offsets){if(!window.getSelection){return;}
var selection=window.getSelection();var length=node[getTextContentAccessor()].length;var start=Math.min(offsets.start,length);var end=typeof offsets.end==='undefined'?start:Math.min(offsets.end,length);if(!selection.extend&&start>end){var temp=end;end=start;start=temp;}
var startMarker=getNodeForCharacterOffset(node,start);var endMarker=getNodeForCharacterOffset(node,end);if(startMarker&&endMarker){var range=document.createRange();range.setStart(startMarker.node,startMarker.offset);selection.removeAllRanges();if(start>end){selection.addRange(range);selection.extend(endMarker.node,endMarker.offset);}else{range.setEnd(endMarker.node,endMarker.offset);selection.addRange(range);}}}
var useIEOffsets=ExecutionEnvironment.canUseDOM&&'selection'in document&&!('getSelection'in window);var ReactDOMSelection={getOffsets:useIEOffsets?getIEOffsets:getModernOffsets,setOffsets:useIEOffsets?setIEOffsets:setModernOffsets};module.exports=ReactDOMSelection;},{"./getNodeForCharacterOffset":196,"./getTextContentAccessor":197,"fbjs/lib/ExecutionEnvironment":210}],125:[function(require,module,exports){'use strict';var ReactDefaultInjection=require('./ReactDefaultInjection');var ReactServerRendering=require('./ReactServerRendering');var ReactVersion=require('./ReactVersion');ReactDefaultInjection.inject();var ReactDOMServer={renderToString:ReactServerRendering.renderToString,renderToStaticMarkup:ReactServerRendering.renderToStaticMarkup,version:ReactVersion};module.exports=ReactDOMServer;},{"./ReactDefaultInjection":129,"./ReactServerRendering":160,"./ReactVersion":164}],126:[function(require,module,exports){'use strict';var DOMChildrenOperations=require('./DOMChildrenOperations');var DOMPropertyOperations=require('./DOMPropertyOperations');var ReactComponentBrowserEnvironment=require('./ReactComponentBrowserEnvironment');var ReactMount=require('./ReactMount');var assign=require('./Object.assign');var escapeTextContentForBrowser=require('./escapeTextContentForBrowser');var setTextContent=require('./setTextContent');var validateDOMNesting=require('./validateDOMNesting');var ReactDOMTextComponent=function(props){};assign(ReactDOMTextComponent.prototype,{construct:function(text){this._currentElement=text;this._stringText=''+text;this._rootNodeID=null;this._mountIndex=0;},mountComponent:function(rootID,transaction,context){if("production"!=='production'){if(context[validateDOMNesting.ancestorInfoContextKey]){validateDOMNesting('span',null,context[validateDOMNesting.ancestorInfoContextKey]);}}
this._rootNodeID=rootID;if(transaction.useCreateElement){var ownerDocument=context[ReactMount.ownerDocumentContextKey];var el=ownerDocument.createElement('span');DOMPropertyOperations.setAttributeForID(el,rootID);ReactMount.getID(el);setTextContent(el,this._stringText);return el;}else{var escapedText=escapeTextContentForBrowser(this._stringText);if(transaction.renderToStaticMarkup){return escapedText;}
return'<span '+DOMPropertyOperations.createMarkupForID(rootID)+'>'+escapedText+'</span>';}},receiveComponent:function(nextText,transaction){if(nextText!==this._currentElement){this._currentElement=nextText;var nextStringText=''+nextText;if(nextStringText!==this._stringText){this._stringText=nextStringText;var node=ReactMount.getNode(this._rootNodeID);DOMChildrenOperations.updateTextContent(node,nextStringText);}}},unmountComponent:function(){ReactComponentBrowserEnvironment.unmountIDFromEnvironment(this._rootNodeID);}});module.exports=ReactDOMTextComponent;},{"./DOMChildrenOperations":88,"./DOMPropertyOperations":90,"./Object.assign":102,"./ReactComponentBrowserEnvironment":111,"./ReactMount":145,"./escapeTextContentForBrowser":187,"./setTextContent":205,"./validateDOMNesting":208}],127:[function(require,module,exports){'use strict';var LinkedValueUtils=require('./LinkedValueUtils');var ReactDOMIDOperations=require('./ReactDOMIDOperations');var ReactUpdates=require('./ReactUpdates');var assign=require('./Object.assign');var invariant=require('fbjs/lib/invariant');var warning=require('fbjs/lib/warning');function forceUpdateIfMounted(){if(this._rootNodeID){ReactDOMTextarea.updateWrapper(this);}}
var ReactDOMTextarea={getNativeProps:function(inst,props,context){!(props.dangerouslySetInnerHTML==null)?"production"!=='production'?invariant(false,'`dangerouslySetInnerHTML` does not make sense on <textarea>.'):invariant(false):undefined;var nativeProps=assign({},props,{defaultValue:undefined,value:undefined,children:inst._wrapperState.initialValue,onChange:inst._wrapperState.onChange});return nativeProps;},mountWrapper:function(inst,props){if("production"!=='production'){LinkedValueUtils.checkPropTypes('textarea',props,inst._currentElement._owner);}
var defaultValue=props.defaultValue;var children=props.children;if(children!=null){if("production"!=='production'){"production"!=='production'?warning(false,'Use the `defaultValue` or `value` props instead of setting '+'children on <textarea>.'):undefined;}
!(defaultValue==null)?"production"!=='production'?invariant(false,'If you supply `defaultValue` on a <textarea>, do not pass children.'):invariant(false):undefined;if(Array.isArray(children)){!(children.length<=1)?"production"!=='production'?invariant(false,'<textarea> can only have at most one child.'):invariant(false):undefined;children=children[0];}
defaultValue=''+children;}
if(defaultValue==null){defaultValue='';}
var value=LinkedValueUtils.getValue(props);inst._wrapperState={initialValue:''+(value!=null?value:defaultValue),onChange:_handleChange.bind(inst)};},updateWrapper:function(inst){var props=inst._currentElement.props;var value=LinkedValueUtils.getValue(props);if(value!=null){ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,'value',''+value);}}};function _handleChange(event){var props=this._currentElement.props;var returnValue=LinkedValueUtils.executeOnChange(props,event);ReactUpdates.asap(forceUpdateIfMounted,this);return returnValue;}
module.exports=ReactDOMTextarea;},{"./LinkedValueUtils":101,"./Object.assign":102,"./ReactDOMIDOperations":120,"./ReactUpdates":163,"fbjs/lib/invariant":224,"fbjs/lib/warning":235}],128:[function(require,module,exports){'use strict';var ReactUpdates=require('./ReactUpdates');var Transaction=require('./Transaction');var assign=require('./Object.assign');var emptyFunction=require('fbjs/lib/emptyFunction');var RESET_BATCHED_UPDATES={initialize:emptyFunction,close:function(){ReactDefaultBatchingStrategy.isBatchingUpdates=false;}};var FLUSH_BATCHED_UPDATES={initialize:emptyFunction,close:ReactUpdates.flushBatchedUpdates.bind(ReactUpdates)};var TRANSACTION_WRAPPERS=[FLUSH_BATCHED_UPDATES,RESET_BATCHED_UPDATES];function ReactDefaultBatchingStrategyTransaction(){this.reinitializeTransaction();}
assign(ReactDefaultBatchingStrategyTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS;}});var transaction=new ReactDefaultBatchingStrategyTransaction();var ReactDefaultBatchingStrategy={isBatchingUpdates:false,batchedUpdates:function(callback,a,b,c,d,e){var alreadyBatchingUpdates=ReactDefaultBatchingStrategy.isBatchingUpdates;ReactDefaultBatchingStrategy.isBatchingUpdates=true;if(alreadyBatchingUpdates){callback(a,b,c,d,e);}else{transaction.perform(callback,null,a,b,c,d,e);}}};module.exports=ReactDefaultBatchingStrategy;},{"./Object.assign":102,"./ReactUpdates":163,"./Transaction":180,"fbjs/lib/emptyFunction":216}],129:[function(require,module,exports){'use strict';var BeforeInputEventPlugin=require('./BeforeInputEventPlugin');var ChangeEventPlugin=require('./ChangeEventPlugin');var ClientReactRootIndex=require('./ClientReactRootIndex');var DefaultEventPluginOrder=require('./DefaultEventPluginOrder');var EnterLeaveEventPlugin=require('./EnterLeaveEventPlugin');var ExecutionEnvironment=require('fbjs/lib/ExecutionEnvironment');var HTMLDOMPropertyConfig=require('./HTMLDOMPropertyConfig');var ReactBrowserComponentMixin=require('./ReactBrowserComponentMixin');var ReactComponentBrowserEnvironment=require('./ReactComponentBrowserEnvironment');var ReactDefaultBatchingStrategy=require('./ReactDefaultBatchingStrategy');var ReactDOMComponent=require('./ReactDOMComponent');var ReactDOMTextComponent=require('./ReactDOMTextComponent');var ReactEventListener=require('./ReactEventListener');var ReactInjection=require('./ReactInjection');var ReactInstanceHandles=require('./ReactInstanceHandles');var ReactMount=require('./ReactMount');var ReactReconcileTransaction=require('./ReactReconcileTransaction');var SelectEventPlugin=require('./SelectEventPlugin');var ServerReactRootIndex=require('./ServerReactRootIndex');var SimpleEventPlugin=require('./SimpleEventPlugin');var SVGDOMPropertyConfig=require('./SVGDOMPropertyConfig');var alreadyInjected=false;function inject(){if(alreadyInjected){return;}
alreadyInjected=true;ReactInjection.EventEmitter.injectReactEventListener(ReactEventListener);ReactInjection.EventPluginHub.injectEventPluginOrder(DefaultEventPluginOrder);ReactInjection.EventPluginHub.injectInstanceHandle(ReactInstanceHandles);ReactInjection.EventPluginHub.injectMount(ReactMount);ReactInjection.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:SimpleEventPlugin,EnterLeaveEventPlugin:EnterLeaveEventPlugin,ChangeEventPlugin:ChangeEventPlugin,SelectEventPlugin:SelectEventPlugin,BeforeInputEventPlugin:BeforeInputEventPlugin});ReactInjection.NativeComponent.injectGenericComponentClass(ReactDOMComponent);ReactInjection.NativeComponent.injectTextComponentClass(ReactDOMTextComponent);ReactInjection.Class.injectMixin(ReactBrowserComponentMixin);ReactInjection.DOMProperty.injectDOMPropertyConfig(HTMLDOMPropertyConfig);ReactInjection.DOMProperty.injectDOMPropertyConfig(SVGDOMPropertyConfig);ReactInjection.EmptyComponent.injectEmptyComponent('noscript');ReactInjection.Updates.injectReconcileTransaction(ReactReconcileTransaction);ReactInjection.Updates.injectBatchingStrategy(ReactDefaultBatchingStrategy);ReactInjection.RootIndex.injectCreateReactRootIndex(ExecutionEnvironment.canUseDOM?ClientReactRootIndex.createReactRootIndex:ServerReactRootIndex.createReactRootIndex);ReactInjection.Component.injectEnvironment(ReactComponentBrowserEnvironment);if("production"!=='production'){var url=ExecutionEnvironment.canUseDOM&&window.location.href||'';if(/[?&]react_perf\b/.test(url)){var ReactDefaultPerf=require('./ReactDefaultPerf');ReactDefaultPerf.start();}}}
module.exports={inject:inject};},{"./BeforeInputEventPlugin":82,"./ChangeEventPlugin":86,"./ClientReactRootIndex":87,"./DefaultEventPluginOrder":92,"./EnterLeaveEventPlugin":93,"./HTMLDOMPropertyConfig":100,"./ReactBrowserComponentMixin":105,"./ReactComponentBrowserEnvironment":111,"./ReactDOMComponent":117,"./ReactDOMTextComponent":126,"./ReactDefaultBatchingStrategy":128,"./ReactDefaultPerf":130,"./ReactEventListener":138,"./ReactInjection":139,"./ReactInstanceHandles":141,"./ReactMount":145,"./ReactReconcileTransaction":155,"./SVGDOMPropertyConfig":165,"./SelectEventPlugin":166,"./ServerReactRootIndex":167,"./SimpleEventPlugin":168,"fbjs/lib/ExecutionEnvironment":210}],130:[function(require,module,exports){'use strict';var DOMProperty=require('./DOMProperty');var ReactDefaultPerfAnalysis=require('./ReactDefaultPerfAnalysis');var ReactMount=require('./ReactMount');var ReactPerf=require('./ReactPerf');var performanceNow=require('fbjs/lib/performanceNow');function roundFloat(val){return Math.floor(val*100)/100;}
function addValue(obj,key,val){obj[key]=(obj[key]||0)+val;}
var ReactDefaultPerf={_allMeasurements:[],_mountStack:[0],_injected:false,start:function(){if(!ReactDefaultPerf._injected){ReactPerf.injection.injectMeasure(ReactDefaultPerf.measure);}
ReactDefaultPerf._allMeasurements.length=0;ReactPerf.enableMeasure=true;},stop:function(){ReactPerf.enableMeasure=false;},getLastMeasurements:function(){return ReactDefaultPerf._allMeasurements;},printExclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getExclusiveSummary(measurements);console.table(summary.map(function(item){return{'Component class name':item.componentName,'Total inclusive time (ms)':roundFloat(item.inclusive),'Exclusive mount time (ms)':roundFloat(item.exclusive),'Exclusive render time (ms)':roundFloat(item.render),'Mount time per instance (ms)':roundFloat(item.exclusive/item.count),'Render time per instance (ms)':roundFloat(item.render/item.count),'Instances':item.count};}));},printInclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements);console.table(summary.map(function(item){return{'Owner > component':item.componentName,'Inclusive time (ms)':roundFloat(item.time),'Instances':item.count};}));console.log('Total time:',ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+' ms');},getMeasurementsSummaryMap:function(measurements){var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements,true);return summary.map(function(item){return{'Owner > component':item.componentName,'Wasted time (ms)':item.time,'Instances':item.count};});},printWasted:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;console.table(ReactDefaultPerf.getMeasurementsSummaryMap(measurements));console.log('Total time:',ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+' ms');},printDOM:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getDOMSummary(measurements);console.table(summary.map(function(item){var result={};result[DOMProperty.ID_ATTRIBUTE_NAME]=item.id;result.type=item.type;result.args=JSON.stringify(item.args);return result;}));console.log('Total time:',ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+' ms');},_recordWrite:function(id,fnName,totalTime,args){var writes=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].writes;writes[id]=writes[id]||[];writes[id].push({type:fnName,time:totalTime,args:args});},measure:function(moduleName,fnName,func){return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}
var totalTime;var rv;var start;if(fnName==='_renderNewRootComponent'||fnName==='flushBatchedUpdates'){ReactDefaultPerf._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}});start=performanceNow();rv=func.apply(this,args);ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].totalTime=performanceNow()-start;return rv;}else if(fnName==='_mountImageIntoNode'||moduleName==='ReactBrowserEventEmitter'||moduleName==='ReactDOMIDOperations'||moduleName==='CSSPropertyOperations'||moduleName==='DOMChildrenOperations'||moduleName==='DOMPropertyOperations'){start=performanceNow();rv=func.apply(this,args);totalTime=performanceNow()-start;if(fnName==='_mountImageIntoNode'){var mountID=ReactMount.getID(args[1]);ReactDefaultPerf._recordWrite(mountID,fnName,totalTime,args[0]);}else if(fnName==='dangerouslyProcessChildrenUpdates'){args[0].forEach(function(update){var writeArgs={};if(update.fromIndex!==null){writeArgs.fromIndex=update.fromIndex;}
if(update.toIndex!==null){writeArgs.toIndex=update.toIndex;}
if(update.textContent!==null){writeArgs.textContent=update.textContent;}
if(update.markupIndex!==null){writeArgs.markup=args[1][update.markupIndex];}
ReactDefaultPerf._recordWrite(update.parentID,update.type,totalTime,writeArgs);});}else{var id=args[0];if(typeof id==='object'){id=ReactMount.getID(args[0]);}
ReactDefaultPerf._recordWrite(id,fnName,totalTime,Array.prototype.slice.call(args,1));}
return rv;}else if(moduleName==='ReactCompositeComponent'&&(fnName==='mountComponent'||fnName==='updateComponent'||fnName==='_renderValidatedComponent')){if(this._currentElement.type===ReactMount.TopLevelWrapper){return func.apply(this,args);}
var rootNodeID=fnName==='mountComponent'?args[0]:this._rootNodeID;var isRender=fnName==='_renderValidatedComponent';var isMount=fnName==='mountComponent';var mountStack=ReactDefaultPerf._mountStack;var entry=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1];if(isRender){addValue(entry.counts,rootNodeID,1);}else if(isMount){entry.created[rootNodeID]=true;mountStack.push(0);}
start=performanceNow();rv=func.apply(this,args);totalTime=performanceNow()-start;if(isRender){addValue(entry.render,rootNodeID,totalTime);}else if(isMount){var subMountTime=mountStack.pop();mountStack[mountStack.length-1]+=totalTime;addValue(entry.exclusive,rootNodeID,totalTime-subMountTime);addValue(entry.inclusive,rootNodeID,totalTime);}else{addValue(entry.inclusive,rootNodeID,totalTime);}
entry.displayNames[rootNodeID]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():'<root>'};return rv;}else{return func.apply(this,args);}};}};module.exports=ReactDefaultPerf;},{"./DOMProperty":89,"./ReactDefaultPerfAnalysis":131,"./ReactMount":145,"./ReactPerf":151,"fbjs/lib/performanceNow":232}],131:[function(require,module,exports){'use strict';var assign=require('./Object.assign');var DONT_CARE_THRESHOLD=1.2;var DOM_OPERATION_TYPES={'_mountImageIntoNode':'set innerHTML',INSERT_MARKUP:'set innerHTML',MOVE_EXISTING:'move',REMOVE_NODE:'remove',SET_MARKUP:'set innerHTML',TEXT_CONTENT:'set textContent','setValueForProperty':'update attribute','setValueForAttribute':'update attribute','deleteValueForProperty':'remove attribute','dangerouslyReplaceNodeWithMarkupByID':'replace'};function getTotalTime(measurements){var totalTime=0;for(var i=0;i<measurements.length;i++){var measurement=measurements[i];totalTime+=measurement.totalTime;}
return totalTime;}
function getDOMSummary(measurements){var items=[];measurements.forEach(function(measurement){Object.keys(measurement.writes).forEach(function(id){measurement.writes[id].forEach(function(write){items.push({id:id,type:DOM_OPERATION_TYPES[write.type]||write.type,args:write.args});});});});return items;}
function getExclusiveSummary(measurements){var candidates={};var displayName;for(var i=0;i<measurements.length;i++){var measurement=measurements[i];var allIDs=assign({},measurement.exclusive,measurement.inclusive);for(var id in allIDs){displayName=measurement.displayNames[id].current;candidates[displayName]=candidates[displayName]||{componentName:displayName,inclusive:0,exclusive:0,render:0,count:0};if(measurement.render[id]){candidates[displayName].render+=measurement.render[id];}
if(measurement.exclusive[id]){candidates[displayName].exclusive+=measurement.exclusive[id];}
if(measurement.inclusive[id]){candidates[displayName].inclusive+=measurement.inclusive[id];}
if(measurement.counts[id]){candidates[displayName].count+=measurement.counts[id];}}}
var arr=[];for(displayName in candidates){if(candidates[displayName].exclusive>=DONT_CARE_THRESHOLD){arr.push(candidates[displayName]);}}
arr.sort(function(a,b){return b.exclusive-a.exclusive;});return arr;}
function getInclusiveSummary(measurements,onlyClean){var candidates={};var inclusiveKey;for(var i=0;i<measurements.length;i++){var measurement=measurements[i];var allIDs=assign({},measurement.exclusive,measurement.inclusive);var cleanComponents;if(onlyClean){cleanComponents=getUnchangedComponents(measurement);}
for(var id in allIDs){if(onlyClean&&!cleanComponents[id]){continue;}
var displayName=measurement.displayNames[id];inclusiveKey=displayName.owner+' > '+displayName.current;candidates[inclusiveKey]=candidates[inclusiveKey]||{componentName:inclusiveKey,time:0,count:0};if(measurement.inclusive[id]){candidates[inclusiveKey].time+=measurement.inclusive[id];}
if(measurement.counts[id]){candidates[inclusiveKey].count+=measurement.counts[id];}}}
var arr=[];for(inclusiveKey in candidates){if(candidates[inclusiveKey].time>=DONT_CARE_THRESHOLD){arr.push(candidates[inclusiveKey]);}}
arr.sort(function(a,b){return b.time-a.time;});return arr;}
function getUnchangedComponents(measurement){var cleanComponents={};var dirtyLeafIDs=Object.keys(measurement.writes);var allIDs=assign({},measurement.exclusive,measurement.inclusive);for(var id in allIDs){var isDirty=false;for(var i=0;i<dirtyLeafIDs.length;i++){if(dirtyLeafIDs[i].indexOf(id)===0){isDirty=true;break;}}
if(measurement.created[id]){isDirty=true;}
if(!isDirty&&measurement.counts[id]>0){cleanComponents[id]=true;}}
return cleanComponents;}
var ReactDefaultPerfAnalysis={getExclusiveSummary:getExclusiveSummary,getInclusiveSummary:getInclusiveSummary,getDOMSummary:getDOMSummary,getTotalTime:getTotalTime};module.exports=ReactDefaultPerfAnalysis;},{"./Object.assign":102}],132:[function(require,module,exports){'use strict';var ReactCurrentOwner=require('./ReactCurrentOwner');var assign=require('./Object.assign');var canDefineProperty=require('./canDefineProperty');var REACT_ELEMENT_TYPE=typeof Symbol==='function'&&Symbol['for']&&Symbol['for']('react.element')||0xeac7;var RESERVED_PROPS={key:true,ref:true,__self:true,__source:true};var ReactElement=function(type,key,ref,self,source,owner,props){var element={$$typeof:REACT_ELEMENT_TYPE,type:type,key:key,ref:ref,props:props,_owner:owner};if("production"!=='production'){element._store={};if(canDefineProperty){Object.defineProperty(element._store,'validated',{configurable:false,enumerable:false,writable:true,value:false});Object.defineProperty(element,'_self',{configurable:false,enumerable:false,writable:false,value:self});Object.defineProperty(element,'_source',{configurable:false,enumerable:false,writable:false,value:source});}else{element._store.validated=false;element._self=self;element._source=source;}
Object.freeze(element.props);Object.freeze(element);}
return element;};ReactElement.createElement=function(type,config,children){var propName;var props={};var key=null;var ref=null;var self=null;var source=null;if(config!=null){ref=config.ref===undefined?null:config.ref;key=config.key===undefined?null:''+config.key;self=config.__self===undefined?null:config.__self;source=config.__source===undefined?null:config.__source;for(propName in config){if(config.hasOwnProperty(propName)&&!RESERVED_PROPS.hasOwnProperty(propName)){props[propName]=config[propName];}}}
var childrenLength=arguments.length-2;if(childrenLength===1){props.children=children;}else if(childrenLength>1){var childArray=Array(childrenLength);for(var i=0;i<childrenLength;i++){childArray[i]=arguments[i+2];}
props.children=childArray;}
if(type&&type.defaultProps){var defaultProps=type.defaultProps;for(propName in defaultProps){if(typeof props[propName]==='undefined'){props[propName]=defaultProps[propName];}}}
return ReactElement(type,key,ref,self,source,ReactCurrentOwner.current,props);};ReactElement.createFactory=function(type){var factory=ReactElement.createElement.bind(null,type);factory.type=type;return factory;};ReactElement.cloneAndReplaceKey=function(oldElement,newKey){var newElement=ReactElement(oldElement.type,newKey,oldElement.ref,oldElement._self,oldElement._source,oldElement._owner,oldElement.props);return newElement;};ReactElement.cloneAndReplaceProps=function(oldElement,newProps){var newElement=ReactElement(oldElement.type,oldElement.key,oldElement.ref,oldElement._self,oldElement._source,oldElement._owner,newProps);if("production"!=='production'){newElement._store.validated=oldElement._store.validated;}
return newElement;};ReactElement.cloneElement=function(element,config,children){var propName;var props=assign({},element.props);var key=element.key;var ref=element.ref;var self=element._self;var source=element._source;var owner=element._owner;if(config!=null){if(config.ref!==undefined){ref=config.ref;owner=ReactCurrentOwner.current;}
if(config.key!==undefined){key=''+config.key;}
for(propName in config){if(config.hasOwnProperty(propName)&&!RESERVED_PROPS.hasOwnProperty(propName)){props[propName]=config[propName];}}}
var childrenLength=arguments.length-2;if(childrenLength===1){props.children=children;}else if(childrenLength>1){var childArray=Array(childrenLength);for(var i=0;i<childrenLength;i++){childArray[i]=arguments[i+2];}
props.children=childArray;}
return ReactElement(element.type,key,ref,self,source,owner,props);};ReactElement.isValidElement=function(object){return typeof object==='object'&&object!==null&&object.$$typeof===REACT_ELEMENT_TYPE;};module.exports=ReactElement;},{"./Object.assign":102,"./ReactCurrentOwner":114,"./canDefineProperty":184}],133:[function(require,module,exports){'use strict';var ReactElement=require('./ReactElement');var ReactPropTypeLocations=require('./ReactPropTypeLocations');var ReactPropTypeLocationNames=require('./ReactPropTypeLocationNames');var ReactCurrentOwner=require('./ReactCurrentOwner');var canDefineProperty=require('./canDefineProperty');var getIteratorFn=require('./getIteratorFn');var invariant=require('fbjs/lib/invariant');var warning=require('fbjs/lib/warning');function getDeclarationErrorAddendum(){if(ReactCurrentOwner.current){var name=ReactCurrentOwner.current.getName();if(name){return' Check the render method of `'+name+'`.';}}
return'';}
var ownerHasKeyUseWarning={};var loggedTypeFailures={};function validateExplicitKey(element,parentType){if(!element._store||element._store.validated||element.key!=null){return;}
element._store.validated=true;var addenda=getAddendaForKeyUse('uniqueKey',element,parentType);if(addenda===null){return;}"production"!=='production'?warning(false,'Each child in an array or iterator should have a unique "key" prop.'+'%s%s%s',addenda.parentOrOwner||'',addenda.childOwner||'',addenda.url||''):undefined;}
function getAddendaForKeyUse(messageType,element,parentType){var addendum=getDeclarationErrorAddendum();if(!addendum){var parentName=typeof parentType==='string'?parentType:parentType.displayName||parentType.name;if(parentName){addendum=' Check the top-level render call using <'+parentName+'>.';}}
var memoizer=ownerHasKeyUseWarning[messageType]||(ownerHasKeyUseWarning[messageType]={});if(memoizer[addendum]){return null;}
memoizer[addendum]=true;var addenda={parentOrOwner:addendum,url:' See https://fb.me/react-warning-keys for more information.',childOwner:null};if(element&&element._owner&&element._owner!==ReactCurrentOwner.current){addenda.childOwner=' It was passed a child from '+element._owner.getName()+'.';}
return addenda;}
function validateChildKeys(node,parentType){if(typeof node!=='object'){return;}
if(Array.isArray(node)){for(var i=0;i<node.length;i++){var child=node[i];if(ReactElement.isValidElement(child)){validateExplicitKey(child,parentType);}}}else if(ReactElement.isValidElement(node)){if(node._store){node._store.validated=true;}}else if(node){var iteratorFn=getIteratorFn(node);if(iteratorFn){if(iteratorFn!==node.entries){var iterator=iteratorFn.call(node);var step;while(!(step=iterator.next()).done){if(ReactElement.isValidElement(step.value)){validateExplicitKey(step.value,parentType);}}}}}}
function checkPropTypes(componentName,propTypes,props,location){for(var propName in propTypes){if(propTypes.hasOwnProperty(propName)){var error;try{!(typeof propTypes[propName]==='function')?"production"!=='production'?invariant(false,'%s: %s type `%s` is invalid; it must be a function, usually from '+'React.PropTypes.',componentName||'React class',ReactPropTypeLocationNames[location],propName):invariant(false):undefined;error=propTypes[propName](props,propName,componentName,location);}catch(ex){error=ex;}"production"!=='production'?warning(!error||error instanceof Error,'%s: type specification of %s `%s` is invalid; the type checker '+'function must return `null` or an `Error` but returned a %s. '+'You may have forgotten to pass an argument to the type checker '+'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and '+'shape all require an argument).',componentName||'React class',ReactPropTypeLocationNames[location],propName,typeof error):undefined;if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=true;var addendum=getDeclarationErrorAddendum();"production"!=='production'?warning(false,'Failed propType: %s%s',error.message,addendum):undefined;}}}}
function validatePropTypes(element){var componentClass=element.type;if(typeof componentClass!=='function'){return;}
var name=componentClass.displayName||componentClass.name;if(componentClass.propTypes){checkPropTypes(name,componentClass.propTypes,element.props,ReactPropTypeLocations.prop);}
if(typeof componentClass.getDefaultProps==='function'){"production"!=='production'?warning(componentClass.getDefaultProps.isReactClassApproved,'getDefaultProps is only used on classic React.createClass '+'definitions. Use a static property named `defaultProps` instead.'):undefined;}}
var ReactElementValidator={createElement:function(type,props,children){var validType=typeof type==='string'||typeof type==='function';"production"!=='production'?warning(validType,'React.createElement: type should not be null, undefined, boolean, or '+'number. It should be a string (for DOM elements) or a ReactClass '+'(for composite components).%s',getDeclarationErrorAddendum()):undefined;var element=ReactElement.createElement.apply(this,arguments);if(element==null){return element;}
if(validType){for(var i=2;i<arguments.length;i++){validateChildKeys(arguments[i],type);}}
validatePropTypes(element);return element;},createFactory:function(type){var validatedFactory=ReactElementValidator.createElement.bind(null,type);validatedFactory.type=type;if("production"!=='production'){if(canDefineProperty){Object.defineProperty(validatedFactory,'type',{enumerable:false,get:function(){"production"!=='production'?warning(false,'Factory.type is deprecated. Access the class directly '+'before passing it to createFactory.'):undefined;Object.defineProperty(this,'type',{value:type});return type;}});}}
return validatedFactory;},cloneElement:function(element,props,children){var newElement=ReactElement.cloneElement.apply(this,arguments);for(var i=2;i<arguments.length;i++){validateChildKeys(arguments[i],newElement.type);}
validatePropTypes(newElement);return newElement;}};module.exports=ReactElementValidator;},{"./ReactCurrentOwner":114,"./ReactElement":132,"./ReactPropTypeLocationNames":152,"./ReactPropTypeLocations":153,"./canDefineProperty":184,"./getIteratorFn":195,"fbjs/lib/invariant":224,"fbjs/lib/warning":235}],134:[function(require,module,exports){'use strict';var ReactElement=require('./ReactElement');var ReactEmptyComponentRegistry=require('./ReactEmptyComponentRegistry');var ReactReconciler=require('./ReactReconciler');var assign=require('./Object.assign');var placeholderElement;var ReactEmptyComponentInjection={injectEmptyComponent:function(component){placeholderElement=ReactElement.createElement(component);}};var ReactEmptyComponent=function(instantiate){this._currentElement=null;this._rootNodeID=null;this._renderedComponent=instantiate(placeholderElement);};assign(ReactEmptyComponent.prototype,{construct:function(element){},mountComponent:function(rootID,transaction,context){ReactEmptyComponentRegistry.registerNullComponentID(rootID);this._rootNodeID=rootID;return ReactReconciler.mountComponent(this._renderedComponent,rootID,transaction,context);},receiveComponent:function(){},unmountComponent:function(rootID,transaction,context){ReactReconciler.unmountComponent(this._renderedComponent);ReactEmptyComponentRegistry.deregisterNullComponentID(this._rootNodeID);this._rootNodeID=null;this._renderedComponent=null;}});ReactEmptyComponent.injection=ReactEmptyComponentInjection;module.exports=ReactEmptyComponent;},{"./Object.assign":102,"./ReactElement":132,"./ReactEmptyComponentRegistry":135,"./ReactReconciler":156}],135:[function(require,module,exports){'use strict';var nullComponentIDsRegistry={};function isNullComponentID(id){return!!nullComponentIDsRegistry[id];}
function registerNullComponentID(id){nullComponentIDsRegistry[id]=true;}
function deregisterNullComponentID(id){delete nullComponentIDsRegistry[id];}
var ReactEmptyComponentRegistry={isNullComponentID:isNullComponentID,registerNullComponentID:registerNullComponentID,deregisterNullComponentID:deregisterNullComponentID};module.exports=ReactEmptyComponentRegistry;},{}],136:[function(require,module,exports){'use strict';var caughtError=null;function invokeGuardedCallback(name,func,a,b){try{return func(a,b);}catch(x){if(caughtError===null){caughtError=x;}
return undefined;}}
var ReactErrorUtils={invokeGuardedCallback:invokeGuardedCallback,invokeGuardedCallbackWithCatch:invokeGuardedCallback,rethrowCaughtError:function(){if(caughtError){var error=caughtError;caughtError=null;throw error;}}};if("production"!=='production'){if(typeof window!=='undefined'&&typeof window.dispatchEvent==='function'&&typeof document!=='undefined'&&typeof document.createEvent==='function'){var fakeNode=document.createElement('react');ReactErrorUtils.invokeGuardedCallback=function(name,func,a,b){var boundFunc=func.bind(null,a,b);var evtType='react-'+name;fakeNode.addEventListener(evtType,boundFunc,false);var evt=document.createEvent('Event');evt.initEvent(evtType,false,false);fakeNode.dispatchEvent(evt);fakeNode.removeEventListener(evtType,boundFunc,false);};}}
module.exports=ReactErrorUtils;},{}],137:[function(require,module,exports){'use strict';var EventPluginHub=require('./EventPluginHub');function runEventQueueInBatch(events){EventPluginHub.enqueueEvents(events);EventPluginHub.processEventQueue(false);}
var ReactEventEmitterMixin={handleTopLevel:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var events=EventPluginHub.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget);runEventQueueInBatch(events);}};module.exports=ReactEventEmitterMixin;},{"./EventPluginHub":95}],138:[function(require,module,exports){'use strict';var EventListener=require('fbjs/lib/EventListener');var ExecutionEnvironment=require('fbjs/lib/ExecutionEnvironment');var PooledClass=require('./PooledClass');var ReactInstanceHandles=require('./ReactInstanceHandles');var ReactMount=require('./ReactMount');var ReactUpdates=require('./ReactUpdates');var assign=require('./Object.assign');var getEventTarget=require('./getEventTarget');var getUnboundedScrollPosition=require('fbjs/lib/getUnboundedScrollPosition');var DOCUMENT_FRAGMENT_NODE_TYPE=11;function findParent(node){var nodeID=ReactMount.getID(node);var rootID=ReactInstanceHandles.getReactRootIDFromNodeID(nodeID);var container=ReactMount.findReactContainerForID(rootID);var parent=ReactMount.getFirstReactDOM(container);return parent;}
function TopLevelCallbackBookKeeping(topLevelType,nativeEvent){this.topLevelType=topLevelType;this.nativeEvent=nativeEvent;this.ancestors=[];}
assign(TopLevelCallbackBookKeeping.prototype,{destructor:function(){this.topLevelType=null;this.nativeEvent=null;this.ancestors.length=0;}});PooledClass.addPoolingTo(TopLevelCallbackBookKeeping,PooledClass.twoArgumentPooler);function handleTopLevelImpl(bookKeeping){void handleTopLevelWithPath;handleTopLevelWithoutPath(bookKeeping);}
function handleTopLevelWithoutPath(bookKeeping){var topLevelTarget=ReactMount.getFirstReactDOM(getEventTarget(bookKeeping.nativeEvent))||window;var ancestor=topLevelTarget;while(ancestor){bookKeeping.ancestors.push(ancestor);ancestor=findParent(ancestor);}
for(var i=0;i<bookKeeping.ancestors.length;i++){topLevelTarget=bookKeeping.ancestors[i];var topLevelTargetID=ReactMount.getID(topLevelTarget)||'';ReactEventListener._handleTopLevel(bookKeeping.topLevelType,topLevelTarget,topLevelTargetID,bookKeeping.nativeEvent,getEventTarget(bookKeeping.nativeEvent));}}
function handleTopLevelWithPath(bookKeeping){var path=bookKeeping.nativeEvent.path;var currentNativeTarget=path[0];var eventsFired=0;for(var i=0;i<path.length;i++){var currentPathElement=path[i];if(currentPathElement.nodeType===DOCUMENT_FRAGMENT_NODE_TYPE){currentNativeTarget=path[i+1];}
var reactParent=ReactMount.getFirstReactDOM(currentPathElement);if(reactParent===currentPathElement){var currentPathElementID=ReactMount.getID(currentPathElement);var newRootID=ReactInstanceHandles.getReactRootIDFromNodeID(currentPathElementID);bookKeeping.ancestors.push(currentPathElement);var topLevelTargetID=ReactMount.getID(currentPathElement)||'';eventsFired++;ReactEventListener._handleTopLevel(bookKeeping.topLevelType,currentPathElement,topLevelTargetID,bookKeeping.nativeEvent,currentNativeTarget);while(currentPathElementID!==newRootID){i++;currentPathElement=path[i];currentPathElementID=ReactMount.getID(currentPathElement);}}}
if(eventsFired===0){ReactEventListener._handleTopLevel(bookKeeping.topLevelType,window,'',bookKeeping.nativeEvent,getEventTarget(bookKeeping.nativeEvent));}}
function scrollValueMonitor(cb){var scrollPosition=getUnboundedScrollPosition(window);cb(scrollPosition);}
var ReactEventListener={_enabled:true,_handleTopLevel:null,WINDOW_HANDLE:ExecutionEnvironment.canUseDOM?window:null,setHandleTopLevel:function(handleTopLevel){ReactEventListener._handleTopLevel=handleTopLevel;},setEnabled:function(enabled){ReactEventListener._enabled=!!enabled;},isEnabled:function(){return ReactEventListener._enabled;},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){var element=handle;if(!element){return null;}
return EventListener.listen(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType));},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){var element=handle;if(!element){return null;}
return EventListener.capture(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType));},monitorScrollValue:function(refresh){var callback=scrollValueMonitor.bind(null,refresh);EventListener.listen(window,'scroll',callback);},dispatchEvent:function(topLevelType,nativeEvent){if(!ReactEventListener._enabled){return;}
var bookKeeping=TopLevelCallbackBookKeeping.getPooled(topLevelType,nativeEvent);try{ReactUpdates.batchedUpdates(handleTopLevelImpl,bookKeeping);}finally{TopLevelCallbackBookKeeping.release(bookKeeping);}}};module.exports=ReactEventListener;},{"./Object.assign":102,"./PooledClass":103,"./ReactInstanceHandles":141,"./ReactMount":145,"./ReactUpdates":163,"./getEventTarget":194,"fbjs/lib/EventListener":209,"fbjs/lib/ExecutionEnvironment":210,"fbjs/lib/getUnboundedScrollPosition":221}],139:[function(require,module,exports){'use strict';var DOMProperty=require('./DOMProperty');var EventPluginHub=require('./EventPluginHub');var ReactComponentEnvironment=require('./ReactComponentEnvironment');var ReactClass=require('./ReactClass');var ReactEmptyComponent=require('./ReactEmptyComponent');var ReactBrowserEventEmitter=require('./ReactBrowserEventEmitter');var ReactNativeComponent=require('./ReactNativeComponent');var ReactPerf=require('./ReactPerf');var ReactRootIndex=require('./ReactRootIndex');var ReactUpdates=require('./ReactUpdates');var ReactInjection={Component:ReactComponentEnvironment.injection,Class:ReactClass.injection,DOMProperty:DOMProperty.injection,EmptyComponent:ReactEmptyComponent.injection,EventPluginHub:EventPluginHub.injection,EventEmitter:ReactBrowserEventEmitter.injection,NativeComponent:ReactNativeComponent.injection,Perf:ReactPerf.injection,RootIndex:ReactRootIndex.injection,Updates:ReactUpdates.injection};module.exports=ReactInjection;},{"./DOMProperty":89,"./EventPluginHub":95,"./ReactBrowserEventEmitter":106,"./ReactClass":109,"./ReactComponentEnvironment":112,"./ReactEmptyComponent":134,"./ReactNativeComponent":148,"./ReactPerf":151,"./ReactRootIndex":158,"./ReactUpdates":163}],140:[function(require,module,exports){'use strict';var ReactDOMSelection=require('./ReactDOMSelection');var containsNode=require('fbjs/lib/containsNode');var focusNode=require('fbjs/lib/focusNode');var getActiveElement=require('fbjs/lib/getActiveElement');function isInDocument(node){return containsNode(document.documentElement,node);}
var ReactInputSelection={hasSelectionCapabilities:function(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName&&(nodeName==='input'&&elem.type==='text'||nodeName==='textarea'||elem.contentEditable==='true');},getSelectionInformation:function(){var focusedElem=getActiveElement();return{focusedElem:focusedElem,selectionRange:ReactInputSelection.hasSelectionCapabilities(focusedElem)?ReactInputSelection.getSelection(focusedElem):null};},restoreSelection:function(priorSelectionInformation){var curFocusedElem=getActiveElement();var priorFocusedElem=priorSelectionInformation.focusedElem;var priorSelectionRange=priorSelectionInformation.selectionRange;if(curFocusedElem!==priorFocusedElem&&isInDocument(priorFocusedElem)){if(ReactInputSelection.hasSelectionCapabilities(priorFocusedElem)){ReactInputSelection.setSelection(priorFocusedElem,priorSelectionRange);}
focusNode(priorFocusedElem);}},getSelection:function(input){var selection;if('selectionStart'in input){selection={start:input.selectionStart,end:input.selectionEnd};}else if(document.selection&&(input.nodeName&&input.nodeName.toLowerCase()==='input')){var range=document.selection.createRange();if(range.parentElement()===input){selection={start:-range.moveStart('character',-input.value.length),end:-range.moveEnd('character',-input.value.length)};}}else{selection=ReactDOMSelection.getOffsets(input);}
return selection||{start:0,end:0};},setSelection:function(input,offsets){var start=offsets.start;var end=offsets.end;if(typeof end==='undefined'){end=start;}
if('selectionStart'in input){input.selectionStart=start;input.selectionEnd=Math.min(end,input.value.length);}else if(document.selection&&(input.nodeName&&input.nodeName.toLowerCase()==='input')){var range=input.createTextRange();range.collapse(true);range.moveStart('character',start);range.moveEnd('character',end-start);range.select();}else{ReactDOMSelection.setOffsets(input,offsets);}}};module.exports=ReactInputSelection;},{"./ReactDOMSelection":124,"fbjs/lib/containsNode":213,"fbjs/lib/focusNode":218,"fbjs/lib/getActiveElement":219}],141:[function(require,module,exports){'use strict';var ReactRootIndex=require('./ReactRootIndex');var invariant=require('fbjs/lib/invariant');var SEPARATOR='.';var SEPARATOR_LENGTH=SEPARATOR.length;var MAX_TREE_DEPTH=10000;function getReactRootIDString(index){return SEPARATOR+index.toString(36);}
function isBoundary(id,index){return id.charAt(index)===SEPARATOR||index===id.length;}
function isValidID(id){return id===''||id.charAt(0)===SEPARATOR&&id.charAt(id.length-1)!==SEPARATOR;}
function isAncestorIDOf(ancestorID,descendantID){return descendantID.indexOf(ancestorID)===0&&isBoundary(descendantID,ancestorID.length);}
function getParentID(id){return id?id.substr(0,id.lastIndexOf(SEPARATOR)):'';}
function getNextDescendantID(ancestorID,destinationID){!(isValidID(ancestorID)&&isValidID(destinationID))?"production"!=='production'?invariant(false,'getNextDescendantID(%s, %s): Received an invalid React DOM ID.',ancestorID,destinationID):invariant(false):undefined;!isAncestorIDOf(ancestorID,destinationID)?"production"!=='production'?invariant(false,'getNextDescendantID(...): React has made an invalid assumption about '+'the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.',ancestorID,destinationID):invariant(false):undefined;if(ancestorID===destinationID){return ancestorID;}
var start=ancestorID.length+SEPARATOR_LENGTH;var i;for(i=start;i<destinationID.length;i++){if(isBoundary(destinationID,i)){break;}}
return destinationID.substr(0,i);}
function getFirstCommonAncestorID(oneID,twoID){var minLength=Math.min(oneID.length,twoID.length);if(minLength===0){return'';}
var lastCommonMarkerIndex=0;for(var i=0;i<=minLength;i++){if(isBoundary(oneID,i)&&isBoundary(twoID,i)){lastCommonMarkerIndex=i;}else if(oneID.charAt(i)!==twoID.charAt(i)){break;}}
var longestCommonID=oneID.substr(0,lastCommonMarkerIndex);!isValidID(longestCommonID)?"production"!=='production'?invariant(false,'getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s',oneID,twoID,longestCommonID):invariant(false):undefined;return longestCommonID;}
function traverseParentPath(start,stop,cb,arg,skipFirst,skipLast){start=start||'';stop=stop||'';!(start!==stop)?"production"!=='production'?invariant(false,'traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.',start):invariant(false):undefined;var traverseUp=isAncestorIDOf(stop,start);!(traverseUp||isAncestorIDOf(start,stop))?"production"!=='production'?invariant(false,'traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do '+'not have a parent path.',start,stop):invariant(false):undefined;var depth=0;var traverse=traverseUp?getParentID:getNextDescendantID;for(var id=start;;id=traverse(id,stop)){var ret;if((!skipFirst||id!==start)&&(!skipLast||id!==stop)){ret=cb(id,traverseUp,arg);}
if(ret===false||id===stop){break;}
!(depth++<MAX_TREE_DEPTH)?"production"!=='production'?invariant(false,'traverseParentPath(%s, %s, ...): Detected an infinite loop while '+'traversing the React DOM ID tree. This may be due to malformed IDs: %s',start,stop,id):invariant(false):undefined;}}
var ReactInstanceHandles={createReactRootID:function(){return getReactRootIDString(ReactRootIndex.createReactRootIndex());},createReactID:function(rootID,name){return rootID+name;},getReactRootIDFromNodeID:function(id){if(id&&id.charAt(0)===SEPARATOR&&id.length>1){var index=id.indexOf(SEPARATOR,1);return index>-1?id.substr(0,index):id;}
return null;},traverseEnterLeave:function(leaveID,enterID,cb,upArg,downArg){var ancestorID=getFirstCommonAncestorID(leaveID,enterID);if(ancestorID!==leaveID){traverseParentPath(leaveID,ancestorID,cb,upArg,false,true);}
if(ancestorID!==enterID){traverseParentPath(ancestorID,enterID,cb,downArg,true,false);}},traverseTwoPhase:function(targetID,cb,arg){if(targetID){traverseParentPath('',targetID,cb,arg,true,false);traverseParentPath(targetID,'',cb,arg,false,true);}},traverseTwoPhaseSkipTarget:function(targetID,cb,arg){if(targetID){traverseParentPath('',targetID,cb,arg,true,true);traverseParentPath(targetID,'',cb,arg,true,true);}},traverseAncestors:function(targetID,cb,arg){traverseParentPath('',targetID,cb,arg,true,false);},getFirstCommonAncestorID:getFirstCommonAncestorID,_getNextDescendantID:getNextDescendantID,isAncestorIDOf:isAncestorIDOf,SEPARATOR:SEPARATOR};module.exports=ReactInstanceHandles;},{"./ReactRootIndex":158,"fbjs/lib/invariant":224}],142:[function(require,module,exports){'use strict';var ReactInstanceMap={remove:function(key){key._reactInternalInstance=undefined;},get:function(key){return key._reactInternalInstance;},has:function(key){return key._reactInternalInstance!==undefined;},set:function(key,value){key._reactInternalInstance=value;}};module.exports=ReactInstanceMap;},{}],143:[function(require,module,exports){'use strict';var ReactChildren=require('./ReactChildren');var ReactComponent=require('./ReactComponent');var ReactClass=require('./ReactClass');var ReactDOMFactories=require('./ReactDOMFactories');var ReactElement=require('./ReactElement');var ReactElementValidator=require('./ReactElementValidator');var ReactPropTypes=require('./ReactPropTypes');var ReactVersion=require('./ReactVersion');var assign=require('./Object.assign');var onlyChild=require('./onlyChild');var createElement=ReactElement.createElement;var createFactory=ReactElement.createFactory;var cloneElement=ReactElement.cloneElement;if("production"!=='production'){createElement=ReactElementValidator.createElement;createFactory=ReactElementValidator.createFactory;cloneElement=ReactElementValidator.cloneElement;}
var React={Children:{map:ReactChildren.map,forEach:ReactChildren.forEach,count:ReactChildren.count,toArray:ReactChildren.toArray,only:onlyChild},Component:ReactComponent,createElement:createElement,cloneElement:cloneElement,isValidElement:ReactElement.isValidElement,PropTypes:ReactPropTypes,createClass:ReactClass.createClass,createFactory:createFactory,createMixin:function(mixin){return mixin;},DOM:ReactDOMFactories,version:ReactVersion,__spread:assign};module.exports=React;},{"./Object.assign":102,"./ReactChildren":108,"./ReactClass":109,"./ReactComponent":110,"./ReactDOMFactories":118,"./ReactElement":132,"./ReactElementValidator":133,"./ReactPropTypes":154,"./ReactVersion":164,"./onlyChild":201}],144:[function(require,module,exports){'use strict';var adler32=require('./adler32');var TAG_END=/\/?>/;var ReactMarkupChecksum={CHECKSUM_ATTR_NAME:'data-react-checksum',addChecksumToMarkup:function(markup){var checksum=adler32(markup);return markup.replace(TAG_END,' '+ReactMarkupChecksum.CHECKSUM_ATTR_NAME+'="'+checksum+'"$&');},canReuseMarkup:function(markup,element){var existingChecksum=element.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);existingChecksum=existingChecksum&&parseInt(existingChecksum,10);var markupChecksum=adler32(markup);return markupChecksum===existingChecksum;}};module.exports=ReactMarkupChecksum;},{"./adler32":183}],145:[function(require,module,exports){'use strict';var DOMProperty=require('./DOMProperty');var ReactBrowserEventEmitter=require('./ReactBrowserEventEmitter');var ReactCurrentOwner=require('./ReactCurrentOwner');var ReactDOMFeatureFlags=require('./ReactDOMFeatureFlags');var ReactElement=require('./ReactElement');var ReactEmptyComponentRegistry=require('./ReactEmptyComponentRegistry');var ReactInstanceHandles=require('./ReactInstanceHandles');var ReactInstanceMap=require('./ReactInstanceMap');var ReactMarkupChecksum=require('./ReactMarkupChecksum');var ReactPerf=require('./ReactPerf');var ReactReconciler=require('./ReactReconciler');var ReactUpdateQueue=require('./ReactUpdateQueue');var ReactUpdates=require('./ReactUpdates');var assign=require('./Object.assign');var emptyObject=require('fbjs/lib/emptyObject');var containsNode=require('fbjs/lib/containsNode');var instantiateReactComponent=require('./instantiateReactComponent');var invariant=require('fbjs/lib/invariant');var setInnerHTML=require('./setInnerHTML');var shouldUpdateReactComponent=require('./shouldUpdateReactComponent');var validateDOMNesting=require('./validateDOMNesting');var warning=require('fbjs/lib/warning');var ATTR_NAME=DOMProperty.ID_ATTRIBUTE_NAME;var nodeCache={};var ELEMENT_NODE_TYPE=1;var DOC_NODE_TYPE=9;var DOCUMENT_FRAGMENT_NODE_TYPE=11;var ownerDocumentContextKey='__ReactMount_ownerDocument$'+Math.random().toString(36).slice(2);var instancesByReactRootID={};var containersByReactRootID={};if("production"!=='production'){var rootElementsByReactRootID={};}
var findComponentRootReusableArray=[];function firstDifferenceIndex(string1,string2){var minLen=Math.min(string1.length,string2.length);for(var i=0;i<minLen;i++){if(string1.charAt(i)!==string2.charAt(i)){return i;}}
return string1.length===string2.length?-1:minLen;}
function getReactRootElementInContainer(container){if(!container){return null;}
if(container.nodeType===DOC_NODE_TYPE){return container.documentElement;}else{return container.firstChild;}}
function getReactRootID(container){var rootElement=getReactRootElementInContainer(container);return rootElement&&ReactMount.getID(rootElement);}
function getID(node){var id=internalGetID(node);if(id){if(nodeCache.hasOwnProperty(id)){var cached=nodeCache[id];if(cached!==node){!!isValid(cached,id)?"production"!=='production'?invariant(false,'ReactMount: Two valid but unequal nodes with the same `%s`: %s',ATTR_NAME,id):invariant(false):undefined;nodeCache[id]=node;}}else{nodeCache[id]=node;}}
return id;}
function internalGetID(node){return node&&node.getAttribute&&node.getAttribute(ATTR_NAME)||'';}
function setID(node,id){var oldID=internalGetID(node);if(oldID!==id){delete nodeCache[oldID];}
node.setAttribute(ATTR_NAME,id);nodeCache[id]=node;}
function getNode(id){if(!nodeCache.hasOwnProperty(id)||!isValid(nodeCache[id],id)){nodeCache[id]=ReactMount.findReactNodeByID(id);}
return nodeCache[id];}
function getNodeFromInstance(instance){var id=ReactInstanceMap.get(instance)._rootNodeID;if(ReactEmptyComponentRegistry.isNullComponentID(id)){return null;}
if(!nodeCache.hasOwnProperty(id)||!isValid(nodeCache[id],id)){nodeCache[id]=ReactMount.findReactNodeByID(id);}
return nodeCache[id];}
function isValid(node,id){if(node){!(internalGetID(node)===id)?"production"!=='production'?invariant(false,'ReactMount: Unexpected modification of `%s`',ATTR_NAME):invariant(false):undefined;var container=ReactMount.findReactContainerForID(id);if(container&&containsNode(container,node)){return true;}}
return false;}
function purgeID(id){delete nodeCache[id];}
var deepestNodeSoFar=null;function findDeepestCachedAncestorImpl(ancestorID){var ancestor=nodeCache[ancestorID];if(ancestor&&isValid(ancestor,ancestorID)){deepestNodeSoFar=ancestor;}else{return false;}}
function findDeepestCachedAncestor(targetID){deepestNodeSoFar=null;ReactInstanceHandles.traverseAncestors(targetID,findDeepestCachedAncestorImpl);var foundNode=deepestNodeSoFar;deepestNodeSoFar=null;return foundNode;}
function mountComponentIntoNode(componentInstance,rootID,container,transaction,shouldReuseMarkup,context){if(ReactDOMFeatureFlags.useCreateElement){context=assign({},context);if(container.nodeType===DOC_NODE_TYPE){context[ownerDocumentContextKey]=container;}else{context[ownerDocumentContextKey]=container.ownerDocument;}}
if("production"!=='production'){if(context===emptyObject){context={};}
var tag=container.nodeName.toLowerCase();context[validateDOMNesting.ancestorInfoContextKey]=validateDOMNesting.updatedAncestorInfo(null,tag,null);}
var markup=ReactReconciler.mountComponent(componentInstance,rootID,transaction,context);componentInstance._renderedComponent._topLevelWrapper=componentInstance;ReactMount._mountImageIntoNode(markup,container,shouldReuseMarkup,transaction);}
function batchedMountComponentIntoNode(componentInstance,rootID,container,shouldReuseMarkup,context){var transaction=ReactUpdates.ReactReconcileTransaction.getPooled(shouldReuseMarkup);transaction.perform(mountComponentIntoNode,null,componentInstance,rootID,container,transaction,shouldReuseMarkup,context);ReactUpdates.ReactReconcileTransaction.release(transaction);}
function unmountComponentFromNode(instance,container){ReactReconciler.unmountComponent(instance);if(container.nodeType===DOC_NODE_TYPE){container=container.documentElement;}
while(container.lastChild){container.removeChild(container.lastChild);}}
function hasNonRootReactChild(node){var reactRootID=getReactRootID(node);return reactRootID?reactRootID!==ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID):false;}
function findFirstReactDOMImpl(node){for(;node&&node.parentNode!==node;node=node.parentNode){if(node.nodeType!==1){continue;}
var nodeID=internalGetID(node);if(!nodeID){continue;}
var reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(nodeID);var current=node;var lastID;do{lastID=internalGetID(current);current=current.parentNode;if(current==null){return null;}}while(lastID!==reactRootID);if(current===containersByReactRootID[reactRootID]){return node;}}
return null;}
var TopLevelWrapper=function(){};TopLevelWrapper.prototype.isReactComponent={};if("production"!=='production'){TopLevelWrapper.displayName='TopLevelWrapper';}
TopLevelWrapper.prototype.render=function(){return this.props;};var ReactMount={TopLevelWrapper:TopLevelWrapper,_instancesByReactRootID:instancesByReactRootID,scrollMonitor:function(container,renderCallback){renderCallback();},_updateRootComponent:function(prevComponent,nextElement,container,callback){ReactMount.scrollMonitor(container,function(){ReactUpdateQueue.enqueueElementInternal(prevComponent,nextElement);if(callback){ReactUpdateQueue.enqueueCallbackInternal(prevComponent,callback);}});if("production"!=='production'){rootElementsByReactRootID[getReactRootID(container)]=getReactRootElementInContainer(container);}
return prevComponent;},_registerComponent:function(nextComponent,container){!(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE||container.nodeType===DOCUMENT_FRAGMENT_NODE_TYPE))?"production"!=='production'?invariant(false,'_registerComponent(...): Target container is not a DOM element.'):invariant(false):undefined;ReactBrowserEventEmitter.ensureScrollValueMonitoring();var reactRootID=ReactMount.registerContainer(container);instancesByReactRootID[reactRootID]=nextComponent;return reactRootID;},_renderNewRootComponent:function(nextElement,container,shouldReuseMarkup,context){"production"!=='production'?warning(ReactCurrentOwner.current==null,'_renderNewRootComponent(): Render methods should be a pure function '+'of props and state; triggering nested component updates from '+'render is not allowed. If necessary, trigger nested updates in '+'componentDidUpdate. Check the render method of %s.',ReactCurrentOwner.current&&ReactCurrentOwner.current.getName()||'ReactCompositeComponent'):undefined;var componentInstance=instantiateReactComponent(nextElement,null);var reactRootID=ReactMount._registerComponent(componentInstance,container);ReactUpdates.batchedUpdates(batchedMountComponentIntoNode,componentInstance,reactRootID,container,shouldReuseMarkup,context);if("production"!=='production'){rootElementsByReactRootID[reactRootID]=getReactRootElementInContainer(container);}
return componentInstance;},renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){!(parentComponent!=null&&parentComponent._reactInternalInstance!=null)?"production"!=='production'?invariant(false,'parentComponent must be a valid React Component'):invariant(false):undefined;return ReactMount._renderSubtreeIntoContainer(parentComponent,nextElement,container,callback);},_renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){!ReactElement.isValidElement(nextElement)?"production"!=='production'?invariant(false,'ReactDOM.render(): Invalid component element.%s',typeof nextElement==='string'?' Instead of passing an element string, make sure to instantiate '+'it by passing it to React.createElement.':typeof nextElement==='function'?' Instead of passing a component class, make sure to instantiate '+'it by passing it to React.createElement.':nextElement!=null&&nextElement.props!==undefined?' This may be caused by unintentionally loading two independent '+'copies of React.':''):invariant(false):undefined;"production"!=='production'?warning(!container||!container.tagName||container.tagName.toUpperCase()!=='BODY','render(): Rendering components directly into document.body is '+'discouraged, since its children are often manipulated by third-party '+'scripts and browser extensions. This may lead to subtle '+'reconciliation issues. Try rendering into a container element created '+'for your app.'):undefined;var nextWrappedElement=new ReactElement(TopLevelWrapper,null,null,null,null,null,nextElement);var prevComponent=instancesByReactRootID[getReactRootID(container)];if(prevComponent){var prevWrappedElement=prevComponent._currentElement;var prevElement=prevWrappedElement.props;if(shouldUpdateReactComponent(prevElement,nextElement)){var publicInst=prevComponent._renderedComponent.getPublicInstance();var updatedCallback=callback&&function(){callback.call(publicInst);};ReactMount._updateRootComponent(prevComponent,nextWrappedElement,container,updatedCallback);return publicInst;}else{ReactMount.unmountComponentAtNode(container);}}
var reactRootElement=getReactRootElementInContainer(container);var containerHasReactMarkup=reactRootElement&&!!internalGetID(reactRootElement);var containerHasNonRootReactChild=hasNonRootReactChild(container);if("production"!=='production'){"production"!=='production'?warning(!containerHasNonRootReactChild,'render(...): Replacing React-rendered children with a new root '+'component. If you intended to update the children of this node, '+'you should instead have the existing children update their state '+'and render the new components instead of calling ReactDOM.render.'):undefined;if(!containerHasReactMarkup||reactRootElement.nextSibling){var rootElementSibling=reactRootElement;while(rootElementSibling){if(internalGetID(rootElementSibling)){"production"!=='production'?warning(false,'render(): Target node has markup rendered by React, but there '+'are unrelated nodes as well. This is most commonly caused by '+'white-space inserted around server-rendered markup.'):undefined;break;}
rootElementSibling=rootElementSibling.nextSibling;}}}
var shouldReuseMarkup=containerHasReactMarkup&&!prevComponent&&!containerHasNonRootReactChild;var component=ReactMount._renderNewRootComponent(nextWrappedElement,container,shouldReuseMarkup,parentComponent!=null?parentComponent._reactInternalInstance._processChildContext(parentComponent._reactInternalInstance._context):emptyObject)._renderedComponent.getPublicInstance();if(callback){callback.call(component);}
return component;},render:function(nextElement,container,callback){return ReactMount._renderSubtreeIntoContainer(null,nextElement,container,callback);},registerContainer:function(container){var reactRootID=getReactRootID(container);if(reactRootID){reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID);}
if(!reactRootID){reactRootID=ReactInstanceHandles.createReactRootID();}
containersByReactRootID[reactRootID]=container;return reactRootID;},unmountComponentAtNode:function(container){"production"!=='production'?warning(ReactCurrentOwner.current==null,'unmountComponentAtNode(): Render methods should be a pure function '+'of props and state; triggering nested component updates from render '+'is not allowed. If necessary, trigger nested updates in '+'componentDidUpdate. Check the render method of %s.',ReactCurrentOwner.current&&ReactCurrentOwner.current.getName()||'ReactCompositeComponent'):undefined;!(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE||container.nodeType===DOCUMENT_FRAGMENT_NODE_TYPE))?"production"!=='production'?invariant(false,'unmountComponentAtNode(...): Target container is not a DOM element.'):invariant(false):undefined;var reactRootID=getReactRootID(container);var component=instancesByReactRootID[reactRootID];if(!component){var containerHasNonRootReactChild=hasNonRootReactChild(container);var containerID=internalGetID(container);var isContainerReactRoot=containerID&&containerID===ReactInstanceHandles.getReactRootIDFromNodeID(containerID);if("production"!=='production'){"production"!=='production'?warning(!containerHasNonRootReactChild,'unmountComponentAtNode(): The node you\'re attempting to unmount '+'was rendered by React and is not a top-level container. %s',isContainerReactRoot?'You may have accidentally passed in a React root node instead '+'of its container.':'Instead, have the parent component update its state and '+'rerender in order to remove this component.'):undefined;}
return false;}
ReactUpdates.batchedUpdates(unmountComponentFromNode,component,container);delete instancesByReactRootID[reactRootID];delete containersByReactRootID[reactRootID];if("production"!=='production'){delete rootElementsByReactRootID[reactRootID];}
return true;},findReactContainerForID:function(id){var reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(id);var container=containersByReactRootID[reactRootID];if("production"!=='production'){var rootElement=rootElementsByReactRootID[reactRootID];if(rootElement&&rootElement.parentNode!==container){"production"!=='production'?warning(internalGetID(rootElement)===reactRootID,'ReactMount: Root element ID differed from reactRootID.'):undefined;var containerChild=container.firstChild;if(containerChild&&reactRootID===internalGetID(containerChild)){rootElementsByReactRootID[reactRootID]=containerChild;}else{"production"!=='production'?warning(false,'ReactMount: Root element has been removed from its original '+'container. New container: %s',rootElement.parentNode):undefined;}}}
return container;},findReactNodeByID:function(id){var reactRoot=ReactMount.findReactContainerForID(id);return ReactMount.findComponentRoot(reactRoot,id);},getFirstReactDOM:function(node){return findFirstReactDOMImpl(node);},findComponentRoot:function(ancestorNode,targetID){var firstChildren=findComponentRootReusableArray;var childIndex=0;var deepestAncestor=findDeepestCachedAncestor(targetID)||ancestorNode;if("production"!=='production'){"production"!=='production'?warning(deepestAncestor!=null,'React can\'t find the root component node for data-reactid value '+'`%s`. If you\'re seeing this message, it probably means that '+'you\'ve loaded two copies of React on the page. At this time, only '+'a single copy of React can be loaded at a time.',targetID):undefined;}
firstChildren[0]=deepestAncestor.firstChild;firstChildren.length=1;while(childIndex<firstChildren.length){var child=firstChildren[childIndex++];var targetChild;while(child){var childID=ReactMount.getID(child);if(childID){if(targetID===childID){targetChild=child;}else if(ReactInstanceHandles.isAncestorIDOf(childID,targetID)){firstChildren.length=childIndex=0;firstChildren.push(child.firstChild);}}else{firstChildren.push(child.firstChild);}
child=child.nextSibling;}
if(targetChild){firstChildren.length=0;return targetChild;}}
firstChildren.length=0;!false?"production"!=='production'?invariant(false,'findComponentRoot(..., %s): Unable to find element. This probably '+'means the DOM was unexpectedly mutated (e.g., by the browser), '+'usually due to forgetting a <tbody> when using tables, nesting tags '+'like <form>, <p>, or <a>, or using non-SVG elements in an <svg> '+'parent. '+'Try inspecting the child nodes of the element with React ID `%s`.',targetID,ReactMount.getID(ancestorNode)):invariant(false):undefined;},_mountImageIntoNode:function(markup,container,shouldReuseMarkup,transaction){!(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE||container.nodeType===DOCUMENT_FRAGMENT_NODE_TYPE))?"production"!=='production'?invariant(false,'mountComponentIntoNode(...): Target container is not valid.'):invariant(false):undefined;if(shouldReuseMarkup){var rootElement=getReactRootElementInContainer(container);if(ReactMarkupChecksum.canReuseMarkup(markup,rootElement)){return;}else{var checksum=rootElement.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);rootElement.removeAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);var rootMarkup=rootElement.outerHTML;rootElement.setAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME,checksum);var normalizedMarkup=markup;if("production"!=='production'){var normalizer;if(container.nodeType===ELEMENT_NODE_TYPE){normalizer=document.createElement('div');normalizer.innerHTML=markup;normalizedMarkup=normalizer.innerHTML;}else{normalizer=document.createElement('iframe');document.body.appendChild(normalizer);normalizer.contentDocument.write(markup);normalizedMarkup=normalizer.contentDocument.documentElement.outerHTML;document.body.removeChild(normalizer);}}
var diffIndex=firstDifferenceIndex(normalizedMarkup,rootMarkup);var difference=' (client) '+normalizedMarkup.substring(diffIndex-20,diffIndex+20)+'\n (server) '+rootMarkup.substring(diffIndex-20,diffIndex+20);!(container.nodeType!==DOC_NODE_TYPE)?"production"!=='production'?invariant(false,'You\'re trying to render a component to the document using '+'server rendering but the checksum was invalid. This usually '+'means you rendered a different component type or props on '+'the client from the one on the server, or your render() '+'methods are impure. React cannot handle this case due to '+'cross-browser quirks by rendering at the document root. You '+'should look for environment dependent code in your components '+'and ensure the props are the same client and server side:\n%s',difference):invariant(false):undefined;if("production"!=='production'){"production"!=='production'?warning(false,'React attempted to reuse markup in a container but the '+'checksum was invalid. This generally means that you are '+'using server rendering and the markup generated on the '+'server was not what the client was expecting. React injected '+'new markup to compensate which works but you have lost many '+'of the benefits of server rendering. Instead, figure out '+'why the markup being generated is different on the client '+'or server:\n%s',difference):undefined;}}}
!(container.nodeType!==DOC_NODE_TYPE)?"production"!=='production'?invariant(false,'You\'re trying to render a component to the document but '+'you didn\'t use server rendering. We can\'t do this '+'without using server rendering due to cross-browser quirks. '+'See ReactDOMServer.renderToString() for server rendering.'):invariant(false):undefined;if(transaction.useCreateElement){while(container.lastChild){container.removeChild(container.lastChild);}
container.appendChild(markup);}else{setInnerHTML(container,markup);}},ownerDocumentContextKey:ownerDocumentContextKey,getReactRootID:getReactRootID,getID:getID,setID:setID,getNode:getNode,getNodeFromInstance:getNodeFromInstance,isValid:isValid,purgeID:purgeID};ReactPerf.measureMethods(ReactMount,'ReactMount',{_renderNewRootComponent:'_renderNewRootComponent',_mountImageIntoNode:'_mountImageIntoNode'});module.exports=ReactMount;},{"./DOMProperty":89,"./Object.assign":102,"./ReactBrowserEventEmitter":106,"./ReactCurrentOwner":114,"./ReactDOMFeatureFlags":119,"./ReactElement":132,"./ReactEmptyComponentRegistry":135,"./ReactInstanceHandles":141,"./ReactInstanceMap":142,"./ReactMarkupChecksum":144,"./ReactPerf":151,"./ReactReconciler":156,"./ReactUpdateQueue":162,"./ReactUpdates":163,"./instantiateReactComponent":198,"./setInnerHTML":204,"./shouldUpdateReactComponent":206,"./validateDOMNesting":208,"fbjs/lib/containsNode":213,"fbjs/lib/emptyObject":217,"fbjs/lib/invariant":224,"fbjs/lib/warning":235}],146:[function(require,module,exports){'use strict';var ReactComponentEnvironment=require('./ReactComponentEnvironment');var ReactMultiChildUpdateTypes=require('./ReactMultiChildUpdateTypes');var ReactCurrentOwner=require('./ReactCurrentOwner');var ReactReconciler=require('./ReactReconciler');var ReactChildReconciler=require('./ReactChildReconciler');var flattenChildren=require('./flattenChildren');var updateDepth=0;var updateQueue=[];var markupQueue=[];function enqueueInsertMarkup(parentID,markup,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.INSERT_MARKUP,markupIndex:markupQueue.push(markup)-1,content:null,fromIndex:null,toIndex:toIndex});}
function enqueueMove(parentID,fromIndex,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:fromIndex,toIndex:toIndex});}
function enqueueRemove(parentID,fromIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.REMOVE_NODE,markupIndex:null,content:null,fromIndex:fromIndex,toIndex:null});}
function enqueueSetMarkup(parentID,markup){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.SET_MARKUP,markupIndex:null,content:markup,fromIndex:null,toIndex:null});}
function enqueueTextContent(parentID,textContent){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.TEXT_CONTENT,markupIndex:null,content:textContent,fromIndex:null,toIndex:null});}
function processQueue(){if(updateQueue.length){ReactComponentEnvironment.processChildrenUpdates(updateQueue,markupQueue);clearQueue();}}
function clearQueue(){updateQueue.length=0;markupQueue.length=0;}
var ReactMultiChild={Mixin:{_reconcilerInstantiateChildren:function(nestedChildren,transaction,context){if("production"!=='production'){if(this._currentElement){try{ReactCurrentOwner.current=this._currentElement._owner;return ReactChildReconciler.instantiateChildren(nestedChildren,transaction,context);}finally{ReactCurrentOwner.current=null;}}}
return ReactChildReconciler.instantiateChildren(nestedChildren,transaction,context);},_reconcilerUpdateChildren:function(prevChildren,nextNestedChildrenElements,transaction,context){var nextChildren;if("production"!=='production'){if(this._currentElement){try{ReactCurrentOwner.current=this._currentElement._owner;nextChildren=flattenChildren(nextNestedChildrenElements);}finally{ReactCurrentOwner.current=null;}
return ReactChildReconciler.updateChildren(prevChildren,nextChildren,transaction,context);}}
nextChildren=flattenChildren(nextNestedChildrenElements);return ReactChildReconciler.updateChildren(prevChildren,nextChildren,transaction,context);},mountChildren:function(nestedChildren,transaction,context){var children=this._reconcilerInstantiateChildren(nestedChildren,transaction,context);this._renderedChildren=children;var mountImages=[];var index=0;for(var name in children){if(children.hasOwnProperty(name)){var child=children[name];var rootID=this._rootNodeID+name;var mountImage=ReactReconciler.mountComponent(child,rootID,transaction,context);child._mountIndex=index++;mountImages.push(mountImage);}}
return mountImages;},updateTextContent:function(nextContent){updateDepth++;var errorThrown=true;try{var prevChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(prevChildren);for(var name in prevChildren){if(prevChildren.hasOwnProperty(name)){this._unmountChild(prevChildren[name]);}}
this.setTextContent(nextContent);errorThrown=false;}finally{updateDepth--;if(!updateDepth){if(errorThrown){clearQueue();}else{processQueue();}}}},updateMarkup:function(nextMarkup){updateDepth++;var errorThrown=true;try{var prevChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(prevChildren);for(var name in prevChildren){if(prevChildren.hasOwnProperty(name)){this._unmountChildByName(prevChildren[name],name);}}
this.setMarkup(nextMarkup);errorThrown=false;}finally{updateDepth--;if(!updateDepth){if(errorThrown){clearQueue();}else{processQueue();}}}},updateChildren:function(nextNestedChildrenElements,transaction,context){updateDepth++;var errorThrown=true;try{this._updateChildren(nextNestedChildrenElements,transaction,context);errorThrown=false;}finally{updateDepth--;if(!updateDepth){if(errorThrown){clearQueue();}else{processQueue();}}}},_updateChildren:function(nextNestedChildrenElements,transaction,context){var prevChildren=this._renderedChildren;var nextChildren=this._reconcilerUpdateChildren(prevChildren,nextNestedChildrenElements,transaction,context);this._renderedChildren=nextChildren;if(!nextChildren&&!prevChildren){return;}
var name;var lastIndex=0;var nextIndex=0;for(name in nextChildren){if(!nextChildren.hasOwnProperty(name)){continue;}
var prevChild=prevChildren&&prevChildren[name];var nextChild=nextChildren[name];if(prevChild===nextChild){this.moveChild(prevChild,nextIndex,lastIndex);lastIndex=Math.max(prevChild._mountIndex,lastIndex);prevChild._mountIndex=nextIndex;}else{if(prevChild){lastIndex=Math.max(prevChild._mountIndex,lastIndex);this._unmountChild(prevChild);}
this._mountChildByNameAtIndex(nextChild,name,nextIndex,transaction,context);}
nextIndex++;}
for(name in prevChildren){if(prevChildren.hasOwnProperty(name)&&!(nextChildren&&nextChildren.hasOwnProperty(name))){this._unmountChild(prevChildren[name]);}}},unmountChildren:function(){var renderedChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(renderedChildren);this._renderedChildren=null;},moveChild:function(child,toIndex,lastIndex){if(child._mountIndex<lastIndex){enqueueMove(this._rootNodeID,child._mountIndex,toIndex);}},createChild:function(child,mountImage){enqueueInsertMarkup(this._rootNodeID,mountImage,child._mountIndex);},removeChild:function(child){enqueueRemove(this._rootNodeID,child._mountIndex);},setTextContent:function(textContent){enqueueTextContent(this._rootNodeID,textContent);},setMarkup:function(markup){enqueueSetMarkup(this._rootNodeID,markup);},_mountChildByNameAtIndex:function(child,name,index,transaction,context){var rootID=this._rootNodeID+name;var mountImage=ReactReconciler.mountComponent(child,rootID,transaction,context);child._mountIndex=index;this.createChild(child,mountImage);},_unmountChild:function(child){this.removeChild(child);child._mountIndex=null;}}};module.exports=ReactMultiChild;},{"./ReactChildReconciler":107,"./ReactComponentEnvironment":112,"./ReactCurrentOwner":114,"./ReactMultiChildUpdateTypes":147,"./ReactReconciler":156,"./flattenChildren":189}],147:[function(require,module,exports){'use strict';var keyMirror=require('fbjs/lib/keyMirror');var ReactMultiChildUpdateTypes=keyMirror({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});module.exports=ReactMultiChildUpdateTypes;},{"fbjs/lib/keyMirror":227}],148:[function(require,module,exports){'use strict';var assign=require('./Object.assign');var invariant=require('fbjs/lib/invariant');var autoGenerateWrapperClass=null;var genericComponentClass=null;var tagToComponentClass={};var textComponentClass=null;var ReactNativeComponentInjection={injectGenericComponentClass:function(componentClass){genericComponentClass=componentClass;},injectTextComponentClass:function(componentClass){textComponentClass=componentClass;},injectComponentClasses:function(componentClasses){assign(tagToComponentClass,componentClasses);}};function getComponentClassForElement(element){if(typeof element.type==='function'){return element.type;}
var tag=element.type;var componentClass=tagToComponentClass[tag];if(componentClass==null){tagToComponentClass[tag]=componentClass=autoGenerateWrapperClass(tag);}
return componentClass;}
function createInternalComponent(element){!genericComponentClass?"production"!=='production'?invariant(false,'There is no registered component for the tag %s',element.type):invariant(false):undefined;return new genericComponentClass(element.type,element.props);}
function createInstanceForText(text){return new textComponentClass(text);}
function isTextComponent(component){return component instanceof textComponentClass;}
var ReactNativeComponent={getComponentClassForElement:getComponentClassForElement,createInternalComponent:createInternalComponent,createInstanceForText:createInstanceForText,isTextComponent:isTextComponent,injection:ReactNativeComponentInjection};module.exports=ReactNativeComponent;},{"./Object.assign":102,"fbjs/lib/invariant":224}],149:[function(require,module,exports){'use strict';var warning=require('fbjs/lib/warning');function warnTDZ(publicInstance,callerName){if("production"!=='production'){"production"!=='production'?warning(false,'%s(...): Can only update a mounted or mounting component. '+'This usually means you called %s() on an unmounted component. '+'This is a no-op. Please check the code for the %s component.',callerName,callerName,publicInstance.constructor&&publicInstance.constructor.displayName||''):undefined;}}
var ReactNoopUpdateQueue={isMounted:function(publicInstance){return false;},enqueueCallback:function(publicInstance,callback){},enqueueForceUpdate:function(publicInstance){warnTDZ(publicInstance,'forceUpdate');},enqueueReplaceState:function(publicInstance,completeState){warnTDZ(publicInstance,'replaceState');},enqueueSetState:function(publicInstance,partialState){warnTDZ(publicInstance,'setState');},enqueueSetProps:function(publicInstance,partialProps){warnTDZ(publicInstance,'setProps');},enqueueReplaceProps:function(publicInstance,props){warnTDZ(publicInstance,'replaceProps');}};module.exports=ReactNoopUpdateQueue;},{"fbjs/lib/warning":235}],150:[function(require,module,exports){'use strict';var invariant=require('fbjs/lib/invariant');var ReactOwner={isValidOwner:function(object){return!!(object&&typeof object.attachRef==='function'&&typeof object.detachRef==='function');},addComponentAsRefTo:function(component,ref,owner){!ReactOwner.isValidOwner(owner)?"production"!=='production'?invariant(false,'addComponentAsRefTo(...): Only a ReactOwner can have refs. You might '+'be adding a ref to a component that was not created inside a component\'s '+'`render` method, or you have multiple copies of React loaded '+'(details: https://fb.me/react-refs-must-have-owner).'):invariant(false):undefined;owner.attachRef(ref,component);},removeComponentAsRefFrom:function(component,ref,owner){!ReactOwner.isValidOwner(owner)?"production"!=='production'?invariant(false,'removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might '+'be removing a ref to a component that was not created inside a component\'s '+'`render` method, or you have multiple copies of React loaded '+'(details: https://fb.me/react-refs-must-have-owner).'):invariant(false):undefined;if(owner.getPublicInstance().refs[ref]===component.getPublicInstance()){owner.detachRef(ref);}}};module.exports=ReactOwner;},{"fbjs/lib/invariant":224}],151:[function(require,module,exports){'use strict';var ReactPerf={enableMeasure:false,storedMeasure:_noMeasure,measureMethods:function(object,objectName,methodNames){if("production"!=='production'){for(var key in methodNames){if(!methodNames.hasOwnProperty(key)){continue;}
object[key]=ReactPerf.measure(objectName,methodNames[key],object[key]);}}},measure:function(objName,fnName,func){if("production"!=='production'){var measuredFunc=null;var wrapper=function(){if(ReactPerf.enableMeasure){if(!measuredFunc){measuredFunc=ReactPerf.storedMeasure(objName,fnName,func);}
return measuredFunc.apply(this,arguments);}
return func.apply(this,arguments);};wrapper.displayName=objName+'_'+fnName;return wrapper;}
return func;},injection:{injectMeasure:function(measure){ReactPerf.storedMeasure=measure;}}};function _noMeasure(objName,fnName,func){return func;}
module.exports=ReactPerf;},{}],152:[function(require,module,exports){'use strict';var ReactPropTypeLocationNames={};if("production"!=='production'){ReactPropTypeLocationNames={prop:'prop',context:'context',childContext:'child context'};}
module.exports=ReactPropTypeLocationNames;},{}],153:[function(require,module,exports){'use strict';var keyMirror=require('fbjs/lib/keyMirror');var ReactPropTypeLocations=keyMirror({prop:null,context:null,childContext:null});module.exports=ReactPropTypeLocations;},{"fbjs/lib/keyMirror":227}],154:[function(require,module,exports){'use strict';var ReactElement=require('./ReactElement');var ReactPropTypeLocationNames=require('./ReactPropTypeLocationNames');var emptyFunction=require('fbjs/lib/emptyFunction');var getIteratorFn=require('./getIteratorFn');var ANONYMOUS='<<anonymous>>';var ReactPropTypes={array:createPrimitiveTypeChecker('array'),bool:createPrimitiveTypeChecker('boolean'),func:createPrimitiveTypeChecker('function'),number:createPrimitiveTypeChecker('number'),object:createPrimitiveTypeChecker('object'),string:createPrimitiveTypeChecker('string'),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:createElementTypeChecker(),instanceOf:createInstanceTypeChecker,node:createNodeChecker(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker};function createChainableTypeChecker(validate){function checkType(isRequired,props,propName,componentName,location,propFullName){componentName=componentName||ANONYMOUS;propFullName=propFullName||propName;if(props[propName]==null){var locationName=ReactPropTypeLocationNames[location];if(isRequired){return new Error('Required '+locationName+' `'+propFullName+'` was not specified in '+('`'+componentName+'`.'));}
return null;}else{return validate(props,propName,componentName,location,propFullName);}}
var chainedCheckType=checkType.bind(null,false);chainedCheckType.isRequired=checkType.bind(null,true);return chainedCheckType;}
function createPrimitiveTypeChecker(expectedType){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];var propType=getPropType(propValue);if(propType!==expectedType){var locationName=ReactPropTypeLocationNames[location];var preciseType=getPreciseType(propValue);return new Error('Invalid '+locationName+' `'+propFullName+'` of type '+('`'+preciseType+'` supplied to `'+componentName+'`, expected ')+('`'+expectedType+'`.'));}
return null;}
return createChainableTypeChecker(validate);}
function createAnyTypeChecker(){return createChainableTypeChecker(emptyFunction.thatReturns(null));}
function createArrayOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];if(!Array.isArray(propValue)){var locationName=ReactPropTypeLocationNames[location];var propType=getPropType(propValue);return new Error('Invalid '+locationName+' `'+propFullName+'` of type '+('`'+propType+'` supplied to `'+componentName+'`, expected an array.'));}
for(var i=0;i<propValue.length;i++){var error=typeChecker(propValue,i,componentName,location,propFullName+'['+i+']');if(error instanceof Error){return error;}}
return null;}
return createChainableTypeChecker(validate);}
function createElementTypeChecker(){function validate(props,propName,componentName,location,propFullName){if(!ReactElement.isValidElement(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new Error('Invalid '+locationName+' `'+propFullName+'` supplied to '+('`'+componentName+'`, expected a single ReactElement.'));}
return null;}
return createChainableTypeChecker(validate);}
function createInstanceTypeChecker(expectedClass){function validate(props,propName,componentName,location,propFullName){if(!(props[propName]instanceof expectedClass)){var locationName=ReactPropTypeLocationNames[location];var expectedClassName=expectedClass.name||ANONYMOUS;var actualClassName=getClassName(props[propName]);return new Error('Invalid '+locationName+' `'+propFullName+'` of type '+('`'+actualClassName+'` supplied to `'+componentName+'`, expected ')+('instance of `'+expectedClassName+'`.'));}
return null;}
return createChainableTypeChecker(validate);}
function createEnumTypeChecker(expectedValues){if(!Array.isArray(expectedValues)){return createChainableTypeChecker(function(){return new Error('Invalid argument supplied to oneOf, expected an instance of array.');});}
function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];for(var i=0;i<expectedValues.length;i++){if(propValue===expectedValues[i]){return null;}}
var locationName=ReactPropTypeLocationNames[location];var valuesString=JSON.stringify(expectedValues);return new Error('Invalid '+locationName+' `'+propFullName+'` of value `'+propValue+'` '+('supplied to `'+componentName+'`, expected one of '+valuesString+'.'));}
return createChainableTypeChecker(validate);}
function createObjectOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];var propType=getPropType(propValue);if(propType!=='object'){var locationName=ReactPropTypeLocationNames[location];return new Error('Invalid '+locationName+' `'+propFullName+'` of type '+('`'+propType+'` supplied to `'+componentName+'`, expected an object.'));}
for(var key in propValue){if(propValue.hasOwnProperty(key)){var error=typeChecker(propValue,key,componentName,location,propFullName+'.'+key);if(error instanceof Error){return error;}}}
return null;}
return createChainableTypeChecker(validate);}
function createUnionTypeChecker(arrayOfTypeCheckers){if(!Array.isArray(arrayOfTypeCheckers)){return createChainableTypeChecker(function(){return new Error('Invalid argument supplied to oneOfType, expected an instance of array.');});}
function validate(props,propName,componentName,location,propFullName){for(var i=0;i<arrayOfTypeCheckers.length;i++){var checker=arrayOfTypeCheckers[i];if(checker(props,propName,componentName,location,propFullName)==null){return null;}}
var locationName=ReactPropTypeLocationNames[location];return new Error('Invalid '+locationName+' `'+propFullName+'` supplied to '+('`'+componentName+'`.'));}
return createChainableTypeChecker(validate);}
function createNodeChecker(){function validate(props,propName,componentName,location,propFullName){if(!isNode(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new Error('Invalid '+locationName+' `'+propFullName+'` supplied to '+('`'+componentName+'`, expected a ReactNode.'));}
return null;}
return createChainableTypeChecker(validate);}
function createShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];var propType=getPropType(propValue);if(propType!=='object'){var locationName=ReactPropTypeLocationNames[location];return new Error('Invalid '+locationName+' `'+propFullName+'` of type `'+propType+'` '+('supplied to `'+componentName+'`, expected `object`.'));}
for(var key in shapeTypes){var checker=shapeTypes[key];if(!checker){continue;}
var error=checker(propValue,key,componentName,location,propFullName+'.'+key);if(error){return error;}}
return null;}
return createChainableTypeChecker(validate);}
function isNode(propValue){switch(typeof propValue){case'number':case'string':case'undefined':return true;case'boolean':return!propValue;case'object':if(Array.isArray(propValue)){return propValue.every(isNode);}
if(propValue===null||ReactElement.isValidElement(propValue)){return true;}
var iteratorFn=getIteratorFn(propValue);if(iteratorFn){var iterator=iteratorFn.call(propValue);var step;if(iteratorFn!==propValue.entries){while(!(step=iterator.next()).done){if(!isNode(step.value)){return false;}}}else{while(!(step=iterator.next()).done){var entry=step.value;if(entry){if(!isNode(entry[1])){return false;}}}}}else{return false;}
return true;default:return false;}}
function getPropType(propValue){var propType=typeof propValue;if(Array.isArray(propValue)){return'array';}
if(propValue instanceof RegExp){return'object';}
return propType;}
function getPreciseType(propValue){var propType=getPropType(propValue);if(propType==='object'){if(propValue instanceof Date){return'date';}else if(propValue instanceof RegExp){return'regexp';}}
return propType;}
function getClassName(propValue){if(!propValue.constructor||!propValue.constructor.name){return'<<anonymous>>';}
return propValue.constructor.name;}
module.exports=ReactPropTypes;},{"./ReactElement":132,"./ReactPropTypeLocationNames":152,"./getIteratorFn":195,"fbjs/lib/emptyFunction":216}],155:[function(require,module,exports){'use strict';var CallbackQueue=require('./CallbackQueue');var PooledClass=require('./PooledClass');var ReactBrowserEventEmitter=require('./ReactBrowserEventEmitter');var ReactDOMFeatureFlags=require('./ReactDOMFeatureFlags');var ReactInputSelection=require('./ReactInputSelection');var Transaction=require('./Transaction');var assign=require('./Object.assign');var SELECTION_RESTORATION={initialize:ReactInputSelection.getSelectionInformation,close:ReactInputSelection.restoreSelection};var EVENT_SUPPRESSION={initialize:function(){var currentlyEnabled=ReactBrowserEventEmitter.isEnabled();ReactBrowserEventEmitter.setEnabled(false);return currentlyEnabled;},close:function(previouslyEnabled){ReactBrowserEventEmitter.setEnabled(previouslyEnabled);}};var ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset();},close:function(){this.reactMountReady.notifyAll();}};var TRANSACTION_WRAPPERS=[SELECTION_RESTORATION,EVENT_SUPPRESSION,ON_DOM_READY_QUEUEING];function ReactReconcileTransaction(forceHTML){this.reinitializeTransaction();this.renderToStaticMarkup=false;this.reactMountReady=CallbackQueue.getPooled(null);this.useCreateElement=!forceHTML&&ReactDOMFeatureFlags.useCreateElement;}
var Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS;},getReactMountReady:function(){return this.reactMountReady;},destructor:function(){CallbackQueue.release(this.reactMountReady);this.reactMountReady=null;}};assign(ReactReconcileTransaction.prototype,Transaction.Mixin,Mixin);PooledClass.addPoolingTo(ReactReconcileTransaction);module.exports=ReactReconcileTransaction;},{"./CallbackQueue":85,"./Object.assign":102,"./PooledClass":103,"./ReactBrowserEventEmitter":106,"./ReactDOMFeatureFlags":119,"./ReactInputSelection":140,"./Transaction":180}],156:[function(require,module,exports){'use strict';var ReactRef=require('./ReactRef');function attachRefs(){ReactRef.attachRefs(this,this._currentElement);}
var ReactReconciler={mountComponent:function(internalInstance,rootID,transaction,context){var markup=internalInstance.mountComponent(rootID,transaction,context);if(internalInstance._currentElement&&internalInstance._currentElement.ref!=null){transaction.getReactMountReady().enqueue(attachRefs,internalInstance);}
return markup;},unmountComponent:function(internalInstance){ReactRef.detachRefs(internalInstance,internalInstance._currentElement);internalInstance.unmountComponent();},receiveComponent:function(internalInstance,nextElement,transaction,context){var prevElement=internalInstance._currentElement;if(nextElement===prevElement&&context===internalInstance._context){return;}
var refsChanged=ReactRef.shouldUpdateRefs(prevElement,nextElement);if(refsChanged){ReactRef.detachRefs(internalInstance,prevElement);}
internalInstance.receiveComponent(nextElement,transaction,context);if(refsChanged&&internalInstance._currentElement&&internalInstance._currentElement.ref!=null){transaction.getReactMountReady().enqueue(attachRefs,internalInstance);}},performUpdateIfNecessary:function(internalInstance,transaction){internalInstance.performUpdateIfNecessary(transaction);}};module.exports=ReactReconciler;},{"./ReactRef":157}],157:[function(require,module,exports){'use strict';var ReactOwner=require('./ReactOwner');var ReactRef={};function attachRef(ref,component,owner){if(typeof ref==='function'){ref(component.getPublicInstance());}else{ReactOwner.addComponentAsRefTo(component,ref,owner);}}
function detachRef(ref,component,owner){if(typeof ref==='function'){ref(null);}else{ReactOwner.removeComponentAsRefFrom(component,ref,owner);}}
ReactRef.attachRefs=function(instance,element){if(element===null||element===false){return;}
var ref=element.ref;if(ref!=null){attachRef(ref,instance,element._owner);}};ReactRef.shouldUpdateRefs=function(prevElement,nextElement){var prevEmpty=prevElement===null||prevElement===false;var nextEmpty=nextElement===null||nextElement===false;return(prevEmpty||nextEmpty||nextElement._owner!==prevElement._owner||nextElement.ref!==prevElement.ref);};ReactRef.detachRefs=function(instance,element){if(element===null||element===false){return;}
var ref=element.ref;if(ref!=null){detachRef(ref,instance,element._owner);}};module.exports=ReactRef;},{"./ReactOwner":150}],158:[function(require,module,exports){'use strict';var ReactRootIndexInjection={injectCreateReactRootIndex:function(_createReactRootIndex){ReactRootIndex.createReactRootIndex=_createReactRootIndex;}};var ReactRootIndex={createReactRootIndex:null,injection:ReactRootIndexInjection};module.exports=ReactRootIndex;},{}],159:[function(require,module,exports){'use strict';var ReactServerBatchingStrategy={isBatchingUpdates:false,batchedUpdates:function(callback){}};module.exports=ReactServerBatchingStrategy;},{}],160:[function(require,module,exports){'use strict';var ReactDefaultBatchingStrategy=require('./ReactDefaultBatchingStrategy');var ReactElement=require('./ReactElement');var ReactInstanceHandles=require('./ReactInstanceHandles');var ReactMarkupChecksum=require('./ReactMarkupChecksum');var ReactServerBatchingStrategy=require('./ReactServerBatchingStrategy');var ReactServerRenderingTransaction=require('./ReactServerRenderingTransaction');var ReactUpdates=require('./ReactUpdates');var emptyObject=require('fbjs/lib/emptyObject');var instantiateReactComponent=require('./instantiateReactComponent');var invariant=require('fbjs/lib/invariant');function renderToString(element){!ReactElement.isValidElement(element)?"production"!=='production'?invariant(false,'renderToString(): You must pass a valid ReactElement.'):invariant(false):undefined;var transaction;try{ReactUpdates.injection.injectBatchingStrategy(ReactServerBatchingStrategy);var id=ReactInstanceHandles.createReactRootID();transaction=ReactServerRenderingTransaction.getPooled(false);return transaction.perform(function(){var componentInstance=instantiateReactComponent(element,null);var markup=componentInstance.mountComponent(id,transaction,emptyObject);return ReactMarkupChecksum.addChecksumToMarkup(markup);},null);}finally{ReactServerRenderingTransaction.release(transaction);ReactUpdates.injection.injectBatchingStrategy(ReactDefaultBatchingStrategy);}}
function renderToStaticMarkup(element){!ReactElement.isValidElement(element)?"production"!=='production'?invariant(false,'renderToStaticMarkup(): You must pass a valid ReactElement.'):invariant(false):undefined;var transaction;try{ReactUpdates.injection.injectBatchingStrategy(ReactServerBatchingStrategy);var id=ReactInstanceHandles.createReactRootID();transaction=ReactServerRenderingTransaction.getPooled(true);return transaction.perform(function(){var componentInstance=instantiateReactComponent(element,null);return componentInstance.mountComponent(id,transaction,emptyObject);},null);}finally{ReactServerRenderingTransaction.release(transaction);ReactUpdates.injection.injectBatchingStrategy(ReactDefaultBatchingStrategy);}}
module.exports={renderToString:renderToString,renderToStaticMarkup:renderToStaticMarkup};},{"./ReactDefaultBatchingStrategy":128,"./ReactElement":132,"./ReactInstanceHandles":141,"./ReactMarkupChecksum":144,"./ReactServerBatchingStrategy":159,"./ReactServerRenderingTransaction":161,"./ReactUpdates":163,"./instantiateReactComponent":198,"fbjs/lib/emptyObject":217,"fbjs/lib/invariant":224}],161:[function(require,module,exports){'use strict';var PooledClass=require('./PooledClass');var CallbackQueue=require('./CallbackQueue');var Transaction=require('./Transaction');var assign=require('./Object.assign');var emptyFunction=require('fbjs/lib/emptyFunction');var ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset();},close:emptyFunction};var TRANSACTION_WRAPPERS=[ON_DOM_READY_QUEUEING];function ReactServerRenderingTransaction(renderToStaticMarkup){this.reinitializeTransaction();this.renderToStaticMarkup=renderToStaticMarkup;this.reactMountReady=CallbackQueue.getPooled(null);this.useCreateElement=false;}
var Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS;},getReactMountReady:function(){return this.reactMountReady;},destructor:function(){CallbackQueue.release(this.reactMountReady);this.reactMountReady=null;}};assign(ReactServerRenderingTransaction.prototype,Transaction.Mixin,Mixin);PooledClass.addPoolingTo(ReactServerRenderingTransaction);module.exports=ReactServerRenderingTransaction;},{"./CallbackQueue":85,"./Object.assign":102,"./PooledClass":103,"./Transaction":180,"fbjs/lib/emptyFunction":216}],162:[function(require,module,exports){'use strict';var ReactCurrentOwner=require('./ReactCurrentOwner');var ReactElement=require('./ReactElement');var ReactInstanceMap=require('./ReactInstanceMap');var ReactUpdates=require('./ReactUpdates');var assign=require('./Object.assign');var invariant=require('fbjs/lib/invariant');var warning=require('fbjs/lib/warning');function enqueueUpdate(internalInstance){ReactUpdates.enqueueUpdate(internalInstance);}
function getInternalInstanceReadyForUpdate(publicInstance,callerName){var internalInstance=ReactInstanceMap.get(publicInstance);if(!internalInstance){if("production"!=='production'){"production"!=='production'?warning(!callerName,'%s(...): Can only update a mounted or mounting component. '+'This usually means you called %s() on an unmounted component. '+'This is a no-op. Please check the code for the %s component.',callerName,callerName,publicInstance.constructor.displayName):undefined;}
return null;}
if("production"!=='production'){"production"!=='production'?warning(ReactCurrentOwner.current==null,'%s(...): Cannot update during an existing state transition '+'(such as within `render`). Render methods should be a pure function '+'of props and state.',callerName):undefined;}
return internalInstance;}
var ReactUpdateQueue={isMounted:function(publicInstance){if("production"!=='production'){var owner=ReactCurrentOwner.current;if(owner!==null){"production"!=='production'?warning(owner._warnedAboutRefsInRender,'%s is accessing isMounted inside its render() function. '+'render() should be a pure function of props and state. It should '+'never access something that requires stale data from the previous '+'render, such as refs. Move this logic to componentDidMount and '+'componentDidUpdate instead.',owner.getName()||'A component'):undefined;owner._warnedAboutRefsInRender=true;}}
var internalInstance=ReactInstanceMap.get(publicInstance);if(internalInstance){return!!internalInstance._renderedComponent;}else{return false;}},enqueueCallback:function(publicInstance,callback){!(typeof callback==='function')?"production"!=='production'?invariant(false,'enqueueCallback(...): You called `setProps`, `replaceProps`, '+'`setState`, `replaceState`, or `forceUpdate` with a callback that '+'isn\'t callable.'):invariant(false):undefined;var internalInstance=getInternalInstanceReadyForUpdate(publicInstance);if(!internalInstance){return null;}
if(internalInstance._pendingCallbacks){internalInstance._pendingCallbacks.push(callback);}else{internalInstance._pendingCallbacks=[callback];}
enqueueUpdate(internalInstance);},enqueueCallbackInternal:function(internalInstance,callback){!(typeof callback==='function')?"production"!=='production'?invariant(false,'enqueueCallback(...): You called `setProps`, `replaceProps`, '+'`setState`, `replaceState`, or `forceUpdate` with a callback that '+'isn\'t callable.'):invariant(false):undefined;if(internalInstance._pendingCallbacks){internalInstance._pendingCallbacks.push(callback);}else{internalInstance._pendingCallbacks=[callback];}
enqueueUpdate(internalInstance);},enqueueForceUpdate:function(publicInstance){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,'forceUpdate');if(!internalInstance){return;}
internalInstance._pendingForceUpdate=true;enqueueUpdate(internalInstance);},enqueueReplaceState:function(publicInstance,completeState){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,'replaceState');if(!internalInstance){return;}
internalInstance._pendingStateQueue=[completeState];internalInstance._pendingReplaceState=true;enqueueUpdate(internalInstance);},enqueueSetState:function(publicInstance,partialState){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,'setState');if(!internalInstance){return;}
var queue=internalInstance._pendingStateQueue||(internalInstance._pendingStateQueue=[]);queue.push(partialState);enqueueUpdate(internalInstance);},enqueueSetProps:function(publicInstance,partialProps){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,'setProps');if(!internalInstance){return;}
ReactUpdateQueue.enqueueSetPropsInternal(internalInstance,partialProps);},enqueueSetPropsInternal:function(internalInstance,partialProps){var topLevelWrapper=internalInstance._topLevelWrapper;!topLevelWrapper?"production"!=='production'?invariant(false,'setProps(...): You called `setProps` on a '+'component with a parent. This is an anti-pattern since props will '+'get reactively updated when rendered. Instead, change the owner\'s '+'`render` method to pass the correct value as props to the component '+'where it is created.'):invariant(false):undefined;var wrapElement=topLevelWrapper._pendingElement||topLevelWrapper._currentElement;var element=wrapElement.props;var props=assign({},element.props,partialProps);topLevelWrapper._pendingElement=ReactElement.cloneAndReplaceProps(wrapElement,ReactElement.cloneAndReplaceProps(element,props));enqueueUpdate(topLevelWrapper);},enqueueReplaceProps:function(publicInstance,props){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,'replaceProps');if(!internalInstance){return;}
ReactUpdateQueue.enqueueReplacePropsInternal(internalInstance,props);},enqueueReplacePropsInternal:function(internalInstance,props){var topLevelWrapper=internalInstance._topLevelWrapper;!topLevelWrapper?"production"!=='production'?invariant(false,'replaceProps(...): You called `replaceProps` on a '+'component with a parent. This is an anti-pattern since props will '+'get reactively updated when rendered. Instead, change the owner\'s '+'`render` method to pass the correct value as props to the component '+'where it is created.'):invariant(false):undefined;var wrapElement=topLevelWrapper._pendingElement||topLevelWrapper._currentElement;var element=wrapElement.props;topLevelWrapper._pendingElement=ReactElement.cloneAndReplaceProps(wrapElement,ReactElement.cloneAndReplaceProps(element,props));enqueueUpdate(topLevelWrapper);},enqueueElementInternal:function(internalInstance,newElement){internalInstance._pendingElement=newElement;enqueueUpdate(internalInstance);}};module.exports=ReactUpdateQueue;},{"./Object.assign":102,"./ReactCurrentOwner":114,"./ReactElement":132,"./ReactInstanceMap":142,"./ReactUpdates":163,"fbjs/lib/invariant":224,"fbjs/lib/warning":235}],163:[function(require,module,exports){'use strict';var CallbackQueue=require('./CallbackQueue');var PooledClass=require('./PooledClass');var ReactPerf=require('./ReactPerf');var ReactReconciler=require('./ReactReconciler');var Transaction=require('./Transaction');var assign=require('./Object.assign');var invariant=require('fbjs/lib/invariant');var dirtyComponents=[];var asapCallbackQueue=CallbackQueue.getPooled();var asapEnqueued=false;var batchingStrategy=null;function ensureInjected(){!(ReactUpdates.ReactReconcileTransaction&&batchingStrategy)?"production"!=='production'?invariant(false,'ReactUpdates: must inject a reconcile transaction class and batching '+'strategy'):invariant(false):undefined;}
var NESTED_UPDATES={initialize:function(){this.dirtyComponentsLength=dirtyComponents.length;},close:function(){if(this.dirtyComponentsLength!==dirtyComponents.length){dirtyComponents.splice(0,this.dirtyComponentsLength);flushBatchedUpdates();}else{dirtyComponents.length=0;}}};var UPDATE_QUEUEING={initialize:function(){this.callbackQueue.reset();},close:function(){this.callbackQueue.notifyAll();}};var TRANSACTION_WRAPPERS=[NESTED_UPDATES,UPDATE_QUEUEING];function ReactUpdatesFlushTransaction(){this.reinitializeTransaction();this.dirtyComponentsLength=null;this.callbackQueue=CallbackQueue.getPooled();this.reconcileTransaction=ReactUpdates.ReactReconcileTransaction.getPooled(false);}
assign(ReactUpdatesFlushTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS;},destructor:function(){this.dirtyComponentsLength=null;CallbackQueue.release(this.callbackQueue);this.callbackQueue=null;ReactUpdates.ReactReconcileTransaction.release(this.reconcileTransaction);this.reconcileTransaction=null;},perform:function(method,scope,a){return Transaction.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,method,scope,a);}});PooledClass.addPoolingTo(ReactUpdatesFlushTransaction);function batchedUpdates(callback,a,b,c,d,e){ensureInjected();batchingStrategy.batchedUpdates(callback,a,b,c,d,e);}
function mountOrderComparator(c1,c2){return c1._mountOrder-c2._mountOrder;}
function runBatchedUpdates(transaction){var len=transaction.dirtyComponentsLength;!(len===dirtyComponents.length)?"production"!=='production'?invariant(false,'Expected flush transaction\'s stored dirty-components length (%s) to '+'match dirty-components array length (%s).',len,dirtyComponents.length):invariant(false):undefined;dirtyComponents.sort(mountOrderComparator);for(var i=0;i<len;i++){var component=dirtyComponents[i];var callbacks=component._pendingCallbacks;component._pendingCallbacks=null;ReactReconciler.performUpdateIfNecessary(component,transaction.reconcileTransaction);if(callbacks){for(var j=0;j<callbacks.length;j++){transaction.callbackQueue.enqueue(callbacks[j],component.getPublicInstance());}}}}
var flushBatchedUpdates=function(){while(dirtyComponents.length||asapEnqueued){if(dirtyComponents.length){var transaction=ReactUpdatesFlushTransaction.getPooled();transaction.perform(runBatchedUpdates,null,transaction);ReactUpdatesFlushTransaction.release(transaction);}
if(asapEnqueued){asapEnqueued=false;var queue=asapCallbackQueue;asapCallbackQueue=CallbackQueue.getPooled();queue.notifyAll();CallbackQueue.release(queue);}}};flushBatchedUpdates=ReactPerf.measure('ReactUpdates','flushBatchedUpdates',flushBatchedUpdates);function enqueueUpdate(component){ensureInjected();if(!batchingStrategy.isBatchingUpdates){batchingStrategy.batchedUpdates(enqueueUpdate,component);return;}
dirtyComponents.push(component);}
function asap(callback,context){!batchingStrategy.isBatchingUpdates?"production"!=='production'?invariant(false,'ReactUpdates.asap: Can\'t enqueue an asap callback in a context where'+'updates are not being batched.'):invariant(false):undefined;asapCallbackQueue.enqueue(callback,context);asapEnqueued=true;}
var ReactUpdatesInjection={injectReconcileTransaction:function(ReconcileTransaction){!ReconcileTransaction?"production"!=='production'?invariant(false,'ReactUpdates: must provide a reconcile transaction class'):invariant(false):undefined;ReactUpdates.ReactReconcileTransaction=ReconcileTransaction;},injectBatchingStrategy:function(_batchingStrategy){!_batchingStrategy?"production"!=='production'?invariant(false,'ReactUpdates: must provide a batching strategy'):invariant(false):undefined;!(typeof _batchingStrategy.batchedUpdates==='function')?"production"!=='production'?invariant(false,'ReactUpdates: must provide a batchedUpdates() function'):invariant(false):undefined;!(typeof _batchingStrategy.isBatchingUpdates==='boolean')?"production"!=='production'?invariant(false,'ReactUpdates: must provide an isBatchingUpdates boolean attribute'):invariant(false):undefined;batchingStrategy=_batchingStrategy;}};var ReactUpdates={ReactReconcileTransaction:null,batchedUpdates:batchedUpdates,enqueueUpdate:enqueueUpdate,flushBatchedUpdates:flushBatchedUpdates,injection:ReactUpdatesInjection,asap:asap};module.exports=ReactUpdates;},{"./CallbackQueue":85,"./Object.assign":102,"./PooledClass":103,"./ReactPerf":151,"./ReactReconciler":156,"./Transaction":180,"fbjs/lib/invariant":224}],164:[function(require,module,exports){'use strict';module.exports='0.14.3';},{}],165:[function(require,module,exports){'use strict';var DOMProperty=require('./DOMProperty');var MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE;var NS={xlink:'http://www.w3.org/1999/xlink',xml:'http://www.w3.org/XML/1998/namespace'};var SVGDOMPropertyConfig={Properties:{clipPath:MUST_USE_ATTRIBUTE,cx:MUST_USE_ATTRIBUTE,cy:MUST_USE_ATTRIBUTE,d:MUST_USE_ATTRIBUTE,dx:MUST_USE_ATTRIBUTE,dy:MUST_USE_ATTRIBUTE,fill:MUST_USE_ATTRIBUTE,fillOpacity:MUST_USE_ATTRIBUTE,fontFamily:MUST_USE_ATTRIBUTE,fontSize:MUST_USE_ATTRIBUTE,fx:MUST_USE_ATTRIBUTE,fy:MUST_USE_ATTRIBUTE,gradientTransform:MUST_USE_ATTRIBUTE,gradientUnits:MUST_USE_ATTRIBUTE,markerEnd:MUST_USE_ATTRIBUTE,markerMid:MUST_USE_ATTRIBUTE,markerStart:MUST_USE_ATTRIBUTE,offset:MUST_USE_ATTRIBUTE,opacity:MUST_USE_ATTRIBUTE,patternContentUnits:MUST_USE_ATTRIBUTE,patternUnits:MUST_USE_ATTRIBUTE,points:MUST_USE_ATTRIBUTE,preserveAspectRatio:MUST_USE_ATTRIBUTE,r:MUST_USE_ATTRIBUTE,rx:MUST_USE_ATTRIBUTE,ry:MUST_USE_ATTRIBUTE,spreadMethod:MUST_USE_ATTRIBUTE,stopColor:MUST_USE_ATTRIBUTE,stopOpacity:MUST_USE_ATTRIBUTE,stroke:MUST_USE_ATTRIBUTE,strokeDasharray:MUST_USE_ATTRIBUTE,strokeLinecap:MUST_USE_ATTRIBUTE,strokeOpacity:MUST_USE_ATTRIBUTE,strokeWidth:MUST_USE_ATTRIBUTE,textAnchor:MUST_USE_ATTRIBUTE,transform:MUST_USE_ATTRIBUTE,version:MUST_USE_ATTRIBUTE,viewBox:MUST_USE_ATTRIBUTE,x1:MUST_USE_ATTRIBUTE,x2:MUST_USE_ATTRIBUTE,x:MUST_USE_ATTRIBUTE,xlinkActuate:MUST_USE_ATTRIBUTE,xlinkArcrole:MUST_USE_ATTRIBUTE,xlinkHref:MUST_USE_ATTRIBUTE,xlinkRole:MUST_USE_ATTRIBUTE,xlinkShow:MUST_USE_ATTRIBUTE,xlinkTitle:MUST_USE_ATTRIBUTE,xlinkType:MUST_USE_ATTRIBUTE,xmlBase:MUST_USE_ATTRIBUTE,xmlLang:MUST_USE_ATTRIBUTE,xmlSpace:MUST_USE_ATTRIBUTE,y1:MUST_USE_ATTRIBUTE,y2:MUST_USE_ATTRIBUTE,y:MUST_USE_ATTRIBUTE},DOMAttributeNamespaces:{xlinkActuate:NS.xlink,xlinkArcrole:NS.xlink,xlinkHref:NS.xlink,xlinkRole:NS.xlink,xlinkShow:NS.xlink,xlinkTitle:NS.xlink,xlinkType:NS.xlink,xmlBase:NS.xml,xmlLang:NS.xml,xmlSpace:NS.xml},DOMAttributeNames:{clipPath:'clip-path',fillOpacity:'fill-opacity',fontFamily:'font-family',fontSize:'font-size',gradientTransform:'gradientTransform',gradientUnits:'gradientUnits',markerEnd:'marker-end',markerMid:'marker-mid',markerStart:'marker-start',patternContentUnits:'patternContentUnits',patternUnits:'patternUnits',preserveAspectRatio:'preserveAspectRatio',spreadMethod:'spreadMethod',stopColor:'stop-color',stopOpacity:'stop-opacity',strokeDasharray:'stroke-dasharray',strokeLinecap:'stroke-linecap',strokeOpacity:'stroke-opacity',strokeWidth:'stroke-width',textAnchor:'text-anchor',viewBox:'viewBox',xlinkActuate:'xlink:actuate',xlinkArcrole:'xlink:arcrole',xlinkHref:'xlink:href',xlinkRole:'xlink:role',xlinkShow:'xlink:show',xlinkTitle:'xlink:title',xlinkType:'xlink:type',xmlBase:'xml:base',xmlLang:'xml:lang',xmlSpace:'xml:space'}};module.exports=SVGDOMPropertyConfig;},{"./DOMProperty":89}],166:[function(require,module,exports){'use strict';var EventConstants=require('./EventConstants');var EventPropagators=require('./EventPropagators');var ExecutionEnvironment=require('fbjs/lib/ExecutionEnvironment');var ReactInputSelection=require('./ReactInputSelection');var SyntheticEvent=require('./SyntheticEvent');var getActiveElement=require('fbjs/lib/getActiveElement');var isTextInputElement=require('./isTextInputElement');var keyOf=require('fbjs/lib/keyOf');var shallowEqual=require('fbjs/lib/shallowEqual');var topLevelTypes=EventConstants.topLevelTypes;var skipSelectionChangeEvent=ExecutionEnvironment.canUseDOM&&'documentMode'in document&&document.documentMode<=11;var eventTypes={select:{phasedRegistrationNames:{bubbled:keyOf({onSelect:null}),captured:keyOf({onSelectCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topContextMenu,topLevelTypes.topFocus,topLevelTypes.topKeyDown,topLevelTypes.topMouseDown,topLevelTypes.topMouseUp,topLevelTypes.topSelectionChange]}};var activeElement=null;var activeElementID=null;var lastSelection=null;var mouseDown=false;var hasListener=false;var ON_SELECT_KEY=keyOf({onSelect:null});function getSelection(node){if('selectionStart'in node&&ReactInputSelection.hasSelectionCapabilities(node)){return{start:node.selectionStart,end:node.selectionEnd};}else if(window.getSelection){var selection=window.getSelection();return{anchorNode:selection.anchorNode,anchorOffset:selection.anchorOffset,focusNode:selection.focusNode,focusOffset:selection.focusOffset};}else if(document.selection){var range=document.selection.createRange();return{parentElement:range.parentElement(),text:range.text,top:range.boundingTop,left:range.boundingLeft};}}
function constructSelectEvent(nativeEvent,nativeEventTarget){if(mouseDown||activeElement==null||activeElement!==getActiveElement()){return null;}
var currentSelection=getSelection(activeElement);if(!lastSelection||!shallowEqual(lastSelection,currentSelection)){lastSelection=currentSelection;var syntheticEvent=SyntheticEvent.getPooled(eventTypes.select,activeElementID,nativeEvent,nativeEventTarget);syntheticEvent.type='select';syntheticEvent.target=activeElement;EventPropagators.accumulateTwoPhaseDispatches(syntheticEvent);return syntheticEvent;}
return null;}
var SelectEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){if(!hasListener){return null;}
switch(topLevelType){case topLevelTypes.topFocus:if(isTextInputElement(topLevelTarget)||topLevelTarget.contentEditable==='true'){activeElement=topLevelTarget;activeElementID=topLevelTargetID;lastSelection=null;}
break;case topLevelTypes.topBlur:activeElement=null;activeElementID=null;lastSelection=null;break;case topLevelTypes.topMouseDown:mouseDown=true;break;case topLevelTypes.topContextMenu:case topLevelTypes.topMouseUp:mouseDown=false;return constructSelectEvent(nativeEvent,nativeEventTarget);case topLevelTypes.topSelectionChange:if(skipSelectionChangeEvent){break;}
case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:return constructSelectEvent(nativeEvent,nativeEventTarget);}
return null;},didPutListener:function(id,registrationName,listener){if(registrationName===ON_SELECT_KEY){hasListener=true;}}};module.exports=SelectEventPlugin;},{"./EventConstants":94,"./EventPropagators":98,"./ReactInputSelection":140,"./SyntheticEvent":172,"./isTextInputElement":200,"fbjs/lib/ExecutionEnvironment":210,"fbjs/lib/getActiveElement":219,"fbjs/lib/keyOf":228,"fbjs/lib/shallowEqual":233}],167:[function(require,module,exports){'use strict';var GLOBAL_MOUNT_POINT_MAX=Math.pow(2,53);var ServerReactRootIndex={createReactRootIndex:function(){return Math.ceil(Math.random()*GLOBAL_MOUNT_POINT_MAX);}};module.exports=ServerReactRootIndex;},{}],168:[function(require,module,exports){'use strict';var EventConstants=require('./EventConstants');var EventListener=require('fbjs/lib/EventListener');var EventPropagators=require('./EventPropagators');var ReactMount=require('./ReactMount');var SyntheticClipboardEvent=require('./SyntheticClipboardEvent');var SyntheticEvent=require('./SyntheticEvent');var SyntheticFocusEvent=require('./SyntheticFocusEvent');var SyntheticKeyboardEvent=require('./SyntheticKeyboardEvent');var SyntheticMouseEvent=require('./SyntheticMouseEvent');var SyntheticDragEvent=require('./SyntheticDragEvent');var SyntheticTouchEvent=require('./SyntheticTouchEvent');var SyntheticUIEvent=require('./SyntheticUIEvent');var SyntheticWheelEvent=require('./SyntheticWheelEvent');var emptyFunction=require('fbjs/lib/emptyFunction');var getEventCharCode=require('./getEventCharCode');var invariant=require('fbjs/lib/invariant');var keyOf=require('fbjs/lib/keyOf');var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={abort:{phasedRegistrationNames:{bubbled:keyOf({onAbort:true}),captured:keyOf({onAbortCapture:true})}},blur:{phasedRegistrationNames:{bubbled:keyOf({onBlur:true}),captured:keyOf({onBlurCapture:true})}},canPlay:{phasedRegistrationNames:{bubbled:keyOf({onCanPlay:true}),captured:keyOf({onCanPlayCapture:true})}},canPlayThrough:{phasedRegistrationNames:{bubbled:keyOf({onCanPlayThrough:true}),captured:keyOf({onCanPlayThroughCapture:true})}},click:{phasedRegistrationNames:{bubbled:keyOf({onClick:true}),captured:keyOf({onClickCapture:true})}},contextMenu:{phasedRegistrationNames:{bubbled:keyOf({onContextMenu:true}),captured:keyOf({onContextMenuCapture:true})}},copy:{phasedRegistrationNames:{bubbled:keyOf({onCopy:true}),captured:keyOf({onCopyCapture:true})}},cut:{phasedRegistrationNames:{bubbled:keyOf({onCut:true}),captured:keyOf({onCutCapture:true})}},doubleClick:{phasedRegistrationNames:{bubbled:keyOf({onDoubleClick:true}),captured:keyOf({onDoubleClickCapture:true})}},drag:{phasedRegistrationNames:{bubbled:keyOf({onDrag:true}),captured:keyOf({onDragCapture:true})}},dragEnd:{phasedRegistrationNames:{bubbled:keyOf({onDragEnd:true}),captured:keyOf({onDragEndCapture:true})}},dragEnter:{phasedRegistrationNames:{bubbled:keyOf({onDragEnter:true}),captured:keyOf({onDragEnterCapture:true})}},dragExit:{phasedRegistrationNames:{bubbled:keyOf({onDragExit:true}),captured:keyOf({onDragExitCapture:true})}},dragLeave:{phasedRegistrationNames:{bubbled:keyOf({onDragLeave:true}),captured:keyOf({onDragLeaveCapture:true})}},dragOver:{phasedRegistrationNames:{bubbled:keyOf({onDragOver:true}),captured:keyOf({onDragOverCapture:true})}},dragStart:{phasedRegistrationNames:{bubbled:keyOf({onDragStart:true}),captured:keyOf({onDragStartCapture:true})}},drop:{phasedRegistrationNames:{bubbled:keyOf({onDrop:true}),captured:keyOf({onDropCapture:true})}},durationChange:{phasedRegistrationNames:{bubbled:keyOf({onDurationChange:true}),captured:keyOf({onDurationChangeCapture:true})}},emptied:{phasedRegistrationNames:{bubbled:keyOf({onEmptied:true}),captured:keyOf({onEmptiedCapture:true})}},encrypted:{phasedRegistrationNames:{bubbled:keyOf({onEncrypted:true}),captured:keyOf({onEncryptedCapture:true})}},ended:{phasedRegistrationNames:{bubbled:keyOf({onEnded:true}),captured:keyOf({onEndedCapture:true})}},error:{phasedRegistrationNames:{bubbled:keyOf({onError:true}),captured:keyOf({onErrorCapture:true})}},focus:{phasedRegistrationNames:{bubbled:keyOf({onFocus:true}),captured:keyOf({onFocusCapture:true})}},input:{phasedRegistrationNames:{bubbled:keyOf({onInput:true}),captured:keyOf({onInputCapture:true})}},keyDown:{phasedRegistrationNames:{bubbled:keyOf({onKeyDown:true}),captured:keyOf({onKeyDownCapture:true})}},keyPress:{phasedRegistrationNames:{bubbled:keyOf({onKeyPress:true}),captured:keyOf({onKeyPressCapture:true})}},keyUp:{phasedRegistrationNames:{bubbled:keyOf({onKeyUp:true}),captured:keyOf({onKeyUpCapture:true})}},load:{phasedRegistrationNames:{bubbled:keyOf({onLoad:true}),captured:keyOf({onLoadCapture:true})}},loadedData:{phasedRegistrationNames:{bubbled:keyOf({onLoadedData:true}),captured:keyOf({onLoadedDataCapture:true})}},loadedMetadata:{phasedRegistrationNames:{bubbled:keyOf({onLoadedMetadata:true}),captured:keyOf({onLoadedMetadataCapture:true})}},loadStart:{phasedRegistrationNames:{bubbled:keyOf({onLoadStart:true}),captured:keyOf({onLoadStartCapture:true})}},mouseDown:{phasedRegistrationNames:{bubbled:keyOf({onMouseDown:true}),captured:keyOf({onMouseDownCapture:true})}},mouseMove:{phasedRegistrationNames:{bubbled:keyOf({onMouseMove:true}),captured:keyOf({onMouseMoveCapture:true})}},mouseOut:{phasedRegistrationNames:{bubbled:keyOf({onMouseOut:true}),captured:keyOf({onMouseOutCapture:true})}},mouseOver:{phasedRegistrationNames:{bubbled:keyOf({onMouseOver:true}),captured:keyOf({onMouseOverCapture:true})}},mouseUp:{phasedRegistrationNames:{bubbled:keyOf({onMouseUp:true}),captured:keyOf({onMouseUpCapture:true})}},paste:{phasedRegistrationNames:{bubbled:keyOf({onPaste:true}),captured:keyOf({onPasteCapture:true})}},pause:{phasedRegistrationNames:{bubbled:keyOf({onPause:true}),captured:keyOf({onPauseCapture:true})}},play:{phasedRegistrationNames:{bubbled:keyOf({onPlay:true}),captured:keyOf({onPlayCapture:true})}},playing:{phasedRegistrationNames:{bubbled:keyOf({onPlaying:true}),captured:keyOf({onPlayingCapture:true})}},progress:{phasedRegistrationNames:{bubbled:keyOf({onProgress:true}),captured:keyOf({onProgressCapture:true})}},rateChange:{phasedRegistrationNames:{bubbled:keyOf({onRateChange:true}),captured:keyOf({onRateChangeCapture:true})}},reset:{phasedRegistrationNames:{bubbled:keyOf({onReset:true}),captured:keyOf({onResetCapture:true})}},scroll:{phasedRegistrationNames:{bubbled:keyOf({onScroll:true}),captured:keyOf({onScrollCapture:true})}},seeked:{phasedRegistrationNames:{bubbled:keyOf({onSeeked:true}),captured:keyOf({onSeekedCapture:true})}},seeking:{phasedRegistrationNames:{bubbled:keyOf({onSeeking:true}),captured:keyOf({onSeekingCapture:true})}},stalled:{phasedRegistrationNames:{bubbled:keyOf({onStalled:true}),captured:keyOf({onStalledCapture:true})}},submit:{phasedRegistrationNames:{bubbled:keyOf({onSubmit:true}),captured:keyOf({onSubmitCapture:true})}},suspend:{phasedRegistrationNames:{bubbled:keyOf({onSuspend:true}),captured:keyOf({onSuspendCapture:true})}},timeUpdate:{phasedRegistrationNames:{bubbled:keyOf({onTimeUpdate:true}),captured:keyOf({onTimeUpdateCapture:true})}},touchCancel:{phasedRegistrationNames:{bubbled:keyOf({onTouchCancel:true}),captured:keyOf({onTouchCancelCapture:true})}},touchEnd:{phasedRegistrationNames:{bubbled:keyOf({onTouchEnd:true}),captured:keyOf({onTouchEndCapture:true})}},touchMove:{phasedRegistrationNames:{bubbled:keyOf({onTouchMove:true}),captured:keyOf({onTouchMoveCapture:true})}},touchStart:{phasedRegistrationNames:{bubbled:keyOf({onTouchStart:true}),captured:keyOf({onTouchStartCapture:true})}},volumeChange:{phasedRegistrationNames:{bubbled:keyOf({onVolumeChange:true}),captured:keyOf({onVolumeChangeCapture:true})}},waiting:{phasedRegistrationNames:{bubbled:keyOf({onWaiting:true}),captured:keyOf({onWaitingCapture:true})}},wheel:{phasedRegistrationNames:{bubbled:keyOf({onWheel:true}),captured:keyOf({onWheelCapture:true})}}};var topLevelEventsToDispatchConfig={topAbort:eventTypes.abort,topBlur:eventTypes.blur,topCanPlay:eventTypes.canPlay,topCanPlayThrough:eventTypes.canPlayThrough,topClick:eventTypes.click,topContextMenu:eventTypes.contextMenu,topCopy:eventTypes.copy,topCut:eventTypes.cut,topDoubleClick:eventTypes.doubleClick,topDrag:eventTypes.drag,topDragEnd:eventTypes.dragEnd,topDragEnter:eventTypes.dragEnter,topDragExit:eventTypes.dragExit,topDragLeave:eventTypes.dragLeave,topDragOver:eventTypes.dragOver,topDragStart:eventTypes.dragStart,topDrop:eventTypes.drop,topDurationChange:eventTypes.durationChange,topEmptied:eventTypes.emptied,topEncrypted:eventTypes.encrypted,topEnded:eventTypes.ended,topError:eventTypes.error,topFocus:eventTypes.focus,topInput:eventTypes.input,topKeyDown:eventTypes.keyDown,topKeyPress:eventTypes.keyPress,topKeyUp:eventTypes.keyUp,topLoad:eventTypes.load,topLoadedData:eventTypes.loadedData,topLoadedMetadata:eventTypes.loadedMetadata,topLoadStart:eventTypes.loadStart,topMouseDown:eventTypes.mouseDown,topMouseMove:eventTypes.mouseMove,topMouseOut:eventTypes.mouseOut,topMouseOver:eventTypes.mouseOver,topMouseUp:eventTypes.mouseUp,topPaste:eventTypes.paste,topPause:eventTypes.pause,topPlay:eventTypes.play,topPlaying:eventTypes.playing,topProgress:eventTypes.progress,topRateChange:eventTypes.rateChange,topReset:eventTypes.reset,topScroll:eventTypes.scroll,topSeeked:eventTypes.seeked,topSeeking:eventTypes.seeking,topStalled:eventTypes.stalled,topSubmit:eventTypes.submit,topSuspend:eventTypes.suspend,topTimeUpdate:eventTypes.timeUpdate,topTouchCancel:eventTypes.touchCancel,topTouchEnd:eventTypes.touchEnd,topTouchMove:eventTypes.touchMove,topTouchStart:eventTypes.touchStart,topVolumeChange:eventTypes.volumeChange,topWaiting:eventTypes.waiting,topWheel:eventTypes.wheel};for(var type in topLevelEventsToDispatchConfig){topLevelEventsToDispatchConfig[type].dependencies=[type];}
var ON_CLICK_KEY=keyOf({onClick:null});var onClickListeners={};var SimpleEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var dispatchConfig=topLevelEventsToDispatchConfig[topLevelType];if(!dispatchConfig){return null;}
var EventConstructor;switch(topLevelType){case topLevelTypes.topAbort:case topLevelTypes.topCanPlay:case topLevelTypes.topCanPlayThrough:case topLevelTypes.topDurationChange:case topLevelTypes.topEmptied:case topLevelTypes.topEncrypted:case topLevelTypes.topEnded:case topLevelTypes.topError:case topLevelTypes.topInput:case topLevelTypes.topLoad:case topLevelTypes.topLoadedData:case topLevelTypes.topLoadedMetadata:case topLevelTypes.topLoadStart:case topLevelTypes.topPause:case topLevelTypes.topPlay:case topLevelTypes.topPlaying:case topLevelTypes.topProgress:case topLevelTypes.topRateChange:case topLevelTypes.topReset:case topLevelTypes.topSeeked:case topLevelTypes.topSeeking:case topLevelTypes.topStalled:case topLevelTypes.topSubmit:case topLevelTypes.topSuspend:case topLevelTypes.topTimeUpdate:case topLevelTypes.topVolumeChange:case topLevelTypes.topWaiting:EventConstructor=SyntheticEvent;break;case topLevelTypes.topKeyPress:if(getEventCharCode(nativeEvent)===0){return null;}
case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:EventConstructor=SyntheticKeyboardEvent;break;case topLevelTypes.topBlur:case topLevelTypes.topFocus:EventConstructor=SyntheticFocusEvent;break;case topLevelTypes.topClick:if(nativeEvent.button===2){return null;}
case topLevelTypes.topContextMenu:case topLevelTypes.topDoubleClick:case topLevelTypes.topMouseDown:case topLevelTypes.topMouseMove:case topLevelTypes.topMouseOut:case topLevelTypes.topMouseOver:case topLevelTypes.topMouseUp:EventConstructor=SyntheticMouseEvent;break;case topLevelTypes.topDrag:case topLevelTypes.topDragEnd:case topLevelTypes.topDragEnter:case topLevelTypes.topDragExit:case topLevelTypes.topDragLeave:case topLevelTypes.topDragOver:case topLevelTypes.topDragStart:case topLevelTypes.topDrop:EventConstructor=SyntheticDragEvent;break;case topLevelTypes.topTouchCancel:case topLevelTypes.topTouchEnd:case topLevelTypes.topTouchMove:case topLevelTypes.topTouchStart:EventConstructor=SyntheticTouchEvent;break;case topLevelTypes.topScroll:EventConstructor=SyntheticUIEvent;break;case topLevelTypes.topWheel:EventConstructor=SyntheticWheelEvent;break;case topLevelTypes.topCopy:case topLevelTypes.topCut:case topLevelTypes.topPaste:EventConstructor=SyntheticClipboardEvent;break;}
!EventConstructor?"production"!=='production'?invariant(false,'SimpleEventPlugin: Unhandled event type, `%s`.',topLevelType):invariant(false):undefined;var event=EventConstructor.getPooled(dispatchConfig,topLevelTargetID,nativeEvent,nativeEventTarget);EventPropagators.accumulateTwoPhaseDispatches(event);return event;},didPutListener:function(id,registrationName,listener){if(registrationName===ON_CLICK_KEY){var node=ReactMount.getNode(id);if(!onClickListeners[id]){onClickListeners[id]=EventListener.listen(node,'click',emptyFunction);}}},willDeleteListener:function(id,registrationName){if(registrationName===ON_CLICK_KEY){onClickListeners[id].remove();delete onClickListeners[id];}}};module.exports=SimpleEventPlugin;},{"./EventConstants":94,"./EventPropagators":98,"./ReactMount":145,"./SyntheticClipboardEvent":169,"./SyntheticDragEvent":171,"./SyntheticEvent":172,"./SyntheticFocusEvent":173,"./SyntheticKeyboardEvent":175,"./SyntheticMouseEvent":176,"./SyntheticTouchEvent":177,"./SyntheticUIEvent":178,"./SyntheticWheelEvent":179,"./getEventCharCode":191,"fbjs/lib/EventListener":209,"fbjs/lib/emptyFunction":216,"fbjs/lib/invariant":224,"fbjs/lib/keyOf":228}],169:[function(require,module,exports){'use strict';var SyntheticEvent=require('./SyntheticEvent');var ClipboardEventInterface={clipboardData:function(event){return'clipboardData'in event?event.clipboardData:window.clipboardData;}};function SyntheticClipboardEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget);}
SyntheticEvent.augmentClass(SyntheticClipboardEvent,ClipboardEventInterface);module.exports=SyntheticClipboardEvent;},{"./SyntheticEvent":172}],170:[function(require,module,exports){'use strict';var SyntheticEvent=require('./SyntheticEvent');var CompositionEventInterface={data:null};function SyntheticCompositionEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget);}
SyntheticEvent.augmentClass(SyntheticCompositionEvent,CompositionEventInterface);module.exports=SyntheticCompositionEvent;},{"./SyntheticEvent":172}],171:[function(require,module,exports){'use strict';var SyntheticMouseEvent=require('./SyntheticMouseEvent');var DragEventInterface={dataTransfer:null};function SyntheticDragEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget);}
SyntheticMouseEvent.augmentClass(SyntheticDragEvent,DragEventInterface);module.exports=SyntheticDragEvent;},{"./SyntheticMouseEvent":176}],172:[function(require,module,exports){'use strict';var PooledClass=require('./PooledClass');var assign=require('./Object.assign');var emptyFunction=require('fbjs/lib/emptyFunction');var warning=require('fbjs/lib/warning');var EventInterface={type:null,currentTarget:emptyFunction.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(event){return event.timeStamp||Date.now();},defaultPrevented:null,isTrusted:null};function SyntheticEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){this.dispatchConfig=dispatchConfig;this.dispatchMarker=dispatchMarker;this.nativeEvent=nativeEvent;this.target=nativeEventTarget;this.currentTarget=nativeEventTarget;var Interface=this.constructor.Interface;for(var propName in Interface){if(!Interface.hasOwnProperty(propName)){continue;}
var normalize=Interface[propName];if(normalize){this[propName]=normalize(nativeEvent);}else{this[propName]=nativeEvent[propName];}}
var defaultPrevented=nativeEvent.defaultPrevented!=null?nativeEvent.defaultPrevented:nativeEvent.returnValue===false;if(defaultPrevented){this.isDefaultPrevented=emptyFunction.thatReturnsTrue;}else{this.isDefaultPrevented=emptyFunction.thatReturnsFalse;}
this.isPropagationStopped=emptyFunction.thatReturnsFalse;}
assign(SyntheticEvent.prototype,{preventDefault:function(){this.defaultPrevented=true;var event=this.nativeEvent;if("production"!=='production'){"production"!=='production'?warning(event,'This synthetic event is reused for performance reasons. If you\'re '+'seeing this, you\'re calling `preventDefault` on a '+'released/nullified synthetic event. This is a no-op. See '+'https://fb.me/react-event-pooling for more information.'):undefined;}
if(!event){return;}
if(event.preventDefault){event.preventDefault();}else{event.returnValue=false;}
this.isDefaultPrevented=emptyFunction.thatReturnsTrue;},stopPropagation:function(){var event=this.nativeEvent;if("production"!=='production'){"production"!=='production'?warning(event,'This synthetic event is reused for performance reasons. If you\'re '+'seeing this, you\'re calling `stopPropagation` on a '+'released/nullified synthetic event. This is a no-op. See '+'https://fb.me/react-event-pooling for more information.'):undefined;}
if(!event){return;}
if(event.stopPropagation){event.stopPropagation();}else{event.cancelBubble=true;}
this.isPropagationStopped=emptyFunction.thatReturnsTrue;},persist:function(){this.isPersistent=emptyFunction.thatReturnsTrue;},isPersistent:emptyFunction.thatReturnsFalse,destructor:function(){var Interface=this.constructor.Interface;for(var propName in Interface){this[propName]=null;}
this.dispatchConfig=null;this.dispatchMarker=null;this.nativeEvent=null;}});SyntheticEvent.Interface=EventInterface;SyntheticEvent.augmentClass=function(Class,Interface){var Super=this;var prototype=Object.create(Super.prototype);assign(prototype,Class.prototype);Class.prototype=prototype;Class.prototype.constructor=Class;Class.Interface=assign({},Super.Interface,Interface);Class.augmentClass=Super.augmentClass;PooledClass.addPoolingTo(Class,PooledClass.fourArgumentPooler);};PooledClass.addPoolingTo(SyntheticEvent,PooledClass.fourArgumentPooler);module.exports=SyntheticEvent;},{"./Object.assign":102,"./PooledClass":103,"fbjs/lib/emptyFunction":216,"fbjs/lib/warning":235}],173:[function(require,module,exports){'use strict';var SyntheticUIEvent=require('./SyntheticUIEvent');var FocusEventInterface={relatedTarget:null};function SyntheticFocusEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget);}
SyntheticUIEvent.augmentClass(SyntheticFocusEvent,FocusEventInterface);module.exports=SyntheticFocusEvent;},{"./SyntheticUIEvent":178}],174:[function(require,module,exports){'use strict';var SyntheticEvent=require('./SyntheticEvent');var InputEventInterface={data:null};function SyntheticInputEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget);}
SyntheticEvent.augmentClass(SyntheticInputEvent,InputEventInterface);module.exports=SyntheticInputEvent;},{"./SyntheticEvent":172}],175:[function(require,module,exports){'use strict';var SyntheticUIEvent=require('./SyntheticUIEvent');var getEventCharCode=require('./getEventCharCode');var getEventKey=require('./getEventKey');var getEventModifierState=require('./getEventModifierState');var KeyboardEventInterface={key:getEventKey,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:getEventModifierState,charCode:function(event){if(event.type==='keypress'){return getEventCharCode(event);}
return 0;},keyCode:function(event){if(event.type==='keydown'||event.type==='keyup'){return event.keyCode;}
return 0;},which:function(event){if(event.type==='keypress'){return getEventCharCode(event);}
if(event.type==='keydown'||event.type==='keyup'){return event.keyCode;}
return 0;}};function SyntheticKeyboardEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget);}
SyntheticUIEvent.augmentClass(SyntheticKeyboardEvent,KeyboardEventInterface);module.exports=SyntheticKeyboardEvent;},{"./SyntheticUIEvent":178,"./getEventCharCode":191,"./getEventKey":192,"./getEventModifierState":193}],176:[function(require,module,exports){'use strict';var SyntheticUIEvent=require('./SyntheticUIEvent');var ViewportMetrics=require('./ViewportMetrics');var getEventModifierState=require('./getEventModifierState');var MouseEventInterface={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:getEventModifierState,button:function(event){var button=event.button;if('which'in event){return button;}
return button===2?2:button===4?1:0;},buttons:null,relatedTarget:function(event){return event.relatedTarget||(event.fromElement===event.srcElement?event.toElement:event.fromElement);},pageX:function(event){return'pageX'in event?event.pageX:event.clientX+ViewportMetrics.currentScrollLeft;},pageY:function(event){return'pageY'in event?event.pageY:event.clientY+ViewportMetrics.currentScrollTop;}};function SyntheticMouseEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget);}
SyntheticUIEvent.augmentClass(SyntheticMouseEvent,MouseEventInterface);module.exports=SyntheticMouseEvent;},{"./SyntheticUIEvent":178,"./ViewportMetrics":181,"./getEventModifierState":193}],177:[function(require,module,exports){'use strict';var SyntheticUIEvent=require('./SyntheticUIEvent');var getEventModifierState=require('./getEventModifierState');var TouchEventInterface={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:getEventModifierState};function SyntheticTouchEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget);}
SyntheticUIEvent.augmentClass(SyntheticTouchEvent,TouchEventInterface);module.exports=SyntheticTouchEvent;},{"./SyntheticUIEvent":178,"./getEventModifierState":193}],178:[function(require,module,exports){'use strict';var SyntheticEvent=require('./SyntheticEvent');var getEventTarget=require('./getEventTarget');var UIEventInterface={view:function(event){if(event.view){return event.view;}
var target=getEventTarget(event);if(target!=null&&target.window===target){return target;}
var doc=target.ownerDocument;if(doc){return doc.defaultView||doc.parentWindow;}else{return window;}},detail:function(event){return event.detail||0;}};function SyntheticUIEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget);}
SyntheticEvent.augmentClass(SyntheticUIEvent,UIEventInterface);module.exports=SyntheticUIEvent;},{"./SyntheticEvent":172,"./getEventTarget":194}],179:[function(require,module,exports){'use strict';var SyntheticMouseEvent=require('./SyntheticMouseEvent');var WheelEventInterface={deltaX:function(event){return'deltaX'in event?event.deltaX:'wheelDeltaX'in event?-event.wheelDeltaX:0;},deltaY:function(event){return'deltaY'in event?event.deltaY:'wheelDeltaY'in event?-event.wheelDeltaY:'wheelDelta'in event?-event.wheelDelta:0;},deltaZ:null,deltaMode:null};function SyntheticWheelEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget);}
SyntheticMouseEvent.augmentClass(SyntheticWheelEvent,WheelEventInterface);module.exports=SyntheticWheelEvent;},{"./SyntheticMouseEvent":176}],180:[function(require,module,exports){'use strict';var invariant=require('fbjs/lib/invariant');var Mixin={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers();if(this.wrapperInitData){this.wrapperInitData.length=0;}else{this.wrapperInitData=[];}
this._isInTransaction=false;},_isInTransaction:false,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction;},perform:function(method,scope,a,b,c,d,e,f){!!this.isInTransaction()?"production"!=='production'?invariant(false,'Transaction.perform(...): Cannot initialize a transaction when there '+'is already an outstanding transaction.'):invariant(false):undefined;var errorThrown;var ret;try{this._isInTransaction=true;errorThrown=true;this.initializeAll(0);ret=method.call(scope,a,b,c,d,e,f);errorThrown=false;}finally{try{if(errorThrown){try{this.closeAll(0);}catch(err){}}else{this.closeAll(0);}}finally{this._isInTransaction=false;}}
return ret;},initializeAll:function(startIndex){var transactionWrappers=this.transactionWrappers;for(var i=startIndex;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i];try{this.wrapperInitData[i]=Transaction.OBSERVED_ERROR;this.wrapperInitData[i]=wrapper.initialize?wrapper.initialize.call(this):null;}finally{if(this.wrapperInitData[i]===Transaction.OBSERVED_ERROR){try{this.initializeAll(i+1);}catch(err){}}}}},closeAll:function(startIndex){!this.isInTransaction()?"production"!=='production'?invariant(false,'Transaction.closeAll(): Cannot close transaction when none are open.'):invariant(false):undefined;var transactionWrappers=this.transactionWrappers;for(var i=startIndex;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i];var initData=this.wrapperInitData[i];var errorThrown;try{errorThrown=true;if(initData!==Transaction.OBSERVED_ERROR&&wrapper.close){wrapper.close.call(this,initData);}
errorThrown=false;}finally{if(errorThrown){try{this.closeAll(i+1);}catch(e){}}}}
this.wrapperInitData.length=0;}};var Transaction={Mixin:Mixin,OBSERVED_ERROR:{}};module.exports=Transaction;},{"fbjs/lib/invariant":224}],181:[function(require,module,exports){'use strict';var ViewportMetrics={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(scrollPosition){ViewportMetrics.currentScrollLeft=scrollPosition.x;ViewportMetrics.currentScrollTop=scrollPosition.y;}};module.exports=ViewportMetrics;},{}],182:[function(require,module,exports){'use strict';var invariant=require('fbjs/lib/invariant');function accumulateInto(current,next){!(next!=null)?"production"!=='production'?invariant(false,'accumulateInto(...): Accumulated items must not be null or undefined.'):invariant(false):undefined;if(current==null){return next;}
var currentIsArray=Array.isArray(current);var nextIsArray=Array.isArray(next);if(currentIsArray&&nextIsArray){current.push.apply(current,next);return current;}
if(currentIsArray){current.push(next);return current;}
if(nextIsArray){return[current].concat(next);}
return[current,next];}
module.exports=accumulateInto;},{"fbjs/lib/invariant":224}],183:[function(require,module,exports){'use strict';var MOD=65521;function adler32(data){var a=1;var b=0;var i=0;var l=data.length;var m=l&~0x3;while(i<m){for(;i<Math.min(i+4096,m);i+=4){b+=(a+=data.charCodeAt(i))+(a+=data.charCodeAt(i+1))+(a+=data.charCodeAt(i+2))+(a+=data.charCodeAt(i+3));}
a%=MOD;b%=MOD;}
for(;i<l;i++){b+=a+=data.charCodeAt(i);}
a%=MOD;b%=MOD;return a|b<<16;}
module.exports=adler32;},{}],184:[function(require,module,exports){'use strict';var canDefineProperty=false;if("production"!=='production'){try{Object.defineProperty({},'x',{get:function(){}});canDefineProperty=true;}catch(x){}}
module.exports=canDefineProperty;},{}],185:[function(require,module,exports){'use strict';var CSSProperty=require('./CSSProperty');var isUnitlessNumber=CSSProperty.isUnitlessNumber;function dangerousStyleValue(name,value){var isEmpty=value==null||typeof value==='boolean'||value==='';if(isEmpty){return'';}
var isNonNumeric=isNaN(value);if(isNonNumeric||value===0||isUnitlessNumber.hasOwnProperty(name)&&isUnitlessNumber[name]){return''+value;}
if(typeof value==='string'){value=value.trim();}
return value+'px';}
module.exports=dangerousStyleValue;},{"./CSSProperty":83}],186:[function(require,module,exports){'use strict';var assign=require('./Object.assign');var warning=require('fbjs/lib/warning');function deprecated(fnName,newModule,newPackage,ctx,fn){var warned=false;if("production"!=='production'){var newFn=function(){"production"!=='production'?warning(warned,'React.%s is deprecated. Please use %s.%s from require'+'(\'%s\') '+'instead.',fnName,newModule,fnName,newPackage):undefined;warned=true;return fn.apply(ctx,arguments);};return assign(newFn,fn);}
return fn;}
module.exports=deprecated;},{"./Object.assign":102,"fbjs/lib/warning":235}],187:[function(require,module,exports){'use strict';var ESCAPE_LOOKUP={'&':'&amp;','>':'&gt;','<':'&lt;','"':'&quot;','\'':'&#x27;'};var ESCAPE_REGEX=/[&><"']/g;function escaper(match){return ESCAPE_LOOKUP[match];}
function escapeTextContentForBrowser(text){return(''+text).replace(ESCAPE_REGEX,escaper);}
module.exports=escapeTextContentForBrowser;},{}],188:[function(require,module,exports){'use strict';var ReactCurrentOwner=require('./ReactCurrentOwner');var ReactInstanceMap=require('./ReactInstanceMap');var ReactMount=require('./ReactMount');var invariant=require('fbjs/lib/invariant');var warning=require('fbjs/lib/warning');function findDOMNode(componentOrElement){if("production"!=='production'){var owner=ReactCurrentOwner.current;if(owner!==null){"production"!=='production'?warning(owner._warnedAboutRefsInRender,'%s is accessing getDOMNode or findDOMNode inside its render(). '+'render() should be a pure function of props and state. It should '+'never access something that requires stale data from the previous '+'render, such as refs. Move this logic to componentDidMount and '+'componentDidUpdate instead.',owner.getName()||'A component'):undefined;owner._warnedAboutRefsInRender=true;}}
if(componentOrElement==null){return null;}
if(componentOrElement.nodeType===1){return componentOrElement;}
if(ReactInstanceMap.has(componentOrElement)){return ReactMount.getNodeFromInstance(componentOrElement);}
!(componentOrElement.render==null||typeof componentOrElement.render!=='function')?"production"!=='production'?invariant(false,'findDOMNode was called on an unmounted component.'):invariant(false):undefined;!false?"production"!=='production'?invariant(false,'Element appears to be neither ReactComponent nor DOMNode (keys: %s)',Object.keys(componentOrElement)):invariant(false):undefined;}
module.exports=findDOMNode;},{"./ReactCurrentOwner":114,"./ReactInstanceMap":142,"./ReactMount":145,"fbjs/lib/invariant":224,"fbjs/lib/warning":235}],189:[function(require,module,exports){'use strict';var traverseAllChildren=require('./traverseAllChildren');var warning=require('fbjs/lib/warning');function flattenSingleChildIntoContext(traverseContext,child,name){var result=traverseContext;var keyUnique=result[name]===undefined;if("production"!=='production'){"production"!=='production'?warning(keyUnique,'flattenChildren(...): Encountered two children with the same key, '+'`%s`. Child keys must be unique; when two children share a key, only '+'the first child will be used.',name):undefined;}
if(keyUnique&&child!=null){result[name]=child;}}
function flattenChildren(children){if(children==null){return children;}
var result={};traverseAllChildren(children,flattenSingleChildIntoContext,result);return result;}
module.exports=flattenChildren;},{"./traverseAllChildren":207,"fbjs/lib/warning":235}],190:[function(require,module,exports){'use strict';var forEachAccumulated=function(arr,cb,scope){if(Array.isArray(arr)){arr.forEach(cb,scope);}else if(arr){cb.call(scope,arr);}};module.exports=forEachAccumulated;},{}],191:[function(require,module,exports){'use strict';function getEventCharCode(nativeEvent){var charCode;var keyCode=nativeEvent.keyCode;if('charCode'in nativeEvent){charCode=nativeEvent.charCode;if(charCode===0&&keyCode===13){charCode=13;}}else{charCode=keyCode;}
if(charCode>=32||charCode===13){return charCode;}
return 0;}
module.exports=getEventCharCode;},{}],192:[function(require,module,exports){'use strict';var getEventCharCode=require('./getEventCharCode');var normalizeKey={'Esc':'Escape','Spacebar':' ','Left':'ArrowLeft','Up':'ArrowUp','Right':'ArrowRight','Down':'ArrowDown','Del':'Delete','Win':'OS','Menu':'ContextMenu','Apps':'ContextMenu','Scroll':'ScrollLock','MozPrintableKey':'Unidentified'};var translateToKey={8:'Backspace',9:'Tab',12:'Clear',13:'Enter',16:'Shift',17:'Control',18:'Alt',19:'Pause',20:'CapsLock',27:'Escape',32:' ',33:'PageUp',34:'PageDown',35:'End',36:'Home',37:'ArrowLeft',38:'ArrowUp',39:'ArrowRight',40:'ArrowDown',45:'Insert',46:'Delete',112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7',119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'NumLock',145:'ScrollLock',224:'Meta'};function getEventKey(nativeEvent){if(nativeEvent.key){var key=normalizeKey[nativeEvent.key]||nativeEvent.key;if(key!=='Unidentified'){return key;}}
if(nativeEvent.type==='keypress'){var charCode=getEventCharCode(nativeEvent);return charCode===13?'Enter':String.fromCharCode(charCode);}
if(nativeEvent.type==='keydown'||nativeEvent.type==='keyup'){return translateToKey[nativeEvent.keyCode]||'Unidentified';}
return'';}
module.exports=getEventKey;},{"./getEventCharCode":191}],193:[function(require,module,exports){'use strict';var modifierKeyToProp={'Alt':'altKey','Control':'ctrlKey','Meta':'metaKey','Shift':'shiftKey'};function modifierStateGetter(keyArg){var syntheticEvent=this;var nativeEvent=syntheticEvent.nativeEvent;if(nativeEvent.getModifierState){return nativeEvent.getModifierState(keyArg);}
var keyProp=modifierKeyToProp[keyArg];return keyProp?!!nativeEvent[keyProp]:false;}
function getEventModifierState(nativeEvent){return modifierStateGetter;}
module.exports=getEventModifierState;},{}],194:[function(require,module,exports){'use strict';function getEventTarget(nativeEvent){var target=nativeEvent.target||nativeEvent.srcElement||window;return target.nodeType===3?target.parentNode:target;}
module.exports=getEventTarget;},{}],195:[function(require,module,exports){'use strict';var ITERATOR_SYMBOL=typeof Symbol==='function'&&Symbol.iterator;var FAUX_ITERATOR_SYMBOL='@@iterator';function getIteratorFn(maybeIterable){var iteratorFn=maybeIterable&&(ITERATOR_SYMBOL&&maybeIterable[ITERATOR_SYMBOL]||maybeIterable[FAUX_ITERATOR_SYMBOL]);if(typeof iteratorFn==='function'){return iteratorFn;}}
module.exports=getIteratorFn;},{}],196:[function(require,module,exports){'use strict';function getLeafNode(node){while(node&&node.firstChild){node=node.firstChild;}
return node;}
function getSiblingNode(node){while(node){if(node.nextSibling){return node.nextSibling;}
node=node.parentNode;}}
function getNodeForCharacterOffset(root,offset){var node=getLeafNode(root);var nodeStart=0;var nodeEnd=0;while(node){if(node.nodeType===3){nodeEnd=nodeStart+node.textContent.length;if(nodeStart<=offset&&nodeEnd>=offset){return{node:node,offset:offset-nodeStart};}
nodeStart=nodeEnd;}
node=getLeafNode(getSiblingNode(node));}}
module.exports=getNodeForCharacterOffset;},{}],197:[function(require,module,exports){'use strict';var ExecutionEnvironment=require('fbjs/lib/ExecutionEnvironment');var contentKey=null;function getTextContentAccessor(){if(!contentKey&&ExecutionEnvironment.canUseDOM){contentKey='textContent'in document.documentElement?'textContent':'innerText';}
return contentKey;}
module.exports=getTextContentAccessor;},{"fbjs/lib/ExecutionEnvironment":210}],198:[function(require,module,exports){'use strict';var ReactCompositeComponent=require('./ReactCompositeComponent');var ReactEmptyComponent=require('./ReactEmptyComponent');var ReactNativeComponent=require('./ReactNativeComponent');var assign=require('./Object.assign');var invariant=require('fbjs/lib/invariant');var warning=require('fbjs/lib/warning');var ReactCompositeComponentWrapper=function(){};assign(ReactCompositeComponentWrapper.prototype,ReactCompositeComponent.Mixin,{_instantiateReactComponent:instantiateReactComponent});function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name){return' Check the render method of `'+name+'`.';}}
return'';}
function isInternalComponentType(type){return typeof type==='function'&&typeof type.prototype!=='undefined'&&typeof type.prototype.mountComponent==='function'&&typeof type.prototype.receiveComponent==='function';}
function instantiateReactComponent(node){var instance;if(node===null||node===false){instance=new ReactEmptyComponent(instantiateReactComponent);}else if(typeof node==='object'){var element=node;!(element&&(typeof element.type==='function'||typeof element.type==='string'))?"production"!=='production'?invariant(false,'Element type is invalid: expected a string (for built-in components) '+'or a class/function (for composite components) but got: %s.%s',element.type==null?element.type:typeof element.type,getDeclarationErrorAddendum(element._owner)):invariant(false):undefined;if(typeof element.type==='string'){instance=ReactNativeComponent.createInternalComponent(element);}else if(isInternalComponentType(element.type)){instance=new element.type(element);}else{instance=new ReactCompositeComponentWrapper();}}else if(typeof node==='string'||typeof node==='number'){instance=ReactNativeComponent.createInstanceForText(node);}else{!false?"production"!=='production'?invariant(false,'Encountered invalid React node of type %s',typeof node):invariant(false):undefined;}
if("production"!=='production'){"production"!=='production'?warning(typeof instance.construct==='function'&&typeof instance.mountComponent==='function'&&typeof instance.receiveComponent==='function'&&typeof instance.unmountComponent==='function','Only React Components can be mounted.'):undefined;}
instance.construct(node);instance._mountIndex=0;instance._mountImage=null;if("production"!=='production'){instance._isOwnerNecessary=false;instance._warnedAboutRefsInRender=false;}
if("production"!=='production'){if(Object.preventExtensions){Object.preventExtensions(instance);}}
return instance;}
module.exports=instantiateReactComponent;},{"./Object.assign":102,"./ReactCompositeComponent":113,"./ReactEmptyComponent":134,"./ReactNativeComponent":148,"fbjs/lib/invariant":224,"fbjs/lib/warning":235}],199:[function(require,module,exports){'use strict';var ExecutionEnvironment=require('fbjs/lib/ExecutionEnvironment');var useHasFeature;if(ExecutionEnvironment.canUseDOM){useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature('','')!==true;}
function isEventSupported(eventNameSuffix,capture){if(!ExecutionEnvironment.canUseDOM||capture&&!('addEventListener'in document)){return false;}
var eventName='on'+eventNameSuffix;var isSupported=(eventName in document);if(!isSupported){var element=document.createElement('div');element.setAttribute(eventName,'return;');isSupported=typeof element[eventName]==='function';}
if(!isSupported&&useHasFeature&&eventNameSuffix==='wheel'){isSupported=document.implementation.hasFeature('Events.wheel','3.0');}
return isSupported;}
module.exports=isEventSupported;},{"fbjs/lib/ExecutionEnvironment":210}],200:[function(require,module,exports){'use strict';var supportedInputTypes={'color':true,'date':true,'datetime':true,'datetime-local':true,'email':true,'month':true,'number':true,'password':true,'range':true,'search':true,'tel':true,'text':true,'time':true,'url':true,'week':true};function isTextInputElement(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName&&(nodeName==='input'&&supportedInputTypes[elem.type]||nodeName==='textarea');}
module.exports=isTextInputElement;},{}],201:[function(require,module,exports){'use strict';var ReactElement=require('./ReactElement');var invariant=require('fbjs/lib/invariant');function onlyChild(children){!ReactElement.isValidElement(children)?"production"!=='production'?invariant(false,'onlyChild must be passed a children with exactly one child.'):invariant(false):undefined;return children;}
module.exports=onlyChild;},{"./ReactElement":132,"fbjs/lib/invariant":224}],202:[function(require,module,exports){'use strict';var escapeTextContentForBrowser=require('./escapeTextContentForBrowser');function quoteAttributeValueForBrowser(value){return'"'+escapeTextContentForBrowser(value)+'"';}
module.exports=quoteAttributeValueForBrowser;},{"./escapeTextContentForBrowser":187}],203:[function(require,module,exports){'use strict';var ReactMount=require('./ReactMount');module.exports=ReactMount.renderSubtreeIntoContainer;},{"./ReactMount":145}],204:[function(require,module,exports){'use strict';var ExecutionEnvironment=require('fbjs/lib/ExecutionEnvironment');var WHITESPACE_TEST=/^[ \r\n\t\f]/;var NONVISIBLE_TEST=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/;var setInnerHTML=function(node,html){node.innerHTML=html;};if(typeof MSApp!=='undefined'&&MSApp.execUnsafeLocalFunction){setInnerHTML=function(node,html){MSApp.execUnsafeLocalFunction(function(){node.innerHTML=html;});};}
if(ExecutionEnvironment.canUseDOM){var testElement=document.createElement('div');testElement.innerHTML=' ';if(testElement.innerHTML===''){setInnerHTML=function(node,html){if(node.parentNode){node.parentNode.replaceChild(node,node);}
if(WHITESPACE_TEST.test(html)||html[0]==='<'&&NONVISIBLE_TEST.test(html)){node.innerHTML=String.fromCharCode(0xFEFF)+html;var textNode=node.firstChild;if(textNode.data.length===1){node.removeChild(textNode);}else{textNode.deleteData(0,1);}}else{node.innerHTML=html;}};}}
module.exports=setInnerHTML;},{"fbjs/lib/ExecutionEnvironment":210}],205:[function(require,module,exports){'use strict';var ExecutionEnvironment=require('fbjs/lib/ExecutionEnvironment');var escapeTextContentForBrowser=require('./escapeTextContentForBrowser');var setInnerHTML=require('./setInnerHTML');var setTextContent=function(node,text){node.textContent=text;};if(ExecutionEnvironment.canUseDOM){if(!('textContent'in document.documentElement)){setTextContent=function(node,text){setInnerHTML(node,escapeTextContentForBrowser(text));};}}
module.exports=setTextContent;},{"./escapeTextContentForBrowser":187,"./setInnerHTML":204,"fbjs/lib/ExecutionEnvironment":210}],206:[function(require,module,exports){'use strict';function shouldUpdateReactComponent(prevElement,nextElement){var prevEmpty=prevElement===null||prevElement===false;var nextEmpty=nextElement===null||nextElement===false;if(prevEmpty||nextEmpty){return prevEmpty===nextEmpty;}
var prevType=typeof prevElement;var nextType=typeof nextElement;if(prevType==='string'||prevType==='number'){return nextType==='string'||nextType==='number';}else{return nextType==='object'&&prevElement.type===nextElement.type&&prevElement.key===nextElement.key;}
return false;}
module.exports=shouldUpdateReactComponent;},{}],207:[function(require,module,exports){'use strict';var ReactCurrentOwner=require('./ReactCurrentOwner');var ReactElement=require('./ReactElement');var ReactInstanceHandles=require('./ReactInstanceHandles');var getIteratorFn=require('./getIteratorFn');var invariant=require('fbjs/lib/invariant');var warning=require('fbjs/lib/warning');var SEPARATOR=ReactInstanceHandles.SEPARATOR;var SUBSEPARATOR=':';var userProvidedKeyEscaperLookup={'=':'=0','.':'=1',':':'=2'};var userProvidedKeyEscapeRegex=/[=.:]/g;var didWarnAboutMaps=false;function userProvidedKeyEscaper(match){return userProvidedKeyEscaperLookup[match];}
function getComponentKey(component,index){if(component&&component.key!=null){return wrapUserProvidedKey(component.key);}
return index.toString(36);}
function escapeUserProvidedKey(text){return(''+text).replace(userProvidedKeyEscapeRegex,userProvidedKeyEscaper);}
function wrapUserProvidedKey(key){return'$'+escapeUserProvidedKey(key);}
function traverseAllChildrenImpl(children,nameSoFar,callback,traverseContext){var type=typeof children;if(type==='undefined'||type==='boolean'){children=null;}
if(children===null||type==='string'||type==='number'||ReactElement.isValidElement(children)){callback(traverseContext,children,nameSoFar===''?SEPARATOR+getComponentKey(children,0):nameSoFar);return 1;}
var child;var nextName;var subtreeCount=0;var nextNamePrefix=nameSoFar===''?SEPARATOR:nameSoFar+SUBSEPARATOR;if(Array.isArray(children)){for(var i=0;i<children.length;i++){child=children[i];nextName=nextNamePrefix+getComponentKey(child,i);subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext);}}else{var iteratorFn=getIteratorFn(children);if(iteratorFn){var iterator=iteratorFn.call(children);var step;if(iteratorFn!==children.entries){var ii=0;while(!(step=iterator.next()).done){child=step.value;nextName=nextNamePrefix+getComponentKey(child,ii++);subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext);}}else{if("production"!=='production'){"production"!=='production'?warning(didWarnAboutMaps,'Using Maps as children is not yet fully supported. It is an '+'experimental feature that might be removed. Convert it to a '+'sequence / iterable of keyed ReactElements instead.'):undefined;didWarnAboutMaps=true;}
while(!(step=iterator.next()).done){var entry=step.value;if(entry){child=entry[1];nextName=nextNamePrefix+wrapUserProvidedKey(entry[0])+SUBSEPARATOR+getComponentKey(child,0);subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext);}}}}else if(type==='object'){var addendum='';if("production"!=='production'){addendum=' If you meant to render a collection of children, use an array '+'instead or wrap the object using createFragment(object) from the '+'React add-ons.';if(children._isReactElement){addendum=' It looks like you\'re using an element created by a different '+'version of React. Make sure to use only one copy of React.';}
if(ReactCurrentOwner.current){var name=ReactCurrentOwner.current.getName();if(name){addendum+=' Check the render method of `'+name+'`.';}}}
var childrenString=String(children);!false?"production"!=='production'?invariant(false,'Objects are not valid as a React child (found: %s).%s',childrenString==='[object Object]'?'object with keys {'+Object.keys(children).join(', ')+'}':childrenString,addendum):invariant(false):undefined;}}
return subtreeCount;}
function traverseAllChildren(children,callback,traverseContext){if(children==null){return 0;}
return traverseAllChildrenImpl(children,'',callback,traverseContext);}
module.exports=traverseAllChildren;},{"./ReactCurrentOwner":114,"./ReactElement":132,"./ReactInstanceHandles":141,"./getIteratorFn":195,"fbjs/lib/invariant":224,"fbjs/lib/warning":235}],208:[function(require,module,exports){'use strict';var assign=require('./Object.assign');var emptyFunction=require('fbjs/lib/emptyFunction');var warning=require('fbjs/lib/warning');var validateDOMNesting=emptyFunction;if("production"!=='production'){var specialTags=['address','applet','area','article','aside','base','basefont','bgsound','blockquote','body','br','button','caption','center','col','colgroup','dd','details','dir','div','dl','dt','embed','fieldset','figcaption','figure','footer','form','frame','frameset','h1','h2','h3','h4','h5','h6','head','header','hgroup','hr','html','iframe','img','input','isindex','li','link','listing','main','marquee','menu','menuitem','meta','nav','noembed','noframes','noscript','object','ol','p','param','plaintext','pre','script','section','select','source','style','summary','table','tbody','td','template','textarea','tfoot','th','thead','title','tr','track','ul','wbr','xmp'];var inScopeTags=['applet','caption','html','table','td','th','marquee','object','template','foreignObject','desc','title'];var buttonScopeTags=inScopeTags.concat(['button']);var impliedEndTags=['dd','dt','li','option','optgroup','p','rp','rt'];var emptyAncestorInfo={parentTag:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};var updatedAncestorInfo=function(oldInfo,tag,instance){var ancestorInfo=assign({},oldInfo||emptyAncestorInfo);var info={tag:tag,instance:instance};if(inScopeTags.indexOf(tag)!==-1){ancestorInfo.aTagInScope=null;ancestorInfo.buttonTagInScope=null;ancestorInfo.nobrTagInScope=null;}
if(buttonScopeTags.indexOf(tag)!==-1){ancestorInfo.pTagInButtonScope=null;}
if(specialTags.indexOf(tag)!==-1&&tag!=='address'&&tag!=='div'&&tag!=='p'){ancestorInfo.listItemTagAutoclosing=null;ancestorInfo.dlItemTagAutoclosing=null;}
ancestorInfo.parentTag=info;if(tag==='form'){ancestorInfo.formTag=info;}
if(tag==='a'){ancestorInfo.aTagInScope=info;}
if(tag==='button'){ancestorInfo.buttonTagInScope=info;}
if(tag==='nobr'){ancestorInfo.nobrTagInScope=info;}
if(tag==='p'){ancestorInfo.pTagInButtonScope=info;}
if(tag==='li'){ancestorInfo.listItemTagAutoclosing=info;}
if(tag==='dd'||tag==='dt'){ancestorInfo.dlItemTagAutoclosing=info;}
return ancestorInfo;};var isTagValidWithParent=function(tag,parentTag){switch(parentTag){case'select':return tag==='option'||tag==='optgroup'||tag==='#text';case'optgroup':return tag==='option'||tag==='#text';case'option':return tag==='#text';case'tr':return tag==='th'||tag==='td'||tag==='style'||tag==='script'||tag==='template';case'tbody':case'thead':case'tfoot':return tag==='tr'||tag==='style'||tag==='script'||tag==='template';case'colgroup':return tag==='col'||tag==='template';case'table':return tag==='caption'||tag==='colgroup'||tag==='tbody'||tag==='tfoot'||tag==='thead'||tag==='style'||tag==='script'||tag==='template';case'head':return tag==='base'||tag==='basefont'||tag==='bgsound'||tag==='link'||tag==='meta'||tag==='title'||tag==='noscript'||tag==='noframes'||tag==='style'||tag==='script'||tag==='template';case'html':return tag==='head'||tag==='body';}
switch(tag){case'h1':case'h2':case'h3':case'h4':case'h5':case'h6':return parentTag!=='h1'&&parentTag!=='h2'&&parentTag!=='h3'&&parentTag!=='h4'&&parentTag!=='h5'&&parentTag!=='h6';case'rp':case'rt':return impliedEndTags.indexOf(parentTag)===-1;case'caption':case'col':case'colgroup':case'frame':case'head':case'tbody':case'td':case'tfoot':case'th':case'thead':case'tr':return parentTag==null;}
return true;};var findInvalidAncestorForTag=function(tag,ancestorInfo){switch(tag){case'address':case'article':case'aside':case'blockquote':case'center':case'details':case'dialog':case'dir':case'div':case'dl':case'fieldset':case'figcaption':case'figure':case'footer':case'header':case'hgroup':case'main':case'menu':case'nav':case'ol':case'p':case'section':case'summary':case'ul':case'pre':case'listing':case'table':case'hr':case'xmp':case'h1':case'h2':case'h3':case'h4':case'h5':case'h6':return ancestorInfo.pTagInButtonScope;case'form':return ancestorInfo.formTag||ancestorInfo.pTagInButtonScope;case'li':return ancestorInfo.listItemTagAutoclosing;case'dd':case'dt':return ancestorInfo.dlItemTagAutoclosing;case'button':return ancestorInfo.buttonTagInScope;case'a':return ancestorInfo.aTagInScope;case'nobr':return ancestorInfo.nobrTagInScope;}
return null;};var findOwnerStack=function(instance){if(!instance){return[];}
var stack=[];do{stack.push(instance);}while(instance=instance._currentElement._owner);stack.reverse();return stack;};var didWarn={};validateDOMNesting=function(childTag,childInstance,ancestorInfo){ancestorInfo=ancestorInfo||emptyAncestorInfo;var parentInfo=ancestorInfo.parentTag;var parentTag=parentInfo&&parentInfo.tag;var invalidParent=isTagValidWithParent(childTag,parentTag)?null:parentInfo;var invalidAncestor=invalidParent?null:findInvalidAncestorForTag(childTag,ancestorInfo);var problematic=invalidParent||invalidAncestor;if(problematic){var ancestorTag=problematic.tag;var ancestorInstance=problematic.instance;var childOwner=childInstance&&childInstance._currentElement._owner;var ancestorOwner=ancestorInstance&&ancestorInstance._currentElement._owner;var childOwners=findOwnerStack(childOwner);var ancestorOwners=findOwnerStack(ancestorOwner);var minStackLen=Math.min(childOwners.length,ancestorOwners.length);var i;var deepestCommon=-1;for(i=0;i<minStackLen;i++){if(childOwners[i]===ancestorOwners[i]){deepestCommon=i;}else{break;}}
var UNKNOWN='(unknown)';var childOwnerNames=childOwners.slice(deepestCommon+1).map(function(inst){return inst.getName()||UNKNOWN;});var ancestorOwnerNames=ancestorOwners.slice(deepestCommon+1).map(function(inst){return inst.getName()||UNKNOWN;});var ownerInfo=[].concat(deepestCommon!==-1?childOwners[deepestCommon].getName()||UNKNOWN:[],ancestorOwnerNames,ancestorTag,invalidAncestor?['...']:[],childOwnerNames,childTag).join(' > ');var warnKey=!!invalidParent+'|'+childTag+'|'+ancestorTag+'|'+ownerInfo;if(didWarn[warnKey]){return;}
didWarn[warnKey]=true;if(invalidParent){var info='';if(ancestorTag==='table'&&childTag==='tr'){info+=' Add a <tbody> to your code to match the DOM tree generated by '+'the browser.';}"production"!=='production'?warning(false,'validateDOMNesting(...): <%s> cannot appear as a child of <%s>. '+'See %s.%s',childTag,ancestorTag,ownerInfo,info):undefined;}else{"production"!=='production'?warning(false,'validateDOMNesting(...): <%s> cannot appear as a descendant of '+'<%s>. See %s.',childTag,ancestorTag,ownerInfo):undefined;}}};validateDOMNesting.ancestorInfoContextKey='__validateDOMNesting_ancestorInfo$'+Math.random().toString(36).slice(2);validateDOMNesting.updatedAncestorInfo=updatedAncestorInfo;validateDOMNesting.isTagValidInContext=function(tag,ancestorInfo){ancestorInfo=ancestorInfo||emptyAncestorInfo;var parentInfo=ancestorInfo.parentTag;var parentTag=parentInfo&&parentInfo.tag;return isTagValidWithParent(tag,parentTag)&&!findInvalidAncestorForTag(tag,ancestorInfo);};}
module.exports=validateDOMNesting;},{"./Object.assign":102,"fbjs/lib/emptyFunction":216,"fbjs/lib/warning":235}],209:[function(require,module,exports){'use strict';var emptyFunction=require('./emptyFunction');var EventListener={listen:function(target,eventType,callback){if(target.addEventListener){target.addEventListener(eventType,callback,false);return{remove:function(){target.removeEventListener(eventType,callback,false);}};}else if(target.attachEvent){target.attachEvent('on'+eventType,callback);return{remove:function(){target.detachEvent('on'+eventType,callback);}};}},capture:function(target,eventType,callback){if(target.addEventListener){target.addEventListener(eventType,callback,true);return{remove:function(){target.removeEventListener(eventType,callback,true);}};}else{if("production"!=='production'){console.error('Attempted to listen to events during the capture phase on a '+'browser that does not support the capture phase. Your application '+'will not receive some events.');}
return{remove:emptyFunction};}},registerDefault:function(){}};module.exports=EventListener;},{"./emptyFunction":216}],210:[function(require,module,exports){'use strict';var canUseDOM=!!(typeof window!=='undefined'&&window.document&&window.document.createElement);var ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:typeof Worker!=='undefined',canUseEventListeners:canUseDOM&&!!(window.addEventListener||window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM};module.exports=ExecutionEnvironment;},{}],211:[function(require,module,exports){"use strict";var _hyphenPattern=/-(.)/g;function camelize(string){return string.replace(_hyphenPattern,function(_,character){return character.toUpperCase();});}
module.exports=camelize;},{}],212:[function(require,module,exports){'use strict';var camelize=require('./camelize');var msPattern=/^-ms-/;function camelizeStyleName(string){return camelize(string.replace(msPattern,'ms-'));}
module.exports=camelizeStyleName;},{"./camelize":211}],213:[function(require,module,exports){'use strict';var isTextNode=require('./isTextNode');function containsNode(_x,_x2){var _again=true;_function:while(_again){var outerNode=_x,innerNode=_x2;_again=false;if(!outerNode||!innerNode){return false;}else if(outerNode===innerNode){return true;}else if(isTextNode(outerNode)){return false;}else if(isTextNode(innerNode)){_x=outerNode;_x2=innerNode.parentNode;_again=true;continue _function;}else if(outerNode.contains){return outerNode.contains(innerNode);}else if(outerNode.compareDocumentPosition){return!!(outerNode.compareDocumentPosition(innerNode)&16);}else{return false;}}}
module.exports=containsNode;},{"./isTextNode":226}],214:[function(require,module,exports){'use strict';var toArray=require('./toArray');function hasArrayNature(obj){return(!!obj&&(typeof obj=='object'||typeof obj=='function')&&'length'in obj&&!('setInterval'in obj)&&typeof obj.nodeType!='number'&&(Array.isArray(obj)||'callee'in obj||'item'in obj));}
function createArrayFromMixed(obj){if(!hasArrayNature(obj)){return[obj];}else if(Array.isArray(obj)){return obj.slice();}else{return toArray(obj);}}
module.exports=createArrayFromMixed;},{"./toArray":234}],215:[function(require,module,exports){'use strict';var ExecutionEnvironment=require('./ExecutionEnvironment');var createArrayFromMixed=require('./createArrayFromMixed');var getMarkupWrap=require('./getMarkupWrap');var invariant=require('./invariant');var dummyNode=ExecutionEnvironment.canUseDOM?document.createElement('div'):null;var nodeNamePattern=/^\s*<(\w+)/;function getNodeName(markup){var nodeNameMatch=markup.match(nodeNamePattern);return nodeNameMatch&&nodeNameMatch[1].toLowerCase();}
function createNodesFromMarkup(markup,handleScript){var node=dummyNode;!!!dummyNode?"production"!=='production'?invariant(false,'createNodesFromMarkup dummy not initialized'):invariant(false):undefined;var nodeName=getNodeName(markup);var wrap=nodeName&&getMarkupWrap(nodeName);if(wrap){node.innerHTML=wrap[1]+markup+wrap[2];var wrapDepth=wrap[0];while(wrapDepth--){node=node.lastChild;}}else{node.innerHTML=markup;}
var scripts=node.getElementsByTagName('script');if(scripts.length){!handleScript?"production"!=='production'?invariant(false,'createNodesFromMarkup(...): Unexpected <script> element rendered.'):invariant(false):undefined;createArrayFromMixed(scripts).forEach(handleScript);}
var nodes=createArrayFromMixed(node.childNodes);while(node.lastChild){node.removeChild(node.lastChild);}
return nodes;}
module.exports=createNodesFromMarkup;},{"./ExecutionEnvironment":210,"./createArrayFromMixed":214,"./getMarkupWrap":220,"./invariant":224}],216:[function(require,module,exports){"use strict";function makeEmptyFunction(arg){return function(){return arg;};}
function emptyFunction(){}
emptyFunction.thatReturns=makeEmptyFunction;emptyFunction.thatReturnsFalse=makeEmptyFunction(false);emptyFunction.thatReturnsTrue=makeEmptyFunction(true);emptyFunction.thatReturnsNull=makeEmptyFunction(null);emptyFunction.thatReturnsThis=function(){return this;};emptyFunction.thatReturnsArgument=function(arg){return arg;};module.exports=emptyFunction;},{}],217:[function(require,module,exports){'use strict';var emptyObject={};if("production"!=='production'){Object.freeze(emptyObject);}
module.exports=emptyObject;},{}],218:[function(require,module,exports){'use strict';function focusNode(node){try{node.focus();}catch(e){}}
module.exports=focusNode;},{}],219:[function(require,module,exports){'use strict';function getActiveElement(){if(typeof document==='undefined'){return null;}
try{return document.activeElement||document.body;}catch(e){return document.body;}}
module.exports=getActiveElement;},{}],220:[function(require,module,exports){'use strict';var ExecutionEnvironment=require('./ExecutionEnvironment');var invariant=require('./invariant');var dummyNode=ExecutionEnvironment.canUseDOM?document.createElement('div'):null;var shouldWrap={};var selectWrap=[1,'<select multiple="true">','</select>'];var tableWrap=[1,'<table>','</table>'];var trWrap=[3,'<table><tbody><tr>','</tr></tbody></table>'];var svgWrap=[1,'<svg xmlns="http://www.w3.org/2000/svg">','</svg>'];var markupWrap={'*':[1,'?<div>','</div>'],'area':[1,'<map>','</map>'],'col':[2,'<table><tbody></tbody><colgroup>','</colgroup></table>'],'legend':[1,'<fieldset>','</fieldset>'],'param':[1,'<object>','</object>'],'tr':[2,'<table><tbody>','</tbody></table>'],'optgroup':selectWrap,'option':selectWrap,'caption':tableWrap,'colgroup':tableWrap,'tbody':tableWrap,'tfoot':tableWrap,'thead':tableWrap,'td':trWrap,'th':trWrap};var svgElements=['circle','clipPath','defs','ellipse','g','image','line','linearGradient','mask','path','pattern','polygon','polyline','radialGradient','rect','stop','text','tspan'];svgElements.forEach(function(nodeName){markupWrap[nodeName]=svgWrap;shouldWrap[nodeName]=true;});function getMarkupWrap(nodeName){!!!dummyNode?"production"!=='production'?invariant(false,'Markup wrapping node not initialized'):invariant(false):undefined;if(!markupWrap.hasOwnProperty(nodeName)){nodeName='*';}
if(!shouldWrap.hasOwnProperty(nodeName)){if(nodeName==='*'){dummyNode.innerHTML='<link />';}else{dummyNode.innerHTML='<'+nodeName+'></'+nodeName+'>';}
shouldWrap[nodeName]=!dummyNode.firstChild;}
return shouldWrap[nodeName]?markupWrap[nodeName]:null;}
module.exports=getMarkupWrap;},{"./ExecutionEnvironment":210,"./invariant":224}],221:[function(require,module,exports){'use strict';function getUnboundedScrollPosition(scrollable){if(scrollable===window){return{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop};}
return{x:scrollable.scrollLeft,y:scrollable.scrollTop};}
module.exports=getUnboundedScrollPosition;},{}],222:[function(require,module,exports){'use strict';var _uppercasePattern=/([A-Z])/g;function hyphenate(string){return string.replace(_uppercasePattern,'-$1').toLowerCase();}
module.exports=hyphenate;},{}],223:[function(require,module,exports){'use strict';var hyphenate=require('./hyphenate');var msPattern=/^ms-/;function hyphenateStyleName(string){return hyphenate(string).replace(msPattern,'-ms-');}
module.exports=hyphenateStyleName;},{"./hyphenate":222}],224:[function(require,module,exports){'use strict';var invariant=function(condition,format,a,b,c,d,e,f){if("production"!=='production'){if(format===undefined){throw new Error('invariant requires an error message argument');}}
if(!condition){var error;if(format===undefined){error=new Error('Minified exception occurred; use the non-minified dev environment '+'for the full error message and additional helpful warnings.');}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error('Invariant Violation: '+format.replace(/%s/g,function(){return args[argIndex++];}));}
error.framesToPop=1;throw error;}};module.exports=invariant;},{}],225:[function(require,module,exports){'use strict';function isNode(object){return!!(object&&(typeof Node==='function'?object instanceof Node:typeof object==='object'&&typeof object.nodeType==='number'&&typeof object.nodeName==='string'));}
module.exports=isNode;},{}],226:[function(require,module,exports){'use strict';var isNode=require('./isNode');function isTextNode(object){return isNode(object)&&object.nodeType==3;}
module.exports=isTextNode;},{"./isNode":225}],227:[function(require,module,exports){'use strict';var invariant=require('./invariant');var keyMirror=function(obj){var ret={};var key;!(obj instanceof Object&&!Array.isArray(obj))?"production"!=='production'?invariant(false,'keyMirror(...): Argument must be an object.'):invariant(false):undefined;for(key in obj){if(!obj.hasOwnProperty(key)){continue;}
ret[key]=key;}
return ret;};module.exports=keyMirror;},{"./invariant":224}],228:[function(require,module,exports){"use strict";var keyOf=function(oneKeyObj){var key;for(key in oneKeyObj){if(!oneKeyObj.hasOwnProperty(key)){continue;}
return key;}
return null;};module.exports=keyOf;},{}],229:[function(require,module,exports){'use strict';var hasOwnProperty=Object.prototype.hasOwnProperty;function mapObject(object,callback,context){if(!object){return null;}
var result={};for(var name in object){if(hasOwnProperty.call(object,name)){result[name]=callback.call(context,object[name],name,object);}}
return result;}
module.exports=mapObject;},{}],230:[function(require,module,exports){'use strict';function memoizeStringOnly(callback){var cache={};return function(string){if(!cache.hasOwnProperty(string)){cache[string]=callback.call(this,string);}
return cache[string];};}
module.exports=memoizeStringOnly;},{}],231:[function(require,module,exports){'use strict';var ExecutionEnvironment=require('./ExecutionEnvironment');var performance;if(ExecutionEnvironment.canUseDOM){performance=window.performance||window.msPerformance||window.webkitPerformance;}
module.exports=performance||{};},{"./ExecutionEnvironment":210}],232:[function(require,module,exports){'use strict';var performance=require('./performance');var curPerformance=performance;if(!curPerformance||!curPerformance.now){curPerformance=Date;}
var performanceNow=curPerformance.now.bind(curPerformance);module.exports=performanceNow;},{"./performance":231}],233:[function(require,module,exports){'use strict';var hasOwnProperty=Object.prototype.hasOwnProperty;function shallowEqual(objA,objB){if(objA===objB){return true;}
if(typeof objA!=='object'||objA===null||typeof objB!=='object'||objB===null){return false;}
var keysA=Object.keys(objA);var keysB=Object.keys(objB);if(keysA.length!==keysB.length){return false;}
var bHasOwnProperty=hasOwnProperty.bind(objB);for(var i=0;i<keysA.length;i++){if(!bHasOwnProperty(keysA[i])||objA[keysA[i]]!==objB[keysA[i]]){return false;}}
return true;}
module.exports=shallowEqual;},{}],234:[function(require,module,exports){'use strict';var invariant=require('./invariant');function toArray(obj){var length=obj.length;!(!Array.isArray(obj)&&(typeof obj==='object'||typeof obj==='function'))?"production"!=='production'?invariant(false,'toArray: Array-like object expected'):invariant(false):undefined;!(typeof length==='number')?"production"!=='production'?invariant(false,'toArray: Object needs a length property'):invariant(false):undefined;!(length===0||length-1 in obj)?"production"!=='production'?invariant(false,'toArray: Object should have keys for indices'):invariant(false):undefined;if(obj.hasOwnProperty){try{return Array.prototype.slice.call(obj);}catch(e){}}
var ret=Array(length);for(var ii=0;ii<length;ii++){ret[ii]=obj[ii];}
return ret;}
module.exports=toArray;},{"./invariant":224}],235:[function(require,module,exports){'use strict';var emptyFunction=require('./emptyFunction');var warning=emptyFunction;if("production"!=='production'){warning=function(condition,format){for(var _len=arguments.length,args=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){args[_key-2]=arguments[_key];}
if(format===undefined){throw new Error('`warning(condition, format, ...args)` requires a warning '+'message argument');}
if(format.indexOf('Failed Composite propType: ')===0){return;}
if(!condition){var argIndex=0;var message='Warning: '+format.replace(/%s/g,function(){return args[argIndex++];});if(typeof console!=='undefined'){console.error(message);}
try{throw new Error(message);}catch(x){}}};}
module.exports=warning;},{"./emptyFunction":216}],236:[function(require,module,exports){'use strict';module.exports=require('./lib/React');},{"./lib/React":104}],237:[function(require,module,exports){'use strict';exports.__esModule=true;exports['default']=createAction;function identity(t){return t;}
function createAction(type,actionCreator,metaCreator){var finalActionCreator=typeof actionCreator==='function'?actionCreator:identity;return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}
var action={type:type,payload:finalActionCreator.apply(undefined,args)};if(args.length===1&&args[0]instanceof Error){action.error=true;}
if(typeof metaCreator==='function'){action.meta=metaCreator.apply(undefined,args);}
return action;};}
module.exports=exports['default'];},{}],238:[function(require,module,exports){'use strict';exports.__esModule=true;exports['default']=handleAction;var _fluxStandardAction=require('flux-standard-action');function isFunction(val){return typeof val==='function';}
function handleAction(type,reducers){return function(state,action){if(action.type!==type)return state;var handlerKey=_fluxStandardAction.isError(action)?'throw':'next';if(isFunction(reducers)){reducers.next=reducers['throw']=reducers;}
var reducer=reducers[handlerKey];return isFunction(reducer)?reducer(state,action):state;};}
module.exports=exports['default'];},{"flux-standard-action":242}],239:[function(require,module,exports){'use strict';exports.__esModule=true;exports['default']=handleActions;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _handleAction=require('./handleAction');var _handleAction2=_interopRequireDefault(_handleAction);var _ownKeys=require('./ownKeys');var _ownKeys2=_interopRequireDefault(_ownKeys);var _reduceReducers=require('reduce-reducers');var _reduceReducers2=_interopRequireDefault(_reduceReducers);function handleActions(handlers,defaultState){var reducers=_ownKeys2['default'](handlers).map(function(type){return _handleAction2['default'](type,handlers[type]);});return typeof defaultState!=='undefined'?function(state,action){if(state===undefined)state=defaultState;return _reduceReducers2['default'].apply(undefined,reducers)(state,action);}:_reduceReducers2['default'].apply(undefined,reducers);}
module.exports=exports['default'];},{"./handleAction":238,"./ownKeys":241,"reduce-reducers":248}],240:[function(require,module,exports){'use strict';exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _createAction=require('./createAction');var _createAction2=_interopRequireDefault(_createAction);var _handleAction=require('./handleAction');var _handleAction2=_interopRequireDefault(_handleAction);var _handleActions=require('./handleActions');var _handleActions2=_interopRequireDefault(_handleActions);exports.createAction=_createAction2['default'];exports.handleAction=_handleAction2['default'];exports.handleActions=_handleActions2['default'];},{"./createAction":237,"./handleAction":238,"./handleActions":239}],241:[function(require,module,exports){'use strict';exports.__esModule=true;exports['default']=ownKeys;function ownKeys(object){if(typeof Reflect!=='undefined'&&typeof Reflect.ownKeys==='function'){return Reflect.ownKeys(object);}
var keys=Object.getOwnPropertyNames(object);if(typeof Object.getOwnPropertySymbols==='function'){keys=keys.concat(Object.getOwnPropertySymbols(object));}
return keys;}
module.exports=exports['default'];},{}],242:[function(require,module,exports){'use strict';exports.__esModule=true;exports.isFSA=isFSA;exports.isError=isError;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _lodashIsplainobject=require('lodash.isplainobject');var _lodashIsplainobject2=_interopRequireDefault(_lodashIsplainobject);var validKeys=['type','payload','error','meta'];function isValidKey(key){return validKeys.indexOf(key)>-1;}
function isFSA(action){return _lodashIsplainobject2['default'](action)&&typeof action.type!=='undefined'&&Object.keys(action).every(isValidKey);}
function isError(action){return action.error===true;}},{"lodash.isplainobject":243}],243:[function(require,module,exports){var baseFor=require('lodash._basefor'),isArguments=require('lodash.isarguments'),keysIn=require('lodash.keysin');var objectTag='[object Object]';function isObjectLike(value){return!!value&&typeof value=='object';}
var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn);}
function isPlainObject(value){var Ctor;if(!(isObjectLike(value)&&objToString.call(value)==objectTag&&!isArguments(value))||(!hasOwnProperty.call(value,'constructor')&&(Ctor=value.constructor,typeof Ctor=='function'&&!(Ctor instanceof Ctor)))){return false;}
var result;baseForIn(value,function(subValue,key){result=key;});return result===undefined||hasOwnProperty.call(value,result);}
module.exports=isPlainObject;},{"lodash._basefor":244,"lodash.isarguments":245,"lodash.keysin":246}],244:[function(require,module,exports){var baseFor=createBaseFor();function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)){var key=props[index];if(iteratee(iterable[key],key,iterable)===false){break;}}
return object;};}
function toObject(value){return isObject(value)?value:Object(value);}
function isObject(value){var type=typeof value;return!!value&&(type=='object'||type=='function');}
module.exports=baseFor;},{}],245:[function(require,module,exports){function isObjectLike(value){return!!value&&typeof value=='object';}
var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var propertyIsEnumerable=objectProto.propertyIsEnumerable;var MAX_SAFE_INTEGER=9007199254740991;function baseProperty(key){return function(object){return object==null?undefined:object[key];};}
var getLength=baseProperty('length');function isArrayLike(value){return value!=null&&isLength(getLength(value));}
function isLength(value){return typeof value=='number'&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER;}
function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&hasOwnProperty.call(value,'callee')&&!propertyIsEnumerable.call(value,'callee');}
module.exports=isArguments;},{}],246:[function(require,module,exports){var isArguments=require('lodash.isarguments'),isArray=require('lodash.isarray');var reIsUint=/^\d+$/;var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var MAX_SAFE_INTEGER=9007199254740991;function isIndex(value,length){value=(typeof value=='number'||reIsUint.test(value))?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length;}
function isLength(value){return typeof value=='number'&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER;}
function isObject(value){var type=typeof value;return!!value&&(type=='object'||type=='function');}
function keysIn(object){if(object==null){return[];}
if(!isObject(object)){object=Object(object);}
var length=object.length;length=(length&&isLength(length)&&(isArray(object)||isArguments(object))&&length)||0;var Ctor=object.constructor,index=-1,isProto=typeof Ctor=='function'&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;while(++index<length){result[index]=(index+'');}
for(var key in object){if(!(skipIndexes&&isIndex(key,length))&&!(key=='constructor'&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key);}}
return result;}
module.exports=keysIn;},{"lodash.isarguments":245,"lodash.isarray":247}],247:[function(require,module,exports){var arrayTag='[object Array]',funcTag='[object Function]';var reIsHostCtor=/^\[object .+?Constructor\]$/;function isObjectLike(value){return!!value&&typeof value=='object';}
var objectProto=Object.prototype;var fnToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;var reIsNative=RegExp('^'+
fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');var nativeIsArray=getNative(Array,'isArray');var MAX_SAFE_INTEGER=9007199254740991;function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined;}
function isLength(value){return typeof value=='number'&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER;}
var isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag;};function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag;}
function isObject(value){var type=typeof value;return!!value&&(type=='object'||type=='function');}
function isNative(value){if(value==null){return false;}
if(isFunction(value)){return reIsNative.test(fnToString.call(value));}
return isObjectLike(value)&&reIsHostCtor.test(value);}
module.exports=isArray;},{}],248:[function(require,module,exports){"use strict";exports.__esModule=true;exports["default"]=reduceReducers;function reduceReducers(){for(var _len=arguments.length,reducers=Array(_len),_key=0;_key<_len;_key++){reducers[_key]=arguments[_key];}
return function(previous,current){return reducers.reduce(function(p,r){return r(p,current);},previous);};}
module.exports=exports["default"];},{}],249:[function(require,module,exports){'use strict';exports.__esModule=true;exports['default']=createStore;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _utilsIsPlainObject=require('./utils/isPlainObject');var _utilsIsPlainObject2=_interopRequireDefault(_utilsIsPlainObject);var ActionTypes={INIT:'@@redux/INIT'};exports.ActionTypes=ActionTypes;function createStore(reducer,initialState){if(typeof reducer!=='function'){throw new Error('Expected the reducer to be a function.');}
var currentReducer=reducer;var currentState=initialState;var listeners=[];var isDispatching=false;function getState(){return currentState;}
function subscribe(listener){listeners.push(listener);var isSubscribed=true;return function unsubscribe(){if(!isSubscribed){return;}
isSubscribed=false;var index=listeners.indexOf(listener);listeners.splice(index,1);};}
function dispatch(action){if(!_utilsIsPlainObject2['default'](action)){throw new Error('Actions must be plain objects. '+'Use custom middleware for async actions.');}
if(typeof action.type==='undefined'){throw new Error('Actions may not have an undefined "type" property. '+'Have you misspelled a constant?');}
if(isDispatching){throw new Error('Reducers may not dispatch actions.');}
try{isDispatching=true;currentState=currentReducer(currentState,action);}finally{isDispatching=false;}
listeners.slice().forEach(function(listener){return listener();});return action;}
function replaceReducer(nextReducer){currentReducer=nextReducer;dispatch({type:ActionTypes.INIT});}
dispatch({type:ActionTypes.INIT});return{dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:replaceReducer};}},{"./utils/isPlainObject":255}],250:[function(require,module,exports){'use strict';exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _createStore=require('./createStore');var _createStore2=_interopRequireDefault(_createStore);var _utilsCombineReducers=require('./utils/combineReducers');var _utilsCombineReducers2=_interopRequireDefault(_utilsCombineReducers);var _utilsBindActionCreators=require('./utils/bindActionCreators');var _utilsBindActionCreators2=_interopRequireDefault(_utilsBindActionCreators);var _utilsApplyMiddleware=require('./utils/applyMiddleware');var _utilsApplyMiddleware2=_interopRequireDefault(_utilsApplyMiddleware);var _utilsCompose=require('./utils/compose');var _utilsCompose2=_interopRequireDefault(_utilsCompose);exports.createStore=_createStore2['default'];exports.combineReducers=_utilsCombineReducers2['default'];exports.bindActionCreators=_utilsBindActionCreators2['default'];exports.applyMiddleware=_utilsApplyMiddleware2['default'];exports.compose=_utilsCompose2['default'];},{"./createStore":249,"./utils/applyMiddleware":251,"./utils/bindActionCreators":252,"./utils/combineReducers":253,"./utils/compose":254}],251:[function(require,module,exports){'use strict';exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};exports['default']=applyMiddleware;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _compose=require('./compose');var _compose2=_interopRequireDefault(_compose);function applyMiddleware(){for(var _len=arguments.length,middlewares=Array(_len),_key=0;_key<_len;_key++){middlewares[_key]=arguments[_key];}
return function(next){return function(reducer,initialState){var store=next(reducer,initialState);var _dispatch=store.dispatch;var chain=[];var middlewareAPI={getState:store.getState,dispatch:function dispatch(action){return _dispatch(action);}};chain=middlewares.map(function(middleware){return middleware(middlewareAPI);});_dispatch=_compose2['default'].apply(undefined,chain)(store.dispatch);return _extends({},store,{dispatch:_dispatch});};};}
module.exports=exports['default'];},{"./compose":254}],252:[function(require,module,exports){'use strict';exports.__esModule=true;exports['default']=bindActionCreators;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _mapValues=require('./mapValues');var _mapValues2=_interopRequireDefault(_mapValues);function bindActionCreator(actionCreator,dispatch){return function(){return dispatch(actionCreator.apply(undefined,arguments));};}
function bindActionCreators(actionCreators,dispatch){if(typeof actionCreators==='function'){return bindActionCreator(actionCreators,dispatch);}
if(typeof actionCreators!=='object'||actionCreators===null||actionCreators===undefined){throw new Error('bindActionCreators expected an object or a function, instead received '+(actionCreators===null?'null':typeof actionCreators)+'. '+'Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');}
return _mapValues2['default'](actionCreators,function(actionCreator){return bindActionCreator(actionCreator,dispatch);});}
module.exports=exports['default'];},{"./mapValues":256}],253:[function(require,module,exports){(function(process){'use strict';exports.__esModule=true;exports['default']=combineReducers;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}
var _createStore=require('../createStore');var _isPlainObject=require('./isPlainObject');var _isPlainObject2=_interopRequireDefault(_isPlainObject);var _mapValues=require('./mapValues');var _mapValues2=_interopRequireDefault(_mapValues);var _pick=require('./pick');var _pick2=_interopRequireDefault(_pick);function getUndefinedStateErrorMessage(key,action){var actionType=action&&action.type;var actionName=actionType&&'"'+actionType.toString()+'"'||'an action';return'Reducer "'+key+'" returned undefined handling '+actionName+'. '+'To ignore an action, you must explicitly return the previous state.';}
function getUnexpectedStateKeyWarningMessage(inputState,outputState,action){var reducerKeys=Object.keys(outputState);var argumentName=action&&action.type===_createStore.ActionTypes.INIT?'initialState argument passed to createStore':'previous state received by the reducer';if(reducerKeys.length===0){return'Store does not have a valid reducer. Make sure the argument passed '+'to combineReducers is an object whose values are reducers.';}
if(!_isPlainObject2['default'](inputState)){return'The '+argumentName+' has unexpected type of "'+({}).toString.call(inputState).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+reducerKeys.join('", "')+'"');}
var unexpectedKeys=Object.keys(inputState).filter(function(key){return reducerKeys.indexOf(key)<0;});if(unexpectedKeys.length>0){return'Unexpected '+(unexpectedKeys.length>1?'keys':'key')+' '+('"'+unexpectedKeys.join('", "')+'" found in '+argumentName+'. ')+'Expected to find one of the known reducer keys instead: '+('"'+reducerKeys.join('", "')+'". Unexpected keys will be ignored.');}}
function assertReducerSanity(reducers){Object.keys(reducers).forEach(function(key){var reducer=reducers[key];var initialState=reducer(undefined,{type:_createStore.ActionTypes.INIT});if(typeof initialState==='undefined'){throw new Error('Reducer "'+key+'" returned undefined during initialization. '+'If the state passed to the reducer is undefined, you must '+'explicitly return the initial state. The initial state may '+'not be undefined.');}
var type='@@redux/PROBE_UNKNOWN_ACTION_'+Math.random().toString(36).substring(7).split('').join('.');if(typeof reducer(undefined,{type:type})==='undefined'){throw new Error('Reducer "'+key+'" returned undefined when probed with a random type. '+('Don\'t try to handle '+_createStore.ActionTypes.INIT+' or other actions in "redux/*" ')+'namespace. They are considered private. Instead, you must return the '+'current state for any unknown actions, unless it is undefined, '+'in which case you must return the initial state, regardless of the '+'action type. The initial state may not be undefined.');}});}
function combineReducers(reducers){var finalReducers=_pick2['default'](reducers,function(val){return typeof val==='function';});var sanityError;try{assertReducerSanity(finalReducers);}catch(e){sanityError=e;}
var defaultState=_mapValues2['default'](finalReducers,function(){return undefined;});return function combination(state,action){if(state===undefined)state=defaultState;if(sanityError){throw sanityError;}
var hasChanged=false;var finalState=_mapValues2['default'](finalReducers,function(reducer,key){var previousStateForKey=state[key];var nextStateForKey=reducer(previousStateForKey,action);if(typeof nextStateForKey==='undefined'){var errorMessage=getUndefinedStateErrorMessage(key,action);throw new Error(errorMessage);}
hasChanged=hasChanged||nextStateForKey!==previousStateForKey;return nextStateForKey;});if(process.env.NODE_ENV!=='production'){var warningMessage=getUnexpectedStateKeyWarningMessage(state,finalState,action);if(warningMessage){console.error(warningMessage);}}
return hasChanged?finalState:state;};}
module.exports=exports['default'];}).call(this,require('_process'))},{"../createStore":249,"./isPlainObject":255,"./mapValues":256,"./pick":257,"_process":8}],254:[function(require,module,exports){"use strict";exports.__esModule=true;exports["default"]=compose;function compose(){for(var _len=arguments.length,funcs=Array(_len),_key=0;_key<_len;_key++){funcs[_key]=arguments[_key];}
return function(arg){return funcs.reduceRight(function(composed,f){return f(composed);},arg);};}
module.exports=exports["default"];},{}],255:[function(require,module,exports){'use strict';exports.__esModule=true;exports['default']=isPlainObject;var fnToString=function fnToString(fn){return Function.prototype.toString.call(fn);};var objStringValue=fnToString(Object);function isPlainObject(obj){if(!obj||typeof obj!=='object'){return false;}
var proto=typeof obj.constructor==='function'?Object.getPrototypeOf(obj):Object.prototype;if(proto===null){return true;}
var constructor=proto.constructor;return typeof constructor==='function'&&constructor instanceof constructor&&fnToString(constructor)===objStringValue;}
module.exports=exports['default'];},{}],256:[function(require,module,exports){"use strict";exports.__esModule=true;exports["default"]=mapValues;function mapValues(obj,fn){return Object.keys(obj).reduce(function(result,key){result[key]=fn(obj[key],key);return result;},{});}
module.exports=exports["default"];},{}],257:[function(require,module,exports){"use strict";exports.__esModule=true;exports["default"]=pick;function pick(obj,fn){return Object.keys(obj).reduce(function(result,key){if(fn(obj[key])){result[key]=obj[key];}
return result;},{});}
module.exports=exports["default"];},{}],258:[function(require,module,exports){"use strict";var window=require("global/window")
var once=require("once")
var isFunction=require("is-function")
var parseHeaders=require("parse-headers")
var xtend=require("xtend")
module.exports=createXHR
createXHR.XMLHttpRequest=window.XMLHttpRequest||noop
createXHR.XDomainRequest="withCredentials"in(new createXHR.XMLHttpRequest())?createXHR.XMLHttpRequest:window.XDomainRequest
forEachArray(["get","put","post","patch","head","delete"],function(method){createXHR[method==="delete"?"del":method]=function(uri,options,callback){options=initParams(uri,options,callback)
options.method=method.toUpperCase()
return _createXHR(options)}})
function forEachArray(array,iterator){for(var i=0;i<array.length;i++){iterator(array[i])}}
function isEmpty(obj){for(var i in obj){if(obj.hasOwnProperty(i))return false}
return true}
function initParams(uri,options,callback){var params=uri
if(isFunction(options)){callback=options
if(typeof uri==="string"){params={uri:uri}}}else{params=xtend(options,{uri:uri})}
params.callback=callback
return params}
function createXHR(uri,options,callback){options=initParams(uri,options,callback)
return _createXHR(options)}
function _createXHR(options){var callback=options.callback
if(typeof callback==="undefined"){throw new Error("callback argument missing")}
callback=once(callback)
function readystatechange(){if(xhr.readyState===4){loadFunc()}}
function getBody(){var body=undefined
if(xhr.response){body=xhr.response}else if(xhr.responseType==="text"||!xhr.responseType){body=xhr.responseText||xhr.responseXML}
if(isJson){try{body=JSON.parse(body)}catch(e){}}
return body}
var failureResponse={body:undefined,headers:{},statusCode:0,method:method,url:uri,rawRequest:xhr}
function errorFunc(evt){clearTimeout(timeoutTimer)
if(!(evt instanceof Error)){evt=new Error(""+(evt||"Unknown XMLHttpRequest Error"))}
evt.statusCode=0
callback(evt,failureResponse)}
function loadFunc(){if(aborted)return
var status
clearTimeout(timeoutTimer)
if(options.useXDR&&xhr.status===undefined){status=200}else{status=(xhr.status===1223?204:xhr.status)}
var response=failureResponse
var err=null
if(status!==0){response={body:getBody(),statusCode:status,method:method,headers:{},url:uri,rawRequest:xhr}
if(xhr.getAllResponseHeaders){response.headers=parseHeaders(xhr.getAllResponseHeaders())}}else{err=new Error("Internal XMLHttpRequest Error")}
callback(err,response,response.body)}
var xhr=options.xhr||null
if(!xhr){if(options.cors||options.useXDR){xhr=new createXHR.XDomainRequest()}else{xhr=new createXHR.XMLHttpRequest()}}
var key
var aborted
var uri=xhr.url=options.uri||options.url
var method=xhr.method=options.method||"GET"
var body=options.body||options.data||null
var headers=xhr.headers=options.headers||{}
var sync=!!options.sync
var isJson=false
var timeoutTimer
if("json"in options){isJson=true
headers["accept"]||headers["Accept"]||(headers["Accept"]="application/json")
if(method!=="GET"&&method!=="HEAD"){headers["content-type"]||headers["Content-Type"]||(headers["Content-Type"]="application/json")
body=JSON.stringify(options.json)}}
xhr.onreadystatechange=readystatechange
xhr.onload=loadFunc
xhr.onerror=errorFunc
xhr.onprogress=function(){}
xhr.ontimeout=errorFunc
xhr.open(method,uri,!sync,options.username,options.password)
if(!sync){xhr.withCredentials=!!options.withCredentials}
if(!sync&&options.timeout>0){timeoutTimer=setTimeout(function(){aborted=true
xhr.abort("timeout")
var e=new Error("XMLHttpRequest timeout")
e.code="ETIMEDOUT"
errorFunc(e)},options.timeout)}
if(xhr.setRequestHeader){for(key in headers){if(headers.hasOwnProperty(key)){xhr.setRequestHeader(key,headers[key])}}}else if(options.headers&&!isEmpty(options.headers)){throw new Error("Headers cannot be set on an XDomainRequest object")}
if("responseType"in options){xhr.responseType=options.responseType}
if("beforeSend"in options&&typeof options.beforeSend==="function"){options.beforeSend(xhr)}
xhr.send(body)
return xhr}
function noop(){}},{"global/window":259,"is-function":260,"once":261,"parse-headers":264,"xtend":265}],259:[function(require,module,exports){(function(global){if(typeof window!=="undefined"){module.exports=window;}else if(typeof global!=="undefined"){module.exports=global;}else if(typeof self!=="undefined"){module.exports=self;}else{module.exports={};}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],260:[function(require,module,exports){module.exports=isFunction
var toString=Object.prototype.toString
function isFunction(fn){var string=toString.call(fn)
return string==='[object Function]'||(typeof fn==='function'&&string!=='[object RegExp]')||(typeof window!=='undefined'&&(fn===window.setTimeout||fn===window.alert||fn===window.confirm||fn===window.prompt))};},{}],261:[function(require,module,exports){module.exports=once
once.proto=once(function(){Object.defineProperty(Function.prototype,'once',{value:function(){return once(this)},configurable:true})})
function once(fn){var called=false
return function(){if(called)return
called=true
return fn.apply(this,arguments)}}},{}],262:[function(require,module,exports){var isFunction=require('is-function')
module.exports=forEach
var toString=Object.prototype.toString
var hasOwnProperty=Object.prototype.hasOwnProperty
function forEach(list,iterator,context){if(!isFunction(iterator)){throw new TypeError('iterator must be a function')}
if(arguments.length<3){context=this}
if(toString.call(list)==='[object Array]')
forEachArray(list,iterator,context)
else if(typeof list==='string')
forEachString(list,iterator,context)
else
forEachObject(list,iterator,context)}
function forEachArray(array,iterator,context){for(var i=0,len=array.length;i<len;i++){if(hasOwnProperty.call(array,i)){iterator.call(context,array[i],i,array)}}}
function forEachString(string,iterator,context){for(var i=0,len=string.length;i<len;i++){iterator.call(context,string.charAt(i),i,string)}}
function forEachObject(object,iterator,context){for(var k in object){if(hasOwnProperty.call(object,k)){iterator.call(context,object[k],k,object)}}}},{"is-function":260}],263:[function(require,module,exports){exports=module.exports=trim;function trim(str){return str.replace(/^\s*|\s*$/g,'');}
exports.left=function(str){return str.replace(/^\s*/,'');};exports.right=function(str){return str.replace(/\s*$/,'');};},{}],264:[function(require,module,exports){var trim=require('trim'),forEach=require('for-each'),isArray=function(arg){return Object.prototype.toString.call(arg)==='[object Array]';}
module.exports=function(headers){if(!headers)
return{}
var result={}
forEach(trim(headers).split('\n'),function(row){var index=row.indexOf(':'),key=trim(row.slice(0,index)).toLowerCase(),value=trim(row.slice(index+1))
if(typeof(result[key])==='undefined'){result[key]=value}else if(isArray(result[key])){result[key].push(value)}else{result[key]=[result[key],value]}})
return result}},{"for-each":262,"trim":263}],265:[function(require,module,exports){module.exports=extend
var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){var target={}
for(var i=0;i<arguments.length;i++){var source=arguments[i]
for(var key in source){if(hasOwnProperty.call(source,key)){target[key]=source[key]}}}
return target}},{}],266:[function(require,module,exports){'use strict';var _createBrowserHistory=require('history/lib/createBrowserHistory');var _createBrowserHistory2=_interopRequireDefault(_createBrowserHistory);var _history=require('history');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var history=(0,_history.useQueries)(_createBrowserHistory2.default)();module.exports={getHistory:function getHistory(){return history;}};},{"history":43,"history/lib/createBrowserHistory":33}],267:[function(require,module,exports){'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _WorkspaceActions=require('./WorkspaceActions');var WorkspaceActions=_interopRequireWildcard(_WorkspaceActions);var _fileAPI=require('../utils/fileAPI');var fileAPI=_interopRequireWildcard(_fileAPI);var _globalUtils=require('../utils/globalUtils');var globalUtils=_interopRequireWildcard(_globalUtils);var _gridAPI=require('../utils/gridAPI');var gridAPI=_interopRequireWildcard(_gridAPI);var _searchAPI=require('../utils/searchAPI');var searchAPI=_interopRequireWildcard(_searchAPI);var _AppConstants=require('../constants/AppConstants');var _AppConstants2=_interopRequireDefault(_AppConstants);var _AppDispatcher=require('../dispatcher/AppDispatcher');var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ContentStore=require('../stores/ContentStore');var _ContentStore2=_interopRequireDefault(_ContentStore);var _DefaultValues=require('../constants/DefaultValues');var _DefaultValues2=_interopRequireDefault(_DefaultValues);var _EnvironmentStore=require('../stores/EnvironmentStore');var _EnvironmentStore2=_interopRequireDefault(_EnvironmentStore);var _FeedActions=require('./FeedActions');var _FeedActions2=_interopRequireDefault(_FeedActions);var _FileSyncer=require('../utils/FileSyncer');var _FileSyncer2=_interopRequireDefault(_FileSyncer);var _FolderActions=require('./FolderActions');var _FolderActions2=_interopRequireDefault(_FolderActions);var _FolderConstants=require('../constants/FolderConstants');var _FolderConstants2=_interopRequireDefault(_FolderConstants);var _History=require('../History');var _History2=_interopRequireDefault(_History);var _immutable=require('immutable');var _immutable2=_interopRequireDefault(_immutable);var _LoadingActions=require('./LoadingActions');var _LoadingActions2=_interopRequireDefault(_LoadingActions);var _PopActions=require('./PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _UserActions=require('./UserActions');var _UserActions2=_interopRequireDefault(_UserActions);var _assert=require('assert');var _assert2=_interopRequireDefault(_assert);var _hat=require('hat');var _hat2=_interopRequireDefault(_hat);var _gridToColumns2=require('../utils/gridToColumns');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var AppActions={initializeApp:function initializeApp(){AppActions.initializeEnvironment();_UserActions2.default.initializePlans();AppActions.initializeSystemJS();return _UserActions2.default.authenticateLoggedInUser().then(function(user){return _UserActions2.default.getUser(user.user);});},initializeSystemJS:function initializeSystemJS(){var System=_EnvironmentStore2.default.get('System');System.config({baseURL:'/static/filewell/build',meta:{'plotly.js':{format:'global',exports:'Plotly'},'handsontable.js':{deps:['handsontable.css']},'*.css':{loader:'css.js'}}});},initializeFeed:function initializeFeed(){_LoadingActions2.default.toggleLoadingState({loadingId:_AppConstants2.default.LOADING_IDS.NEWS_FEED_INIT});AppActions.setContentView(_AppConstants2.default.CONTENT_VIEWS.feed);_FeedActions2.default.initializeFeedDisplays();return _UserActions2.default.authenticateLoggedInUser().then(function(){_LoadingActions2.default.toggleLoadingState({loadingId:_AppConstants2.default.LOADING_IDS.NEWS_FEED_INIT});_FeedActions2.default.setFeedDisplay();});},initializeOrganize:function initializeOrganize(currentFolder){AppActions.setContentView(_AppConstants2.default.CONTENT_VIEWS.organize);_FileSyncer2.default.start();return _UserActions2.default.authenticateLoggedInUser().then(function(){AppActions.loadDisplayMode(_AppConstants2.default.CONTENT_VIEWS.organize);_FolderActions2.default.setCurrentFolder(currentFolder);_FolderActions2.default.getSubFolderTree('home',2);_UserActions2.default.getUserCollaborators();});},initializeProfile:function initializeProfile(username,fid){var shareKey=arguments.length<=2||arguments[2]===undefined?null:arguments[2];AppActions.setContentView(_AppConstants2.default.CONTENT_VIEWS.profile);return _UserActions2.default.authenticateLoggedInUser().then(function(){return _UserActions2.default.getUser(username).then(function(user){_UserActions2.default.setProfileUser(username);AppActions.loadDisplayMode(_AppConstants2.default.CONTENT_VIEWS.profile);var currentFolder=fid||'home';_FolderActions2.default.setCurrentFolder(currentFolder,{user:username,sortBy:'date_modified',sortDirection:_AppConstants2.default.SORT_DIRECTIONS.DESC,share_key:shareKey});}).catch(function(err){_UserActions2.default.setProfileUser(username);});});},initializeSettings:function initializeSettings(){AppActions.setContentView(_AppConstants2.default.CONTENT_VIEWS.profile);AppActions.initializeStripe();},initializeEnvironment:function initializeEnvironment(){var context=globalUtils.getWindow();var environment=context["ENV"];_AppDispatcher2.default.dispatch({event:_AppConstants2.default.MERGE_ENVIRONMENT,environment:environment});AppActions.setEnvironment('System',context.System);},initializeWorkspace:function initializeWorkspace(dispatch,fid){var tableId=(0,_hat2.default)();var FILETYPE_ERROR_MESSAGE='Uh oh... file with id '+fid+' is not a grid.';var RETRIEVE_ERROR_MESSAGE='Uh oh... error retrieving file with id '+fid+'.';var CONTENT_ERROR_MESSAGE='Uh oh... error retrieving grid with id '+fid+'.';if(!fid){dispatch(WorkspaceActions.selectTable(tableId));return;}
function errorExit(customMessage,err){_PopActions2.default.showErrorDialogue(customMessage);if(err)_PopActions2.default.showErrorDialogue(err);dispatch(WorkspaceActions.selectTable(tableId));}
function gridContentSuccess(gridFid,content){var _gridToColumns=(0,_gridToColumns2.gridToColumns)(gridFid,content);var meta=_gridToColumns.meta;var data=_gridToColumns.data;var columnIds=_gridToColumns.columnIds;var columnMeta=_immutable2.default.fromJS(meta);var columnData=_immutable2.default.fromJS(data);var tables=_immutable2.default.fromJS(_defineProperty({},tableId,{columnIds:columnIds}));var payload={columnMeta:columnMeta,columnData:columnData,tables:tables};dispatch(WorkspaceActions.mergeColumnsAndTables(payload));}
function fileRetrieveSuccess(file){if(file.filetype!=='grid'){return errorExit(FILETYPE_ERROR_MESSAGE);}
gridAPI.content(fid).then(function(gridContent){return gridContentSuccess(fid,gridContent);}).catch(function(err){return errorExit(CONTENT_ERROR_MESSAGE,err);});}
fileAPI.retrieve(fid).then(fileRetrieveSuccess).catch(function(err){return errorExit(RETRIEVE_ERROR_MESSAGE,err);});},setEnvironment:function setEnvironment(key,value){_AppDispatcher2.default.dispatch({event:_AppConstants2.default.SET_ENVIRONMENT,key:key,value:value});},initializeStripe:function initializeStripe(){var context=globalUtils.getWindow();var environment=context["ENV"];if(!environment.STRIPE_ENABLED)return;else{if(!context.Stripe){throw new Error("Cannot initialize Stripe: missing window.Stripe");}
var stripeKey=environment[_AppConstants2.default.ENV_SETTINGS.STRIPE_KEY];if(stripeKey){context.Stripe.setPublishableKey(stripeKey);}else{throw new Error("Cannot initialize Stripe: missing publishable Stripe key");}}},setContentView:function setContentView(view){_AppDispatcher2.default.dispatch({event:_AppConstants2.default.SET_CONTENT_VIEW,view:view});},loadDisplayMode:function loadDisplayMode(view){var displayMode;var validDisplayModes=['list','presentation','thumbnail'];var lastDisplayMode=localStorage.getItem('filewellDisplayMode');var isProfileView=view===_AppConstants2.default.CONTENT_VIEWS.profile;var isValidMode=validDisplayModes.indexOf(lastDisplayMode)>=0;if(isProfileView&&(!isValidMode||lastDisplayMode==='list')){displayMode='presentation';}else if(!isValidMode){displayMode='thumbnail';}else{displayMode=lastDisplayMode;}
AppActions.setDisplayMode(displayMode);},setDisplayMode:function setDisplayMode(displayMode){_AppDispatcher2.default.dispatch({event:_AppConstants2.default.SET_DISPLAY_MODE,mode:displayMode});},clearFilters:function clearFilters(){_AppDispatcher2.default.dispatch({event:_AppConstants2.default.CLEAR_FILTERS});var currentFolder=_ContentStore2.default.getCurrentFolder();var overwriteCache=true;_FolderActions2.default.getFilesForFolder(currentFolder.fid,overwriteCache,{page:_AppConstants2.default.API.FIRST_PAGE,loadingId:'filter',user:_ContentStore2.default.getContentOwner()});},updateFilters:function updateFilters(filters){_AppDispatcher2.default.dispatch({event:_AppConstants2.default.UPDATE_FILTER,filters:filters});if(!_ContentStore2.default.isFullyFiltered()){var currentFolder=_ContentStore2.default.getCurrentFolder();var overwriteCache=true;_FolderActions2.default.getFilesForFolder(currentFolder.fid,overwriteCache,{page:_AppConstants2.default.API.FIRST_PAGE,loadingId:'filter',user:_ContentStore2.default.getContentOwner()});}},setCurrentSort:function setCurrentSort(sort){(0,_assert2.default)(typeof sort.key==='string');(0,_assert2.default)(typeof sort.direction==='string');var currentFolder=_ContentStore2.default.getCurrentFolder();var overwriteCache=true;_FolderActions2.default.getFilesForFolder(currentFolder.fid,overwriteCache,{page:_AppConstants2.default.API.FIRST_PAGE,sortBy:sort.key,sortDirection:sort.direction,loadingId:'sort',user:_ContentStore2.default.getContentOwner()});},updateSearch:function updateSearch(query,nextPage){var LOADING_IDS=_AppConstants2.default.LOADING_IDS;var loadingID=nextPage?LOADING_IDS.NEWS_FEED_SEARCH_PAGE:LOADING_IDS.NEWS_FEED_SEARCH;_LoadingActions2.default.toggleLoadingState({loadingId:loadingID});var history=_History2.default.getHistory();history.push(_extends({},globalUtils.getWindowLocation(),{search:'?q='+query}));_AppDispatcher2.default.dispatch({event:_AppConstants2.default.UPDATE_SEARCH_QUERY,query:query});var searchPromise=searchAPI.list({q:query,nextPage:nextPage});return searchPromise.then(function(response){var overwriteCache=!nextPage;_AppDispatcher2.default.dispatch({event:_FolderConstants2.default.RECEIVE_FILES,parentFid:_DefaultValues2.default.SEARCHFID,files:response.files,folderCount:response.files.length,overwriteCache:overwriteCache,nextPage:response.next,previousPage:response.previous,page:null});_LoadingActions2.default.toggleLoadingState({loadingId:loadingID});}).catch(function(response){_LoadingActions2.default.toggleLoadingState({loadingId:loadingID});});},clearSearch:function clearSearch(){var history=_History2.default.getHistory();history.push(_extends({},globalUtils.getWindowLocation(),{search:null}));_AppDispatcher2.default.dispatch({event:_AppConstants2.default.UPDATE_SEARCH_QUERY,query:null});}};module.exports=AppActions;},{"../History":266,"../constants/AppConstants":324,"../constants/DefaultValues":326,"../constants/FolderConstants":329,"../dispatcher/AppDispatcher":334,"../stores/ContentStore":337,"../stores/EnvironmentStore":339,"../utils/FileSyncer":347,"../utils/fileAPI":353,"../utils/globalUtils":359,"../utils/gridAPI":360,"../utils/gridToColumns":361,"../utils/searchAPI":366,"./FeedActions":268,"./FolderActions":270,"./LoadingActions":271,"./PopActions":273,"./UserActions":276,"./WorkspaceActions":277,"assert":1,"hat":27,"immutable":58}],268:[function(require,module,exports){"use strict";var _apiUtils=require("../utils/apiUtils");var _AppConstants=require("../constants/AppConstants");var _AppConstants2=_interopRequireDefault(_AppConstants);var _AppDispatcher=require("../dispatcher/AppDispatcher");var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _appUtils=require("../utils/appUtils");var appUtils=_interopRequireWildcard(_appUtils);var _objectAssign=require("object-assign");var _objectAssign2=_interopRequireDefault(_objectAssign);var _DefaultValues=require("../constants/DefaultValues");var _DefaultValues2=_interopRequireDefault(_DefaultValues);var _FolderConstants=require("../constants/FolderConstants");var _FolderConstants2=_interopRequireDefault(_FolderConstants);var _LoadingActions=require("./LoadingActions");var _LoadingActions2=_interopRequireDefault(_LoadingActions);var _plotAPI=require("../utils/plotAPI");var plotAPI=_interopRequireWildcard(_plotAPI);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
module.exports={getFeed:function getFeed(displayMode,nextPage){if(!(displayMode in _AppConstants2.default.FEED_DISPLAYS)){var validModes=Object.keys(_AppConstants2.default.FEED_DISPLAYS).join(", ");throw new Error("Invalid display mode: "+displayMode+". Must be one of "+validModes);}
var LOADING_IDS=_AppConstants2.default.LOADING_IDS;var loadingID=nextPage?LOADING_IDS.NEWS_FEED_PAGE:LOADING_IDS.NEWS_FEED;_LoadingActions2.default.toggleLoadingState({loadingId:loadingID});var _buildFeedRequest=(0,_apiUtils.buildFeedRequest)(displayMode,nextPage);var path=_buildFeedRequest.path;var params=_buildFeedRequest.params;var promise=undefined;if(path==='feed'){promise=plotAPI.feed(params);}else{promise=plotAPI.list(params);}
var requestID=promise._requestID;promise=promise.then(function(response){var overwriteCache=!nextPage;_AppDispatcher2.default.dispatch({event:_FolderConstants2.default.RECEIVE_FILES,parentFid:_DefaultValues2.default.FEEDFID,files:response.results,overwriteCache:overwriteCache,nextPage:response.next,previousPage:response.previous,page:null,folderCount:null});_LoadingActions2.default.toggleLoadingState({loadingId:loadingID});});promise=promise.catch(function(response){_LoadingActions2.default.toggleLoadingState({loadingId:loadingID});});promise._requestID=requestID;return promise;},initializeFeedDisplays:function initializeFeedDisplays(){var displays=appUtils.getFeedDisplaysForEnv();_AppDispatcher2.default.dispatch({event:_AppConstants2.default.INIT_FEED_DISPLAYS,displays:displays});},setFeedDisplay:function setFeedDisplay(){var displayKey=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var displayKey=displayKey||appUtils.getDefaultFeedDisplay();if(!(displayKey in _AppConstants2.default.FEED_DISPLAYS)){throw new Error("Invalid feed view: "+displayKey);}
_AppDispatcher2.default.dispatch({event:_AppConstants2.default.SET_FEED_DISPLAY,display:displayKey});var FeedActions=this;FeedActions.getFeed(displayKey);return displayKey;}};},{"../constants/AppConstants":324,"../constants/DefaultValues":326,"../constants/FolderConstants":329,"../dispatcher/AppDispatcher":334,"../utils/apiUtils":349,"../utils/appUtils":350,"../utils/plotAPI":363,"./LoadingActions":271,"object-assign":60}],269:[function(require,module,exports){'use strict';var _i18n=require('../i18n');var _apiUtils=require('../utils/apiUtils');var _AppDispatcher=require('../dispatcher/AppDispatcher');var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ContentStore=require('../stores/ContentStore');var _ContentStore2=_interopRequireDefault(_ContentStore);var _DirectoryStore=require('../stores/DirectoryStore');var _DirectoryStore2=_interopRequireDefault(_DirectoryStore);var _fileAPI=require('../utils/fileAPI.js');var _fileAPI2=_interopRequireDefault(_fileAPI);var _FileConstants=require('../constants/FileConstants');var _FileConstants2=_interopRequireDefault(_FileConstants);var _FileStore=require('../stores/FileStore');var _FileStore2=_interopRequireDefault(_FileStore);var _folderAPI=require('../utils/folderAPI.js');var _folderAPI2=_interopRequireDefault(_folderAPI);var _LoadingActions=require('./LoadingActions');var _LoadingActions2=_interopRequireDefault(_LoadingActions);var _PopActions=require('./PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _UserActions=require('./UserActions');var _UserActions2=_interopRequireDefault(_UserActions);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var FileActions={setFileName:function setFileName(fid,newName,opts){_LoadingActions2.default.toggleLoadingState(opts);return _fileAPI2.default.partialUpdate(fid,{filename:newName}).then(function(file){var action={event:_FileConstants2.default.UPDATE,fid:fid,update:file};_AppDispatcher2.default.dispatch(action);_LoadingActions2.default.toggleLoadingState(opts);}).catch(function(error){_LoadingActions2.default.toggleLoadingState(opts);_PopActions2.default.showErrorDialogue(error);});},get:function get(fid,opts){return _fileAPI2.default.retrieve(fid,opts).then(function(file){_AppDispatcher2.default.dispatch({event:_FileConstants2.default.ADD,file:file,parentFid:(0,_apiUtils.getParentFid)(file)});return file;});},togglePrivacy:function togglePrivacy(fid,privacySetting,opts){_LoadingActions2.default.toggleLoadingState(opts);return _fileAPI2.default.partialUpdate(fid,{world_readable:privacySetting}).then(function(file){var action={event:_FileConstants2.default.UPDATE,fid:fid,update:file};_AppDispatcher2.default.dispatch(action);_LoadingActions2.default.toggleLoadingState(opts);}).catch(function(error){_PopActions2.default.showErrorDialogue(error);_LoadingActions2.default.toggleLoadingState(opts);});},add:function add(file){_AppDispatcher2.default.dispatch({event:_FileConstants2.default.ADD,file:file,parentFid:(0,_apiUtils.getParentFid)(file)});},moveFileToFolder:function moveFileToFolder(fileFid,targetFid){var opts=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];var file=_FileStore2.default.getFile(fileFid);_LoadingActions2.default.toggleLoadingState(opts);var parentFid=(0,_apiUtils.getParentFid)(file);var targetIdlocal=(0,_apiUtils.getIdlocal)(targetFid);return _fileAPI2.default.partialUpdate(fileFid,{parent:targetIdlocal}).then(function(file){_AppDispatcher2.default.dispatch({event:_FileConstants2.default.UPDATE,fid:file.fid,update:file});_AppDispatcher2.default.dispatch({event:_FileConstants2.default.MOVE,fileFid:file.fid,parentFid:parentFid,targetFid:targetFid});_LoadingActions2.default.toggleLoadingState(opts);}).catch(function(err){_LoadingActions2.default.toggleLoadingState(opts);_PopActions2.default.showErrorDialogue(err);});},delete:function _delete(fid,opts){_LoadingActions2.default.toggleLoadingState(opts);var file=_FileStore2.default.getFile(fid);var parentFid=(0,_apiUtils.getParentFid)(file);var promise=undefined;if(file.filetype==='fold'){promise=_folderAPI2.default.trash(fid);}else{promise=_fileAPI2.default.trash(fid);}
return promise.then(function(){_AppDispatcher2.default.dispatch({event:_FileConstants2.default.UPDATE,fid:fid,update:{deleted:true}});_AppDispatcher2.default.dispatch({event:_FileConstants2.default.MOVE,fileFid:fid,parentFid:parentFid,targetFid:'trash'});_LoadingActions2.default.toggleLoadingState(opts);}).catch(function(err){_LoadingActions2.default.toggleLoadingState(opts);_PopActions2.default.showErrorDialogue(err);});},restore:function restore(fid,opts){_LoadingActions2.default.toggleLoadingState(opts);var file=_FileStore2.default.getFile(fid);var promise=undefined;if(file.filetype==='fold'){promise=_folderAPI2.default.restore(fid);}else{promise=_fileAPI2.default.restore(fid);}
return promise.then(function(file){_AppDispatcher2.default.dispatch({event:_FileConstants2.default.UPDATE,fid:file.fid,update:file});_AppDispatcher2.default.dispatch({event:_FileConstants2.default.MOVE,fileFid:file.fid,parentFid:'trash',targetFid:(0,_apiUtils.getParentFid)(_FileStore2.default.getFile(fid))});_LoadingActions2.default.toggleLoadingState(opts);}).catch(function(err){_LoadingActions2.default.toggleLoadingState(opts);_PopActions2.default.showErrorDialogue(err);});},permanentDelete:function permanentDelete(fid,opts){_LoadingActions2.default.toggleLoadingState(opts);var file=_FileStore2.default.getFile(fid);var promise=undefined;if(file.filetype==='fold'){promise=_folderAPI2.default.permanentDelete(fid);}else{promise=_fileAPI2.default.permanentDelete(fid);}
return promise.then(function(){_AppDispatcher2.default.dispatch({event:_FileConstants2.default.DELETE,fid:fid,parentFid:'trash'});_LoadingActions2.default.toggleLoadingState(opts);}).catch(function(err){_LoadingActions2.default.toggleLoadingState(opts);_PopActions2.default.showErrorDialogue(err);});},setFileSelection:function setFileSelection(fid,shouldSelect){_AppDispatcher2.default.dispatch({event:_FileConstants2.default.UPDATE,fid:fid,update:{isSelected:shouldSelect}});},getCollaborators:function getCollaborators(fid){return _fileAPI2.default.getCollaborators(fid).then(function(collaborators){_AppDispatcher2.default.dispatch({event:_FileConstants2.default.UPDATE,fid:fid,update:{collaborators:collaborators}});}).catch(function(){console.warn('could not retrieve collaborators');});},addCollaborators:function addCollaborators(fid,usernames,emailContent){return _fileAPI2.default.verifyUsers(usernames).then(function(response){var verifiedUsers=response.validusers;var unverifiedUsers=response.err;verifiedUsers=verifiedUsers.join();if(unverifiedUsers){_PopActions2.default.showErrorDialogue(unverifiedUsers);}
if(!verifiedUsers.length){_PopActions2.default.showErrorDialogue((0,_i18n._)('Unable to verify username'));return;}
return _fileAPI2.default.addCollaborators(fid,verifiedUsers);}).then(function(response){var addedCollabs=response.users_added;_AppDispatcher2.default.dispatch({event:_FileConstants2.default.UPDATE_COLLABORATORS,fid:fid,addedCollabs:addedCollabs});var message=undefined;if(addedCollabs.length>1){var amountAdded=addedCollabs.length;message='Successfully added ';message+=addedCollabs.slice(0,amountAdded-1).join(', ');message+=' and '+addedCollabs[amountAdded-1]+' as collaborators';}else{message='Successfully added '+verifiedUsers+' as a collaborator!';}
_PopActions2.default.showDialogue(message,{duration:5000});if(emailContent){FileActions.emailCollaborators(fid,addedCollabs,emailContent);}
_UserActions2.default.getUserCollaborators();}).catch(_PopActions2.default.showErrorDialogue);},removeCollaborators:function removeCollaborators(fid,usernames){return _fileAPI2.default.removeCollaborators(fid,usernames).then(function(response){var event=_FileConstants2.default.UPDATE_COLLABORATORS;var removedCollabs=response.users_removed;_AppDispatcher2.default.dispatch({event:event,fid:fid,removedCollabs:removedCollabs});var message='Successfully removed '+usernames+' as a collaborator!';_PopActions2.default.showDialogue(message,{duration:5000});_UserActions2.default.getUserCollaborators();}).catch(_PopActions2.default.showErrorDialogue);},emailCollaborators:function emailCollaborators(fid,usernames,emailContent){return _fileAPI2.default.emailCollaborators(fid,usernames,emailContent).then(function(){_PopActions2.default.showDialogue((0,_i18n._)('Notification email successfully sent !'),{duration:5000});}).catch(_PopActions2.default.showErrorDialogue);},toggleShareKeyEnabled:function toggleShareKeyEnabled(fid,shareKeySetting){return _fileAPI2.default.partialUpdate(fid,{share_key_enabled:shareKeySetting}).then(function onSuccess(file){_AppDispatcher2.default.dispatch({event:_FileConstants2.default.UPDATE,fid:fid,update:file});}).catch(_PopActions2.default.showErrorDialogue);},getEmbedCode:function getEmbedCode(fid,graphURL){return _fileAPI2.default.getEmbedCode(graphURL).then(function(embedCode){_AppDispatcher2.default.dispatch({event:_FileConstants2.default.UPDATE,fid:fid,update:{embedCode:embedCode}});}).catch(_PopActions2.default.showErrorDialogue);},addComment:function addComment(fid,commentText){var promise=_fileAPI2.default.addComment(fid,commentText);promise.then(function(){FileActions.get(fid);});promise.catch(_PopActions2.default.showErrorDialogue);},removeComment:function removeComment(fid,commentId){var promise=_fileAPI2.default.removeComment(commentId);promise.then(function(){FileActions.get(fid);});promise.catch(_PopActions2.default.showErrorDialogue);},toggleStar:function toggleStar(fid,addOrRemove){var promise=_fileAPI2.default.toggleStar(fid,addOrRemove);promise.then(function(){FileActions.get(fid);});promise.catch(_PopActions2.default.showErrorDialogue);}};module.exports=FileActions;},{"../constants/FileConstants":328,"../dispatcher/AppDispatcher":334,"../i18n":335,"../stores/ContentStore":337,"../stores/DirectoryStore":338,"../stores/FileStore":340,"../utils/apiUtils":349,"../utils/fileAPI.js":353,"../utils/folderAPI.js":355,"./LoadingActions":271,"./PopActions":273,"./UserActions":276}],270:[function(require,module,exports){'use strict';var _appUtils=require('../utils/appUtils');var _AppConstants=require('../constants/AppConstants');var _apiUtils=require('../utils/apiUtils');var apiUtils=_interopRequireWildcard(_apiUtils);var _AppDispatcher=require('../dispatcher/AppDispatcher');var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _objectAssign=require('object-assign');var _objectAssign2=_interopRequireDefault(_objectAssign);var _ContentStore=require('../stores/ContentStore');var _ContentStore2=_interopRequireDefault(_ContentStore);var _DefaultValues=require('../constants/DefaultValues');var _DefaultValues2=_interopRequireDefault(_DefaultValues);var _fileAPI=require('../utils/fileAPI.js');var _fileAPI2=_interopRequireDefault(_fileAPI);var _FileConstants=require('../constants/FileConstants');var _FileConstants2=_interopRequireDefault(_FileConstants);var _folderAPI=require('../utils/folderAPI');var _folderAPI2=_interopRequireDefault(_folderAPI);var _FolderConstants=require('../constants/FolderConstants');var _FolderConstants2=_interopRequireDefault(_FolderConstants);var _LoadingActions=require('./LoadingActions');var _LoadingActions2=_interopRequireDefault(_LoadingActions);var _PopActions=require('./PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _UserStore=require('../stores/UserStore');var _UserStore2=_interopRequireDefault(_UserStore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function openFolder(fid){_AppDispatcher2.default.dispatch({event:_FolderConstants2.default.UPDATE,fid:fid,update:{isOpen:true}});}
function setCurrent(fid){_AppDispatcher2.default.dispatch({event:_FolderConstants2.default.SET_CURRENT,fid:fid});}
var FolderActions={get:function get(fid,opts){return _fileAPI2.default.retrieve(fid,opts).then(function(folder){_AppDispatcher2.default.dispatch({event:_FolderConstants2.default.ADD,folder:folder,parentFid:apiUtils.getParentFid(folder)});return folder;});},setCurrentFolder:function setCurrentFolder(fid,opts){var folder=_ContentStore2.default.getFolder(fid);if(folder){openFolder(fid);setCurrent(fid);FolderActions.getFilesForFolder(fid,_AppConstants.OVERWRITE_CACHE,opts);FolderActions.getAndOpenAncestors(folder,opts);return Promise.resolve();}else{return FolderActions.get(fid,opts).then(function(folder){openFolder(fid);setCurrent(fid);FolderActions.getFilesForFolder(fid,_AppConstants.OVERWRITE_CACHE,opts);FolderActions.getAndOpenAncestors(folder,opts);}).catch(function(err){_PopActions2.default.showErrorDialogue(err);return FolderActions.setCurrentFolder('home',opts);});}},getAndOpenAncestors:function getAndOpenAncestors(folder,opts){var parentFid=apiUtils.getParentFid(folder);if(!parentFid)return;var parent=_ContentStore2.default.getFolder(parentFid);if(parent){openFolder(parentFid);FolderActions.getAndOpenAncestors(parent,opts);}else{FolderActions.get(parentFid,opts).then(function(parent){openFolder(parentFid);FolderActions.getAndOpenAncestors(parent,opts);}).catch(function(err){var errmsg;if(Array.isArray(err))errmsg=err[0];else errmsg=err;if(errmsg.substr(0,9).toLowerCase()!=='not found'){_PopActions2.default.showErrorDialogue(err);}});}},getFilesForFolder:function getFilesForFolder(fid,overwriteCache,opts){var opts=opts||{};var page=opts.page||1;var user=opts.user||_ContentStore2.default.getContentOwner();var folder=_ContentStore2.default.getFolder(fid);var folderSort=folder?folder.sort:{};var sort={key:opts.sortBy||folderSort.key||_DefaultValues2.default.FOLDER_API.SORT_KEY,direction:opts.sortDirection||folderSort.direction||_DefaultValues2.default.FOLDER_API.SORT_DIR};var filters=apiUtils.formatFilters(_ContentStore2.default.getFilters());_LoadingActions2.default.toggleLoadingState(opts);if(!opts.skipSubFolders){FolderActions.getAllSubFolders(fid,true,null,{user:user,share_key:opts.share_key});}
var params=apiUtils.mergeFolderParams(fid,{page:page,order_by:apiUtils.formatOrderBy(fid,sort.key,sort.direction),world_readable:filters.worldReadable,filetype:filters.filetype,share_key:opts.share_key});if(fid==='home'||!apiUtils.isPseudofid(fid)){params.user=user;}
return _folderAPI2.default.retrieve(fid,params).then(function(response){if(opts&&(opts.sortBy||opts.sortDirection)){var sort={};if(opts.sortBy)sort.key=opts.sortBy;if(opts.sortDirection)sort.direction=opts.sortDirection;_AppDispatcher2.default.dispatch({event:_FolderConstants2.default.UPDATE,fid:fid,update:{sort:sort}});}
var files=[];var folderCount=null;if(response.children){files=response.children.results;folderCount=response.children.count;}
_AppDispatcher2.default.dispatch({event:_FolderConstants2.default.RECEIVE_FILES,files:files,parentFid:fid,folderCount:folderCount,page:params.page,overwriteCache:overwriteCache});_LoadingActions2.default.toggleLoadingState(opts);}).catch(function(err){_PopActions2.default.showErrorDialogue(err);_LoadingActions2.default.toggleLoadingState(opts);});},getSubFolderTree:function getSubFolderTree(rootFid,depth){if(typeof depth!=='number')throw new Error('invalid depth: '+depth);if(depth<=0)return null;return FolderActions.getAllSubFolders(rootFid,true).then(function(response){var subFolders=response.children?response.children.results:[];var promises=subFolders.map(function(f){FolderActions.getSubFolderTree(f.fid,depth-1);});return Promise.all(promises);});},getAllSubFolders:function getAllSubFolders(fid,overwriteCache,url,opts){var opts=opts||{};var user=opts.user||_ContentStore2.default.getContentOwner();var queryParams=url?{}:{filetype:'fold',page:_AppConstants.API.FIRST_PAGE,share_key:apiUtils.getShareKeyForFolderQuery(fid)};if(fid=='home'||!apiUtils.isPseudofid(fid)){queryParams.user=user;}
var promise=_folderAPI2.default.retrieve(fid,queryParams,url);promise.then(function(response){var folders=[];var nextURL=null;if(response.children){folders=response.children.results;nextURL=response.children.next;}
_AppDispatcher2.default.dispatch({event:_FolderConstants2.default.RECEIVE_SUBFOLDERS,parentFid:fid,folders:folders,overwriteCache:overwriteCache});if(nextURL){FolderActions.getAllSubFolders(fid,false,nextURL,opts);}});promise.catch(_PopActions2.default.showErrorDialogue);return promise;},toggle:function toggle(fid){var isOpen=_ContentStore2.default.getFolder(fid).isOpen;if(!isOpen){var loadingId=(0,_appUtils.getLoadingId)('sidebar-toggle',fid);_LoadingActions2.default.toggleLoadingState({loadingId:loadingId});FolderActions.getSubFolderTree(fid,1).then(function(){_AppDispatcher2.default.dispatch({event:_FolderConstants2.default.UPDATE,fid:fid,update:{isOpen:!isOpen}});_LoadingActions2.default.toggleLoadingState({loadingId:loadingId});});}
else{_AppDispatcher2.default.dispatch({event:_FolderConstants2.default.UPDATE,fid:fid,update:{isOpen:!isOpen}});}},createFolder:function createFolder(folderName,parentFid){var parentIdlocal=apiUtils.getIdlocal(parentFid);return _folderAPI2.default.create(folderName,parentIdlocal).then(function(response){var folder=response.file;_AppDispatcher2.default.dispatch({event:_FolderConstants2.default.ADD,folder:folder,parentFid:apiUtils.getParentFid(folder)});}).catch(_PopActions2.default.showErrorDialogue);}};module.exports=FolderActions;},{"../constants/AppConstants":324,"../constants/DefaultValues":326,"../constants/FileConstants":328,"../constants/FolderConstants":329,"../dispatcher/AppDispatcher":334,"../stores/ContentStore":337,"../stores/UserStore":344,"../utils/apiUtils":349,"../utils/appUtils":350,"../utils/fileAPI.js":353,"../utils/folderAPI":355,"./LoadingActions":271,"./PopActions":273,"object-assign":60}],271:[function(require,module,exports){'use strict';var _AppDispatcher=require('../dispatcher/AppDispatcher');var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _AppConstants=require('../constants/AppConstants');var _AppConstants2=_interopRequireDefault(_AppConstants);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var UserActions={toggleLoadingState:function toggleLoadingState(opts){if(!opts||!opts.loadingId)return;_AppDispatcher2.default.dispatch({event:_AppConstants2.default.LOAD,loadingId:opts.loadingId});}};module.exports=UserActions;},{"../constants/AppConstants":324,"../dispatcher/AppDispatcher":334}],272:[function(require,module,exports){'use strict';var _fluxToRedux=require('../utils/fluxToRedux');var _PopActions=require('./PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _PopStore=require('../stores/PopStore');var _PopStore2=_interopRequireDefault(_PopStore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var PopActionCreators=(0,_fluxToRedux.newActionsCreators)('pop',_PopStore2.default,_PopActions2.default);module.exports=PopActionCreators;},{"../stores/PopStore":341,"../utils/fluxToRedux":354,"./PopActions":273}],273:[function(require,module,exports){'use strict';var _dateUtils=require('../utils/dateUtils');var dateUtils=_interopRequireWildcard(_dateUtils);var _AppDispatcher=require('../dispatcher/AppDispatcher');var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _objectAssign=require('object-assign');var _objectAssign2=_interopRequireDefault(_objectAssign);var _DefaultValues=require('../constants/DefaultValues');var _DefaultValues2=_interopRequireDefault(_DefaultValues);var _hat=require('hat');var _hat2=_interopRequireDefault(_hat);var _PopConstants=require('../constants/PopConstants');var _PopConstants2=_interopRequireDefault(_PopConstants);var _PopStore=require('../stores/PopStore');var _PopStore2=_interopRequireDefault(_PopStore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
var PopActions={closeModal:function closeModal(){_AppDispatcher2.default.dispatch({event:_PopConstants2.default.CLOSE_MODAL});},toggleCloseConfirmation:function toggleCloseConfirmation(isClosing){_AppDispatcher2.default.dispatch({event:_PopConstants2.default.TOGGLE_MODAL_CLOSE_CONFIRMATION,isClosing:isClosing});},openShareModal:function openShareModal(fid){var activeTabIndex=arguments.length<=1||arguments[1]===undefined?1:arguments[1];_AppDispatcher2.default.dispatch({event:_PopConstants2.default.SHOW_MODAL,type:_PopConstants.MODAL_TYPES.SHARE_FILE,fid:fid,activeTabIndex:activeTabIndex});},openNewFolderModal:function openNewFolderModal(parentFid){_AppDispatcher2.default.dispatch({event:_PopConstants2.default.SHOW_MODAL,type:_PopConstants.MODAL_TYPES.NEW_FOLDER,fid:parentFid});},openDeleteFilesModal:function openDeleteFilesModal(fids,opts){if(!opts)opts={};_AppDispatcher2.default.dispatch({event:_PopConstants2.default.SHOW_DELETE_MODAL,type:_PopConstants.MODAL_TYPES.DELETE_FILE,fids:fids,isPermanent:opts.isPermanent});},openMoveModal:function openMoveModal(fid){_AppDispatcher2.default.dispatch({event:_PopConstants2.default.SHOW_MOVE_MODAL,type:_PopConstants.MODAL_TYPES.MOVE_FILE,fid:fid});},openSubscriptionModal:function openSubscriptionModal(plan,initialBillingFrequency){_AppDispatcher2.default.dispatch({event:_PopConstants2.default.SHOW_SUBSCRIPTION_MODAL,type:_PopConstants.MODAL_TYPES.SUBSCRIPTION,plan:plan,initialBillingFrequency:initialBillingFrequency});},openCancelSubscriptionModal:function openCancelSubscriptionModal(subscriptionId){_AppDispatcher2.default.dispatch({event:_PopConstants2.default.SHOW_CANCEL_SUBSCRIPTION_MODAL,type:_PopConstants.MODAL_TYPES.CANCEL_SUBSCRIPTION,subscriptionId:subscriptionId});},openReactivateSubscriptionModal:function openReactivateSubscriptionModal(plan){_AppDispatcher2.default.dispatch({event:_PopConstants2.default.SHOW_REACTIVATE_SUBSCRIPTION_MODAL,type:_PopConstants.MODAL_TYPES.REACTIVATE_SUBSCRIPTION,plan:plan});},openDashboardlyModal:function openDashboardlyModal(fids,username){_AppDispatcher2.default.dispatch({event:_PopConstants2.default.SHOW_DASHBOARDLY_MODAL,type:_PopConstants.MODAL_TYPES.DASHBOARDLY,fids:fids,username:username});},openAuthenticationModal:function openAuthenticationModal(){var tab=arguments.length<=0||arguments[0]===undefined?_PopConstants2.default.AUTHENTICATION_MODAL_TABS.SIGNIN:arguments[0];var userInfo=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];_AppDispatcher2.default.dispatch({event:_PopConstants2.default.SHOW_AUTHENTICATION_MODAL,type:_PopConstants.MODAL_TYPES.AUTHENTICATION,tab:tab,userInfo:userInfo});},closeDialogue:function closeDialogue(dialogueID){_AppDispatcher2.default.dispatch({event:_PopConstants2.default.CLOSE_DIALOGUE,id:dialogueID});},showDialogue:function showDialogue(text,opts){if(!text)return;opts=opts||{};_AppDispatcher2.default.dispatch({event:_PopConstants2.default.SHOW_DIALOGUE,text:text,duration:opts.duration,isError:opts.isError,onInfoClick:opts.onInfoClick,type:opts.type});},showErrorDialogue:function showErrorDialogue(errorMsg,opts){if(!Array.isArray(errorMsg))errorMsg=[errorMsg];errorMsg.forEach(function(msg){if(!msg)return;var message;if(typeof msg==='string'&&errorMsg!=='')message=msg;else message='Oops, an error occurred and the action could not be completed.';PopActions.showDialogue(message,(0,_objectAssign2.default)({isError:true,duration:_DefaultValues2.default.DIALOGUE_NO_DURATION},opts));if(msg instanceof Error)throw msg;});},showThrottleNotice:function showThrottleNotice(){var forceModal=arguments.length<=0||arguments[0]===undefined?false:arguments[0];var currentModalType=_PopStore2.default.getModalType();var isCurrentlyShown=currentModalType===_PopConstants.MODAL_TYPES.THROTTLED;if(isCurrentlyShown){return;}else{var lastModalDate=_PopStore2.default.getLastSeen(_PopConstants.MODAL_TYPES.THROTTLED);var currentDate=dateUtils.now();var wasModalSeenToday=dateUtils.isSameDay(currentDate,lastModalDate);if(!wasModalSeenToday){PopActions.showThrottleModal();}
else{PopActions.showDialogue("placeholder",{isError:true,duration:_DefaultValues2.default.DIALOGUE_NO_DURATION,onInfoClick:PopActions.showThrottleModal,type:_PopConstants.DIALOGUE_TYPES.THROTTLED});}}},showThrottleModal:function showThrottleModal(){_AppDispatcher2.default.dispatch({event:_PopConstants2.default.SHOW_THROTTLE_NOTICE,type:_PopConstants.MODAL_TYPES.THROTTLED});},addUpload:function addUpload(filename){var tempID=(0,_hat2.default)();_AppDispatcher2.default.dispatch({event:_PopConstants2.default.ADD_UPLOAD,filename:filename,status:'pending',id:tempID});return tempID;},changeUploadStatus:function changeUploadStatus(id,status){_AppDispatcher2.default.dispatch({event:_PopConstants2.default.CHANGE_UPLOAD_STATUS,id:id,status:status});},removeUpload:function removeUpload(id){_AppDispatcher2.default.dispatch({event:_PopConstants2.default.REMOVE_UPLOAD,id:id});}};module.exports=PopActions;},{"../constants/DefaultValues":326,"../constants/PopConstants":331,"../dispatcher/AppDispatcher":334,"../stores/PopStore":341,"../utils/dateUtils":352,"hat":27,"object-assign":60}],274:[function(require,module,exports){'use strict';var _AppConstants=require('../constants/AppConstants');var _AppConstants2=_interopRequireDefault(_AppConstants);var _AppDispatcher=require('../dispatcher/AppDispatcher');var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var RequestActions={updateRequest:function updateRequest(requestID,update,xhr){_AppDispatcher2.default.dispatch({event:_AppConstants2.default.UPDATE_REQUEST,requestID:requestID,update:update,xhr:xhr});}};module.exports=RequestActions;},{"../constants/AppConstants":324,"../dispatcher/AppDispatcher":334}],275:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.cancelSubscription=cancelSubscription;exports.reactivateSubscription=reactivateSubscription;var _AppConstants=require('../constants/AppConstants');var _PlanConstants=require('../constants/PlanConstants');var _AppDispatcher=require('../dispatcher/AppDispatcher');var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _getuser=require('../utils/getuser');var _getuser2=_interopRequireDefault(_getuser);var _globalUtils=require('../utils/globalUtils');var globalUtils=_interopRequireWildcard(_globalUtils);var _RequestActions=require('./RequestActions');var _RequestActions2=_interopRequireDefault(_RequestActions);var _requestUtils=require('../utils/requestUtils');var requestUtils=_interopRequireWildcard(_requestUtils);var _stripeAPI=require('../utils/stripeAPI');var stripeAPI=_interopRequireWildcard(_stripeAPI);var _subscriptionsAPI=require('../utils/subscriptionsAPI');var subscriptionsAPI=_interopRequireWildcard(_subscriptionsAPI);var _subscriptionUtils=require('../utils/subscriptionUtils');var subscriptionUtils=_interopRequireWildcard(_subscriptionUtils);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function dispatchSubscription(subscription){_AppDispatcher2.default.dispatch({event:_PlanConstants.EVENTS.UPDATE_SUBSCRIPTION,subscription:subscription});}
exports.dispatchSubscription=dispatchSubscription;function cancelSubscription(subscriptionId){var promise=subscriptionsAPI.cancel(subscriptionId);promise.then(function(response){dispatchSubscription(response);});promise.catch(function(response){});return promise._requestID;}
function reactivateSubscription(subscriptionId){var promise=subscriptionsAPI.reactivate(subscriptionId);promise.then(function(response){dispatchSubscription(response);});promise.catch(function(response){});return promise._requestID;}
function getSubscription(){var promise=subscriptionsAPI.list();promise.then(function(response){var hasSubscription=response.results.length;var subscription=hasSubscription?response.results[0]:null;dispatchSubscription(subscription);});promise.catch(function(response){});return promise._requestID;}
exports.getSubscription=getSubscription;function submitPayment(cardData){var loggedInUsername=(0,_getuser2.default)().username;var billingFrequency=cardData.billingFrequency;var featureSetID=cardData.featureSetID;var requestID=requestUtils.generatePromiseID();_RequestActions2.default.updateRequest(requestID,{status:_AppConstants.STATUS.PENDING});var promise=stripeAPI.getStripeToken(cardData);promise.then(function(response){var singleUseToken=response.id;return subscriptionsAPI.create({user_id:loggedInUsername,stripe_token_id:singleUseToken,feature_set_id:featureSetID,billing_frequency:billingFrequency});}).then(function(response){dispatchSubscription(response);subscriptionUtils.trackCharge(response.stripe_plan_amount);_RequestActions2.default.updateRequest(requestID,{status:_AppConstants.STATUS.SUCCESS});}).catch(function(error){_RequestActions2.default.updateRequest(requestID,{status:_AppConstants.STATUS.FAILURE,error:error,data:error});});return requestID;}
exports.submitPayment=submitPayment;},{"../constants/AppConstants":324,"../constants/PlanConstants":330,"../dispatcher/AppDispatcher":334,"../utils/getuser":358,"../utils/globalUtils":359,"../utils/requestUtils":365,"../utils/stripeAPI":370,"../utils/subscriptionUtils":371,"../utils/subscriptionsAPI":372,"./RequestActions":274}],276:[function(require,module,exports){'use strict';var _apiUtils=require('../utils/apiUtils');var _AppConstants=require('../constants/AppConstants');var _AppConstants2=_interopRequireDefault(_AppConstants);var _AppDispatcher=require('../dispatcher/AppDispatcher');var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _getuser=require('../utils/getuser');var _getuser2=_interopRequireDefault(_getuser);var _userAPI=require('../utils/userAPI.js');var _userAPI2=_interopRequireDefault(_userAPI);var _appUtils=require('../utils/appUtils');var _UserConstants=require('../constants/UserConstants');var _UserConstants2=_interopRequireDefault(_UserConstants);var _PlanConstants=require('../constants/PlanConstants');var _PlanConstants2=_interopRequireDefault(_PlanConstants);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var PLANS=_PlanConstants2.default.PLANS;var UserActions={authenticateLoggedInUser:function authenticateLoggedInUser(){return UserActions.getLoggedInUser().then(function(user){if(user.user){UserActions.setLoggedInUser(user.user,true);}else{UserActions.setLoggedInUser(null,false);}
return user;}).catch(function(error){UserActions.setLoggedInUser(null,false);var globalName=(0,_getuser2.default)().username;throw new Error('Could not authenticate user: '+globalName);});},getLoggedInUser:function getLoggedInUser(){var storedUser=(0,_getuser2.default)();if(storedUser.isAuthenticated===true){return Promise.resolve({user:storedUser.username});}
else{return _userAPI2.default.getLoggedInUser();}},setLoggedInUser:function setLoggedInUser(username,isAuthenticated){_AppDispatcher2.default.dispatch({event:_UserConstants2.default.SET_LOGGED_IN_USER,username:username,isAuthenticated:isAuthenticated});},setProfileUser:function setProfileUser(username){_AppDispatcher2.default.dispatch({event:_UserConstants2.default.SET_PROFILE_USER,username:username});},getUser:function getUser(username){return _userAPI2.default.retrieve(username).then(function(user){UserActions.updateUser(user);return user;}).catch(function(err){UserActions.updateUser({username:username,errorStatus:_AppConstants2.default.STATUS.NOT_FOUND});});},updateUser:function updateUser(user){_AppDispatcher2.default.dispatch({event:_UserConstants2.default.UPDATE_USER,user:user});},updateProfile:function updateProfile(update){var loggedInUsername=(0,_getuser2.default)().username;var promise=_userAPI2.default.partialUpdate(loggedInUsername,update);var requestID=promise._requestID;promise=promise.then(function(response){UserActions.updateUser(response);});promise._requestID=requestID;return promise;},changePassword:function changePassword(update){var loggedInUsername=(0,_getuser2.default)().username;var promise=_userAPI2.default.changePassword(loggedInUsername,update);return promise._requestID;},triggerPasswordReset:function triggerPasswordReset(){var loggedInUsername=(0,_getuser2.default)().username;var promise=_userAPI2.default.triggerPasswordReset(loggedInUsername);return promise._requestID;},getUserCollaborators:function getUserCollaborators(username){if(!username)username=(0,_getuser2.default)().username;var promise=_userAPI2.default.collaborators(username);promise.then(function(response){var collaborators=response.results;var collaboratorList=collaborators.map(function(collaborator){return collaborator.username;});_AppDispatcher2.default.dispatch({event:_UserConstants2.default.GET_COLLABORATORS,collaboratorList:collaboratorList});});promise.catch(function(err){throw new Error(err);});return promise._requestID;},initializePlans:function initializePlans(){var featureSets=(0,_appUtils.getFeatureSets)();if(!featureSets)return;var mergedPlans={};PLANS.forEach(function(plan){var planFeatureSetName=plan.featureSet;var featureSet=featureSets[planFeatureSetName];var featureKeys=Object.keys(featureSet);plan.features=featureKeys.map(function(featureKey){if(featureKey==='current_stripe_plan_amount_annually'||featureKey==='current_stripe_plan_amount_monthly'||featureKey==='id'){return null;}
var featureText=featureSet[featureKey].text;return featureText||null;}).filter(function(featureText){return featureText!==null;});mergedPlans[plan.name]=plan;});_AppDispatcher2.default.dispatch({event:_UserConstants2.default.INITIALIZE_PLANS,plans:mergedPlans});return mergedPlans;},resetAndGetAPIKey:function resetAndGetAPIKey(){var loggedInUsername=(0,_getuser2.default)().username;var promise=_userAPI2.default.resetAPIKey(loggedInUsername);var requestID=promise._requestID;promise=promise.then(function(user){UserActions.updateUser(user);});promise._requestID=requestID;return promise;},createStreamToken:function createStreamToken(){var loggedInUsername=(0,_getuser2.default)().username;var promise=_userAPI2.default.createStreamToken(loggedInUsername);var requestID=promise._requestID;promise=promise.then(function(user){UserActions.updateUser(user);});promise._requestID=requestID;return promise;}};module.exports=UserActions;},{"../constants/AppConstants":324,"../constants/PlanConstants":330,"../constants/UserConstants":332,"../dispatcher/AppDispatcher":334,"../utils/apiUtils":349,"../utils/appUtils":350,"../utils/getuser":358,"../utils/userAPI.js":374}],277:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.updateGroupBy=exports.removeFilter=exports.updateFilter=exports.newFilter=exports.newEncodingLayer=exports.switchChartType=exports.selectTable=exports.swapColumnIds=exports.mergeColumns=exports.mergeTable=exports.overwriteTable=exports.assignColumn=exports.mergeColumnsAndTables=exports.restyle=exports.relayout=exports.plotlyUpdate=exports.selectStyleMode=exports.selectEditMode=undefined;exports.addColumns=addColumns;exports.updateColumns=updateColumns;exports.createGrid=createGrid;var _PopActions=require('./PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _gridAPI=require('../utils/gridAPI');var gridAPI=_interopRequireWildcard(_gridAPI);var _reduxActions=require('redux-actions');var _WorkspaceConstants=require('../constants/WorkspaceConstants');var _splitColumnId6=require('../utils/splitColumnId');function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var selectEditMode=exports.selectEditMode=(0,_reduxActions.createAction)(_WorkspaceConstants.SELECT_EDIT_MODE);var selectStyleMode=exports.selectStyleMode=(0,_reduxActions.createAction)(_WorkspaceConstants.SELECT_STYLE_MODE);var plotlyUpdate=exports.plotlyUpdate=(0,_reduxActions.createAction)(_WorkspaceConstants.SYNC_FIGURE_FROM_PLOTLY);var relayout=exports.relayout=(0,_reduxActions.createAction)(_WorkspaceConstants.PLOTLY_RELAYOUT);var restyle=exports.restyle=(0,_reduxActions.createAction)(_WorkspaceConstants.PLOTLY_RESTYLE);var mergeColumnsAndTables=exports.mergeColumnsAndTables=(0,_reduxActions.createAction)(_WorkspaceConstants.MERGE_COLUMNS_AND_TABLES);var assignColumn=exports.assignColumn=(0,_reduxActions.createAction)(_WorkspaceConstants.ASSIGN_COLUMN);var overwriteTable=exports.overwriteTable=(0,_reduxActions.createAction)(_WorkspaceConstants.OVERWRITE_TABLE);var mergeTable=exports.mergeTable=(0,_reduxActions.createAction)(_WorkspaceConstants.MERGE_TABLE);var mergeColumns=exports.mergeColumns=(0,_reduxActions.createAction)(_WorkspaceConstants.MERGE_COLUMNS);var swapColumnIds=exports.swapColumnIds=(0,_reduxActions.createAction)(_WorkspaceConstants.SWAP_COLUMN_IDS);var selectTable=exports.selectTable=(0,_reduxActions.createAction)(_WorkspaceConstants.SELECT_TABLE);var switchChartType=exports.switchChartType=(0,_reduxActions.createAction)(_WorkspaceConstants.SWITCH_CHART_TYPE);var newEncodingLayer=exports.newEncodingLayer=(0,_reduxActions.createAction)(_WorkspaceConstants.NEW_ENCODING_LAYER);var newFilter=exports.newFilter=(0,_reduxActions.createAction)(_WorkspaceConstants.NEW_FILTER);var updateFilter=exports.updateFilter=(0,_reduxActions.createAction)(_WorkspaceConstants.UPDATE_FILTER);var removeFilter=exports.removeFilter=(0,_reduxActions.createAction)(_WorkspaceConstants.REMOVE_FILTER);var updateGroupBy=exports.updateGroupBy=(0,_reduxActions.createAction)(_WorkspaceConstants.UPDATE_GROUPBY);function updateColumnMetaDirty(columnMeta,columnIds,dirty){var updatedColumnMeta=columnMeta;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=columnIds[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var columnId=_step.value;var metaPath=[columnId,'dirty'];updatedColumnMeta=updatedColumnMeta.setIn(metaPath,dirty);}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}
return updatedColumnMeta;}
function addColumns(fid,columnIds){var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=columnIds[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var columnId=_step2.value;var _splitColumnId=(0,_splitColumnId6.splitColumnId)(columnId);var type=_splitColumnId.type;if(type!==_WorkspaceConstants.COLUMN_ID_TYPES.NEW){throw new Error('Cannot add column with id '+columnId+'. '+'Only new columns can be added to grids.');}}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}
return function saveColumnsReturn(dispatch,getState){function addFailure(err){var updatedColumnMeta=updateColumnMetaDirty(getState().workspace.columnMeta,columnIds,true);dispatch(mergeColumns({columnMeta:updatedColumnMeta}));_PopActions2.default.showErrorDialogue('Uh oh... failure adding columns!');if(err)_PopActions2.default.showErrorDialogue(err);}
function updateColumnIds(data){var oldColumnIdToNewColumnId=columnIds.reduce(function(reducer,columnId,index){reducer[columnId]=fid+':'+data.cols[index].uid;return reducer;},{});dispatch(swapColumnIds(oldColumnIdToNewColumnId));}
function reduceColumnIds(reducer,columnId){var data=getState().workspace.columnData.get(columnId).toJS();var namePath=[columnId,'name'];var name=getState().workspace.columnMeta.getIn(namePath);reducer.push({data:data,name:name});return reducer;}
var updatedColumnMeta=updateColumnMetaDirty(getState().workspace.columnMeta,columnIds,false);dispatch(mergeColumns({columnMeta:updatedColumnMeta}));var method='POST';var cols=JSON.stringify(columnIds.reduce(reduceColumnIds,[]));var data={cols:cols};var options={method:method,data:data};gridAPI.col(fid,options).then(updateColumnIds).catch(addFailure);};}
function updateColumns(columnIds){var fids=[];var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=columnIds[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var columnId=_step3.value;var _splitColumnId4=(0,_splitColumnId6.splitColumnId)(columnId);var type=_splitColumnId4.type;var fid=_splitColumnId4.fid;if(type===_WorkspaceConstants.COLUMN_ID_TYPES.NEW){throw new Error('Cannot update column with id '+columnId+'. '+'Only existing columns can be updated in grids.');}
if(type===_WorkspaceConstants.COLUMN_ID_TYPES.REF){if(fids.length&&fids.indexOf(fid)===-1){throw new Error('Cannot update multiple grids at a time yet.');}
fids.push(fid);}}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}
var fidToUids=columnIds.reduce(function(reducer,columnId){var _splitColumnId2=(0,_splitColumnId6.splitColumnId)(columnId);var type=_splitColumnId2.type;var fid=_splitColumnId2.fid;var uid=_splitColumnId2.uid;if(type===_WorkspaceConstants.COLUMN_ID_TYPES.REF){reducer[fid]=reducer[fid]||[];reducer[fid].push(uid);}
return reducer;},{});var fidToColumnIds=columnIds.reduce(function(reducer,columnId){var _splitColumnId3=(0,_splitColumnId6.splitColumnId)(columnId);var type=_splitColumnId3.type;var fid=_splitColumnId3.fid;if(type===_WorkspaceConstants.COLUMN_ID_TYPES.REF){reducer[fid]=reducer[fid]||[];reducer[fid].push(columnId);}
return reducer;},{});return function updateColumnsReturn(dispatch,getState){function updateFailure(err){var updatedColumnMeta=updateColumnMetaDirty(getState().workspace.columnMeta,columnIds,true);dispatch(mergeColumns({columnMeta:updatedColumnMeta}));_PopActions2.default.showErrorDialogue('Uh oh... failure saving columns!');if(err)_PopActions2.default.showErrorDialogue(err);}
function reduceColumnIds(reducer,columnId){var data=getState().workspace.columnData.get(columnId).toJS();reducer.push({data:data});return reducer;}
var updatedColumnMeta=updateColumnMetaDirty(getState().workspace.columnMeta,columnIds,false);dispatch(mergeColumns({columnMeta:updatedColumnMeta}));Object.keys(fidToUids).forEach(function(fid){var method='PUT';var uid=fidToUids[fid].join(',');var cols=JSON.stringify(fidToColumnIds[fid].reduce(reduceColumnIds,[]));var data={cols:cols};var options={method:method,uid:uid,data:data};gridAPI.col(fid,options).catch(updateFailure);});};}
function createGrid(columnIds,filename,parent){var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=columnIds[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var columnId=_step4.value;var _splitColumnId5=(0,_splitColumnId6.splitColumnId)(columnId);var type=_splitColumnId5.type;if(type!==_WorkspaceConstants.COLUMN_ID_TYPES.NEW){throw new Error('Cannot create grid using id '+columnId+'. '+'Only new columns can be used to create a grid.');}}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}
return function createGridReturn(dispatch,getState){function createSuccess(data){var fid=data.fid;var oldColumnIdToNewColumnId=columnIds.reduce(function(reducer,columnId,index){reducer[columnId]=fid+':'+data.cols[index].uid;return reducer;},{});dispatch(swapColumnIds(oldColumnIdToNewColumnId));}
function createFail(err){var updatedColumnMeta=updateColumnMetaDirty(getState().workspace.columnMeta,columnIds,true);dispatch(mergeColumns({columnMeta:updatedColumnMeta}));_PopActions2.default.showErrorDialogue('Uh oh... failure creating grid!');if(err)_PopActions2.default.showErrorDialogue(err);}
var updatedColumnMeta=updateColumnMetaDirty(getState().workspace.columnMeta,columnIds,false);dispatch(mergeColumns({columnMeta:updatedColumnMeta}));var columnData=getState().workspace.columnData;var columnMeta=getState().workspace.columnMeta;var cols=columnIds.reduce(function(reduction,columnId,index){var order=index;var data=columnData.get(columnId).toJS();var name=columnMeta.getIn([columnId,'name']);reduction[name]={data:data,order:order};return reduction;},{});gridAPI.create(cols,filename,parent).then(function(envelope){return envelope.file;}).then(createSuccess).catch(createFail);};}},{"../constants/WorkspaceConstants":333,"../utils/gridAPI":360,"../utils/splitColumnId":368,"./PopActions":273,"redux-actions":240}],278:[function(require,module,exports){'use strict';var React=require('react');var ReactDOM=require('react-dom');var EditableText=React.createClass({displayName:'EditableText',propTypes:{onChange:React.PropTypes.func,onUpdate:React.PropTypes.func,text:React.PropTypes.string,placeholder:React.PropTypes.string,className:React.PropTypes.string,disable:React.PropTypes.bool,autoFocus:React.PropTypes.bool,type:React.PropTypes.oneOf(["text","password"]),readOnly:React.PropTypes.bool},getDefaultProps:function getDefaultProps(){return{readOnly:false,type:"text"};},onClick:function onClick(e){e.target.select();},onKeyPress:function onKeyPress(e){if((e.keyCode||e.which)==13){var text=ReactDOM.findDOMNode(this.refs.text).value;if(this.props.onEnter){this.props.onEnter(text);}else if(this.props.onUpdate){this.props.onUpdate(text);}}},onUpdate:function onUpdate(e){if(this.props.onUpdate)this.props.onUpdate(e.target.value);},onChange:function onChange(e){if(this.props.onChange)this.props.onChange(e.target.value);},render:function render(){return React.createElement('input',{ref:'text',type:this.props.type,className:this.props.className||'',value:this.props.text,onClick:this.onClick,onChange:this.onChange,onBlur:this.onUpdate,disabled:this.props.disable,autoFocus:this.props.autoFocus,onKeyPress:this.onKeyPress,placeholder:this.props.placeholder,readOnly:this.props.readOnly});}});module.exports=EditableText;},{"react":236,"react-dom":61}],279:[function(require,module,exports){'use strict';var _react=require('react');var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var regex=require('../utils/regex');var linkRegex=new RegExp(regex.url,'gi');module.exports=_react2.default.createClass({displayName:'exports',_formatChildren:function _formatChildren(){var match;var prevLastIndex=0;var newChildren=[];var id=0;var string=this.props.children;if(typeof string!=='string'){throw new Error('LinkText can only format a single string child');}
while((match=linkRegex.exec(string))!==null){var url=match[0];var fragment=string.substr(prevLastIndex,match.index-prevLastIndex);prevLastIndex=linkRegex.lastIndex;newChildren.push(fragment);newChildren.push(_react2.default.createElement('a',{key:id++,target:'blank',href:url},url));}
if(prevLastIndex<string.length){newChildren.push(string.substr(prevLastIndex,string.length));}
return newChildren;},render:function render(){return _react2.default.createElement('div',{ref:'formedChildren',className:'+inline'},_react2.default.createElement('span',{ref:'text'},this._formatChildren()));}});},{"../utils/regex":364,"react":236}],280:[function(require,module,exports){'use strict';var _react=require('react');var _react2=_interopRequireDefault(_react);var _EditableText=require('./EditableText.react');var _EditableText2=_interopRequireDefault(_EditableText);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var NewFolderInput=_react2.default.createClass({displayName:'NewFolderInput',propTypes:{parentFid:_react2.default.PropTypes.string.isRequired,onSave:_react2.default.PropTypes.func},getInitialState:function getInitialState(){return{folderName:''};},handleChange:function handleChange(text){this.setState({folderName:text});},handleSave:function handleSave(){if(this.state.folderName==='')return;this.props.onSave(this.state.folderName,this.props.parentFid);},render:function render(){return _react2.default.createElement('div',null,_react2.default.createElement(_EditableText2.default,{ref:'folderNameInput',text:this.state.folderName,className:'inputfield --maxwidth',placeholder:"Enter a folder name",autoFocus:true,autoSelect:true,onChange:this.handleChange,onUpdate:this.handleSave}),_react2.default.createElement('button',{ref:'newFolderButton',parentFid:this.props.parentFid,className:'btn --input-adjacent',onClick:this.handleSave},_react2.default.createElement('i',{className:'icon-check'})));}});module.exports=NewFolderInput;},{"./EditableText.react":278,"react":236}],281:[function(require,module,exports){'use strict';var React=require('react');var classNames=require('classname');var noopEvent=function noopEvent(e){e.preventDefault();};var Tabs=React.createClass({displayName:'Tabs',propTypes:{className:React.PropTypes.oneOfType([React.PropTypes.array,React.PropTypes.string,React.PropTypes.object]),navClassName:React.PropTypes.oneOfType([React.PropTypes.array,React.PropTypes.string,React.PropTypes.object]),tabActive:React.PropTypes.number,onMount:React.PropTypes.func,onBeforeChange:React.PropTypes.func,onAfterChange:React.PropTypes.func,children:React.PropTypes.oneOfType([React.PropTypes.array,React.PropTypes.element]).isRequired,'data-hint':React.PropTypes.string},getDefaultProps:function getDefaultProps(){return{tabActive:1};},getInitialState:function getInitialState(){return{tabActive:this.props.tabActive};},getChildren:function getChildren(){var children=this.props.children;if(!Array.isArray(children)){children=[children];}
return children;},componentDidMount:function componentDidMount(){var index=this.state.tabActive;var $selectedPanel=this.refs['tab-panel'];var $selectedMenu=this.refs['tab-menu-'+index];if(this.props.onMount){this.props.onMount(index,$selectedPanel,$selectedMenu);}},render:function render(){var className=classNames(this.props.className);return React.createElement('div',{className:className},this._getMenuItems(),this._getSelectedPanel());},setActive:function setActive(index,e){var onAfterChange=this.props.onAfterChange;var onBeforeChange=this.props.onBeforeChange;var $selectedPanel=this.refs['tab-panel'];var $selectedTabMenu=this.refs['tab-menu-'+index];if(onBeforeChange){var cancel=onBeforeChange(index,$selectedPanel,$selectedTabMenu);if(cancel===false){return;}}
this.setState({tabActive:index},function(){if(onAfterChange){onAfterChange(index,$selectedPanel,$selectedTabMenu);}});e.preventDefault();},_getMenuItems:function _getMenuItems(){var _this=this;if(!this.props.children){throw new Error('Tabs must contain at least one Tabs.Panel');}
var children=this.getChildren();var $menuItems=children.map(function($panel){return typeof $panel==='function'?$panel():$panel;}).filter(function($panel){return $panel;}).map(function($panel,index){var ref='tab-menu-'+(index+1);var option=$panel.props.Option;var optionClasses=option?option.props.className:'';var classes=classNames(classNames(optionClasses),_this.state.tabActive===index+1&&'is-active');var onClick=$panel.props.deactivate?noopEvent:_this.setActive.bind(_this,index+1);return React.createElement('li',{ref:ref,key:index,className:classes},React.createElement('a',{href:'#',onClick:onClick,className:'link link--impt'},option));});var listStyle={marginLeft:0};return React.createElement('nav',{className:classNames(this.props.navClassName)},React.createElement('ul',{style:listStyle},$menuItems));},_getSelectedPanel:function _getSelectedPanel(){var index=this.state.tabActive-1;var $panel=this.getChildren()[index];return React.createElement('article',{ref:'tab-panel',className:classNames($panel.props.className)},$panel);}});Tabs.Panel=React.createClass({displayName:'Panel',propTypes:{className:React.PropTypes.oneOfType([React.PropTypes.array,React.PropTypes.string,React.PropTypes.object]),Option:React.PropTypes.element,children:React.PropTypes.oneOfType([React.PropTypes.array,React.PropTypes.element]),deactivate:React.PropTypes.bool},render:function render(){return React.createElement('div',null,this.props.children);}});Tabs.Option=React.createClass({displayName:'Option',propTypes:{title:React.PropTypes.string.isRequired,iconClass:React.PropTypes.string,className:React.PropTypes.oneOfType([React.PropTypes.array,React.PropTypes.string,React.PropTypes.object])},render:function render(){var icon;if(this.props.iconClass){icon=React.createElement('i',{className:classNames(this.props.iconClass,'+push-half-right-collapse +h4-size-on-small')});}
return React.createElement('div',{'data-hint':this.props['data-hint']},icon,React.createElement('span',{className:'+hide-small'},this.props.title),this.props.children);}});module.exports=Tabs;},{"classname":16,"react":236}],282:[function(require,module,exports){'use strict';var _i18n=require('../../i18n');var _appUtils=require('../../utils/appUtils');var _userMessages=require('../../templates/userMessages');var _FileActions=require('../../actions/FileActions');var _FileActions2=_interopRequireDefault(_FileActions);var _react=require('react');var _react2=_interopRequireDefault(_react);var _Spinny=require('../widgets/Spinny.react');var _Spinny2=_interopRequireDefault(_Spinny);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var PrivacyToggler=_react2.default.createClass({displayName:'PrivacyToggler',propTypes:{worldReadable:_react2.default.PropTypes.bool.isRequired,fid:_react2.default.PropTypes.string.isRequired,className:_react2.default.PropTypes.string.isRequired,filetype:_react2.default.PropTypes.string.isRequired,loadingStates:_react2.default.PropTypes.object,disabled:_react2.default.PropTypes.bool,isHidden:_react2.default.PropTypes.bool,isModal:_react2.default.PropTypes.bool},onClick:function onClick(){if(this.props.disabled)return false;var loadingId=(0,_appUtils.getLoadingId)('privacy',this.props.fid);var isLoading=this.props.loadingStates[loadingId];if(isLoading)return;var loadingOpts={loadingId:(0,_appUtils.getLoadingId)('privacy',this.props.fid)};if(this.props.filetype!=='fold'||this.props.isModal){_FileActions2.default.togglePrivacy(this.props.fid,!this.props.worldReadable,loadingOpts);}else{this.props.toggleConfirmationPane();}},render:function render(){if(this.props.isHidden)return null;var loadingId=(0,_appUtils.getLoadingId)('privacy',this.props.fid);var isLoading=this.props.loadingStates[loadingId];var msg;var locker;if(isLoading){msg=(0,_i18n._)('Loading...');locker=_react2.default.createElement(_Spinny2.default,{size:'tiny'});}else{msg=(0,_userMessages.privacyTooltipMessage)(this.props.filetype,this.props.worldReadable);locker=this.props.worldReadable?_react2.default.createElement('i',{className:'icon-unlock'}):_react2.default.createElement('i',{className:'icon-lock'});}
var className=this.props.className;if(this.props.disabled){msg=(0,_i18n._)('A parent folder of this item is Public, therefore this \nitem has inherited those permissions.');className+=' +disabled';locker=_react2.default.createElement('i',{className:'icon-unlock'});}
return _react2.default.createElement('div',{className:className,onClick:this.onClick,'data-hint':msg},locker);}});module.exports=PrivacyToggler;},{"../../actions/FileActions":269,"../../i18n":335,"../../templates/userMessages":346,"../../utils/appUtils":350,"../widgets/Spinny.react":323,"react":236}],283:[function(require,module,exports){'use strict';var _CardExpiration=require('./inputs/CardExpiration.react');var _CardExpiration2=_interopRequireDefault(_CardExpiration);var _CreditCardNumber=require('./inputs/CreditCardNumber.react');var _CreditCardNumber2=_interopRequireDefault(_CreditCardNumber);var _CVCInput=require('./inputs/CVCInput.react');var _CVCInput2=_interopRequireDefault(_CVCInput);var _Form=require('./Form.react');var _Form2=_interopRequireDefault(_Form);var _PlanConstants=require('../../constants/PlanConstants');var _PlanConstants2=_interopRequireDefault(_PlanConstants);var _PricingToggler=require('../settings/PricingToggler.react');var _PricingToggler2=_interopRequireDefault(_PricingToggler);var _react=require('react');var _react2=_interopRequireDefault(_react);var _requestMonitorMixin=require('../mixins/requestMonitor.mixin.js');var _requestMonitorMixin2=_interopRequireDefault(_requestMonitorMixin);var _StripeActions=require('../../actions//StripeActions');var StripeActions=_interopRequireWildcard(_StripeActions);var _stripeErrors=require('../../templates/stripeErrors');var stripeErrors=_interopRequireWildcard(_stripeErrors);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var CreditCardForm=_react2.default.createClass({displayName:'CreditCardForm',mixins:[_requestMonitorMixin2.default],propTypes:{onComplete:_react.PropTypes.func.isRequired,featureSetID:_react.PropTypes.oneOf([_PlanConstants2.default.FEATURE_SETS.professional]).isRequired,billingFrequency:_react.PropTypes.oneOf([_PlanConstants2.default.MONTHLY,_PlanConstants2.default.YEARLY]).isRequired,setBillingFrequency:_react2.default.PropTypes.func.isRequired},getStripeError:function getStripeError(){var requestError=this.getRequestError();var stripeError=requestError?requestError.error:null;var hasStripeError=!!stripeError&&!!Object.keys(stripeError).length;return hasStripeError?stripeError:null;},getInputErrors:function getInputErrors(){var stripeError=this.getStripeError();if(!stripeError)return{};return{number:stripeErrors.formatCardError(stripeError),cvc:stripeErrors.formatCVCError(stripeError),expDate:stripeErrors.formatExpDateError(stripeError)};},getFormErrors:function getFormErrors(){var formErrors=[];var requestError=this.getRequestError();var isServerError=Array.isArray(requestError);var hasServerError=isServerError&&!!requestError.length;if(hasServerError){formErrors.push(requestError[0].message);}
var stripeError=this.getStripeError();if(stripeError&&!stripeError.param){formErrors.push(stripeError.message);}
return formErrors;},onRequestChange:function onRequestChange(){if(this.isRequestSuccess()){this.props.onComplete();}},getFormData:function getFormData(){var cardNumber=this.refs.number.getValue()||'';var cvc=this.refs.cvc.getValue();var _refs$expDate$getValu=this.refs.expDate.getValue();var expMonth=_refs$expDate$getValu.expMonth;var expYear=_refs$expDate$getValu.expYear;return{number:cardNumber,cvc:cvc,expMonth:expMonth,expYear:expYear,billingFrequency:this.props.billingFrequency,featureSetID:this.props.featureSetID};},onSubmit:function onSubmit(){if(window.mixpanel){window.mixpanel.track('User clicked submit payment in subscription modal');}
var formData=this.getFormData();var requestID=StripeActions.submitPayment(formData);this.setRequestID(requestID);},render:function render(){var disableSubmission=this.isRequestPending();var isDone=this.isRequestDone();var hasError=isDone&&!!this.getRequestError();var inputErrors=this.getInputErrors();var formErrors=this.getFormErrors();return _react2.default.createElement(_Form2.default,{ref:'stripeForm',className:'credit-card-form',onSubmit:this.onSubmit},_react2.default.createElement('div',{className:'form-group +soft-quarter'},_react2.default.createElement('label',null,'Billing period'),_react2.default.createElement('div',{className:'+soft-quarter-ends'},_react2.default.createElement(_PricingToggler2.default,{currentPricingScheme:this.props.billingFrequency,setPricingScheme:this.props.setBillingFrequency}))),_react2.default.createElement('div',{className:'form-group +soft-quarter'},_react2.default.createElement('label',null,'Card Number'),_react2.default.createElement(_CreditCardNumber2.default,{ref:'number'}),!!inputErrors.number?_react2.default.createElement('div',{ref:'numberError',className:'form-errors'},inputErrors.number):null),_react2.default.createElement('div',{className:'block-group'},_react2.default.createElement('div',{className:'block block-60'},_react2.default.createElement('div',{className:'form-group +push-half-right +soft-quarter'},_react2.default.createElement('label',null,'Expiration (MM / YYYY)'),_react2.default.createElement(_CardExpiration2.default,{ref:'expDate'}),!!inputErrors.expDate?_react2.default.createElement('div',{ref:'expDateError',className:'form-errors'},inputErrors.expDate):null)),_react2.default.createElement('div',{className:'block block-40'},_react2.default.createElement('div',{className:'form-group +soft-quarter'},_react2.default.createElement('label',null,'CVC'),_react2.default.createElement(_CVCInput2.default,{disabled:disableSubmission,ref:'cvc'})),!!inputErrors.cvc?_react2.default.createElement('div',{ref:'cvcError',className:'form-errors'},inputErrors.cvc):null)),hasError&&!!formErrors.length?_react2.default.createElement('div',{className:'form-errors +soft-top +text-center'},_react2.default.createElement('p',{className:'+push-none'},_react2.default.createElement('span',null,'An error occurred and your payment could not be completed. Please try again, or get in touch with us at '),_react2.default.createElement('a',{href:'mailto:'+_PlanConstants2.default.CONTACT_EMAIL},_PlanConstants2.default.CONTACT_EMAIL)),formErrors.map(function(message,i){return _react2.default.createElement('p',{className:'+push-quarter-top',key:i},message);})):null,_react2.default.createElement('div',{className:'+soft-top'},_react2.default.createElement('div',{className:'block-group'},_react2.default.createElement('div',{className:'block +text-center'},_react2.default.createElement('p',{className:'credit-card-stripe-msg'},_react2.default.createElement('i',{className:'icon-lock'}),' All payments are securely processed through ',_react2.default.createElement('a',{href:'https://stripe.com',target:'_blank'},_react2.default.createElement('i',{className:'icon-logo-stripe'})))),_react2.default.createElement('div',{className:'block'},_react2.default.createElement('button',{className:'btn --full-width js-subscription-cc-submit',type:'submit',disabled:disableSubmission},this.isRequestPending()?"Processing...":"Submit Payment")))));}});module.exports=CreditCardForm;},{"../../actions//StripeActions":275,"../../constants/PlanConstants":330,"../../templates/stripeErrors":345,"../mixins/requestMonitor.mixin.js":291,"../settings/PricingToggler.react":320,"./Form.react":284,"./inputs/CVCInput.react":285,"./inputs/CardExpiration.react":286,"./inputs/CreditCardNumber.react":287,"react":236}],284:[function(require,module,exports){"use strict";var _classnames=require("classnames");var _classnames2=_interopRequireDefault(_classnames);var _requestMonitor=require("../mixins/requestMonitor.mixin");var _requestMonitor2=_interopRequireDefault(_requestMonitor);var _react=require("react");var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
module.exports=_react2.default.createClass({displayName:"exports",mixins:[_requestMonitor2.default],propTypes:{onSubmit:_react.PropTypes.func,className:_react.PropTypes.string,disabledClass:_react.PropTypes.string},getDefaultProps:function getDefaultProps(){return{className:"",disabledClass:"--disabled"};},getClassName:function getClassName(){var classNames={};classNames[this.props.className]=true;classNames[this.props.disabledClass]=this.isDisabled();return(0,_classnames2.default)(classNames);},isDisabled:function isDisabled(){return this.isRequestPending();},_onSubmit:function _onSubmit(e){e.preventDefault();if(!this.isDisabled()&&this.props.onSubmit){this.props.onSubmit();}},render:function render(){return _react2.default.createElement("form",{className:this.getClassName(),onSubmit:this._onSubmit},this.props.children);}});},{"../mixins/requestMonitor.mixin":291,"classnames":22,"react":236}],285:[function(require,module,exports){'use strict';var _react=require('react');var _react2=_interopRequireDefault(_react);var _subscriptionUtils=require('../../../utils/subscriptionUtils');var subscriptionUtils=_interopRequireWildcard(_subscriptionUtils);var _EditableText=require('../../EditableText.react');var _EditableText2=_interopRequireDefault(_EditableText);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var CVCForm=_react2.default.createClass({displayName:'CVCForm',getInitialState:function getInitialState(){return{cvcNumber:null};},getValue:function getValue(){return this.state.cvcNumber.replace(/ /g,'');},_onChange:function _onChange(event){var cvcNumber=event.target.value;this.setState({cvcNumber:cvcNumber});},render:function render(){return _react2.default.createElement('div',{className:'credit-card-input'},_react2.default.createElement('div',{className:'+clearfix'},_react2.default.createElement('input',{value:this.state.cvcNumber,className:'js-subscription-cc-cvc',onChange:this._onChange})));}});module.exports=CVCForm;},{"../../../utils/subscriptionUtils":371,"../../EditableText.react":278,"react":236}],286:[function(require,module,exports){'use strict';var _subscriptionUtils=require('../../../utils/subscriptionUtils');var subscriptionUtils=_interopRequireWildcard(_subscriptionUtils);var _react=require('react');var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
module.exports=_react2.default.createClass({displayName:'exports',getInitialState:function getInitialState(){return{expDate:null};},getValue:function getValue(){return subscriptionUtils.parseExpirationDate(this.state.expDate);},_onChange:function _onChange(event){var expDate=event.target.value;this.setState({expDate:expDate});},render:function render(){var expDate=this.state.expDate;return _react2.default.createElement('input',{onChange:this._onChange,value:expDate,className:'js-subscription-cc-date',placeholder:'MM / YYYY'});}});},{"../../../utils/subscriptionUtils":371,"react":236}],287:[function(require,module,exports){"use strict";var _AppConstants=require("../../../constants/AppConstants");var _subscriptionUtils=require("../../../utils/subscriptionUtils");var subscriptionUtils=_interopRequireWildcard(_subscriptionUtils);var _EditableText=require("../../EditableText.react");var _EditableText2=_interopRequireDefault(_EditableText);var _react=require("react");var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
module.exports=_react2.default.createClass({displayName:"exports",propTypes:{className:_react.PropTypes.string},getInitialState:function getInitialState(){return{cardNumber:null};},getValue:function getValue(){return this.state.cardNumber;},_onChange:function _onChange(cardNumber){var tidyNumber=cardNumber.replace(/ /g,'');this.setState({cardNumber:tidyNumber});},render:function render(){var cardNumber=this.state.cardNumber;var isValid=subscriptionUtils.validateCardNumber(cardNumber);var displayNumber=subscriptionUtils.formatCardNumber(cardNumber);var cardType=subscriptionUtils.getCardType(cardNumber);var cardIcon=_AppConstants.CREDIT_CARD_ICONS[cardType];var iconClass=["credit-card-icon",cardIcon].join(" ");return _react2.default.createElement("div",{className:"credit-card-input"},_react2.default.createElement("div",{className:"+clearfix"},_react2.default.createElement(_EditableText2.default,{text:displayNumber,className:"js-subscription-cc-number",onChange:this._onChange}),cardIcon?_react2.default.createElement("i",{ref:"cardIcon",className:iconClass}):null));}});},{"../../../constants/AppConstants":324,"../../../utils/subscriptionUtils":371,"../../EditableText.react":278,"react":236}],288:[function(require,module,exports){'use strict';var ContentStore=require('../../stores/ContentStore');module.exports={componentDidMount:function componentDidMount(){ContentStore.addChangeListener(this._onChange);},componentWillUnmount:function componentWillUnmount(){ContentStore.removeChangeListener(this._onChange);}};},{"../../stores/ContentStore":337}],289:[function(require,module,exports){'use strict';var EnvironmentStore=require('../../stores/EnvironmentStore');module.exports={componentDidMount:function componentDidMount(){EnvironmentStore.addChangeListener(this._onChange);},componentWillUnmount:function componentWillUnmount(){EnvironmentStore.removeChangeListener(this._onChange);}};},{"../../stores/EnvironmentStore":339}],290:[function(require,module,exports){'use strict';var PopStore=require('../../stores/PopStore');module.exports={componentDidMount:function componentDidMount(){PopStore.addChangeListener(this._onChange);},componentWillUnmount:function componentWillUnmount(){PopStore.removeChangeListener(this._onChange);}};},{"../../stores/PopStore":341}],291:[function(require,module,exports){"use strict";var _AppConstants=require("../../constants/AppConstants");var _immutable=require("immutable");var _immutable2=_interopRequireDefault(_immutable);var _RequestStore=require("../../stores/RequestStore");var _RequestStore2=_interopRequireDefault(_RequestStore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
module.exports={componentDidMount:function componentDidMount(){_RequestStore2.default.addChangeListener(this._onRequestChange);},componentWillUnmount:function componentWillUnmount(){_RequestStore2.default.removeChangeListener(this._onRequestChange);},getInitialState:function getInitialState(){return{request:_immutable2.default.Map(),requestID:null};},_onRequestChange:function _onRequestChange(){this.setState(this.getRequestState());if(typeof this.onRequestChange==="function"){this.onRequestChange();}
if(this.isRequestSuccess()&&typeof this.onRequestSuccess==="function"){this.onRequestSuccess();}else if(this.isRequestFailure()&&typeof this.onRequestFailure==="function"){this.onRequestFailure();}},getRequestState:function getRequestState(){return{request:_RequestStore2.default.get(this.state.requestID)};},setRequestID:function setRequestID(requestID){this.setState({requestID:requestID,request:_RequestStore2.default.get(requestID)});},isRequestDone:function isRequestDone(){var hasRequest=!!this.state.requestID;var isRequestDone=this.isRequestSuccess()||this.isRequestFailure();return hasRequest&&isRequestDone;},getRequestStatus:function getRequestStatus(){return this.state.request.get("status",null);},isRequestPending:function isRequestPending(){return this.getRequestStatus()===_AppConstants.STATUS.PENDING;},isRequestSuccess:function isRequestSuccess(){return this.getRequestStatus()===_AppConstants.STATUS.SUCCESS;},isRequestFailure:function isRequestFailure(){var requestStatus=this.getRequestStatus();return requestStatus===_AppConstants.STATUS.FAILURE||requestStatus===_AppConstants.STATUS.SERVER_ERROR;},getRequestData:function getRequestData(){var immutableData=this.state.request.get("data",_immutable2.default.Map());return immutableData?immutableData.toJS():{};},getRequestError:function getRequestError(){var immutableData=this.state.request.get("error",_immutable2.default.Map());return immutableData?immutableData.toJS():{};}};},{"../../constants/AppConstants":324,"../../stores/RequestStore":342,"immutable":58}],292:[function(require,module,exports){'use strict';var _SubscriptionStore=require('../../stores/SubscriptionStore');var _SubscriptionStore2=_interopRequireDefault(_SubscriptionStore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
module.exports={componentDidMount:function componentDidMount(){_SubscriptionStore2.default.addChangeListener(this._onChange);},componentWillUnmount:function componentWillUnmount(){_SubscriptionStore2.default.removeChangeListener(this._onChange);}};},{"../../stores/SubscriptionStore":343}],293:[function(require,module,exports){'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _PopActionCreators=require('../../actions/PopActionCreators');var _PopActionCreators2=_interopRequireDefault(_PopActionCreators);var _PopConstants=require('../../constants/PopConstants');var _PopConstants2=_interopRequireDefault(_PopConstants);var _react=require('react');var _react2=_interopRequireDefault(_react);var _SigninForm=require('./authentication/SigninForm.react');var _SigninForm2=_interopRequireDefault(_SigninForm);var _SignupForm=require('./authentication/SignupForm.react');var _SignupForm2=_interopRequireDefault(_SignupForm);var _classnames=require('classnames');var _classnames2=_interopRequireDefault(_classnames);var _i18n=require('../../i18n');var _reactRedux=require('react-redux');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var TAB_TYPES=_PopConstants2.default.AUTHENTICATION_MODAL_TABS;var AuthenticationModal=(function(_Component){_inherits(AuthenticationModal,_Component);function AuthenticationModal(params){_classCallCheck(this,AuthenticationModal);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(AuthenticationModal).call(this,params));_this.closeModal=_this.closeModal.bind(_this);return _this;}
_createClass(AuthenticationModal,[{key:'closeModal',value:function closeModal(){this.props.dispatch(_PopActionCreators2.default.closeModal());}},{key:'createTypeSwitchHandler',value:function createTypeSwitchHandler(newType){var _this2=this;return function(){var _props=_this2.props;var dispatch=_props.dispatch;var userInfo=_props.userInfo;dispatch(_PopActionCreators2.default.openAuthenticationModal(newType,userInfo));};}},{key:'render',value:function render(){var tab=this.props.tab;var content=undefined;switch(tab){case TAB_TYPES.SIGNIN:content=_react2.default.createElement(_SigninForm2.default,null);break;case TAB_TYPES.SIGNUP:content=_react2.default.createElement(_SignupForm2.default,null);break;}
return _react2.default.createElement('div',{className:'auth-modal newmodal is-shown clearfix',id:'authenticationModal'},_react2.default.createElement('aside',{className:'auth-modal__branding'},_react2.default.createElement('div',{className:'auth-modal__branding__logo'}),_react2.default.createElement('h1',{className:'auth-modal__branding__heading'},(0,_i18n._)('Analyze and visualize'),_react2.default.createElement('br',null),(0,_i18n._)('data, together.')),_react2.default.createElement('ul',{className:'auth-modal__branding__points'},_react2.default.createElement('li',null,(0,_i18n._)('Plotly is free and online')),_react2.default.createElement('li',null,(0,_i18n._)('Plotly lets you collaboratively make beautiful graphs')),_react2.default.createElement('li',null,(0,_i18n._)('You own your data'),_react2.default.createElement('br',null),(0,_i18n._)('and control your privacy')))),_react2.default.createElement('section',{className:'auth-modal__content'},this.renderContentHeader(),_react2.default.createElement('div',{ref:'content'},content)),_react2.default.createElement('div',{className:'newmodal-close',ref:'closeModal',onClick:this.closeModal},_react2.default.createElement('i',{className:'icon-close'})));}},{key:'renderContentHeader',value:function renderContentHeader(){var tab=this.props.tab;function typeSwitchLinkClasses(targetType){return(0,_classnames2.default)({'auth-modal__content__type-link':true,'auth-modal__content__type-link--active':tab===targetType});}
var signinLinkClasses=typeSwitchLinkClasses(TAB_TYPES.SIGNIN);var signupLinkClasses=typeSwitchLinkClasses(TAB_TYPES.SIGNUP);return _react2.default.createElement('header',{className:'auth-modal__content__header'},_react2.default.createElement('button',{onClick:this.createTypeSwitchHandler(TAB_TYPES.SIGNIN),className:signinLinkClasses},(0,_i18n._)('Sign in')),_react2.default.createElement('button',{onClick:this.createTypeSwitchHandler(TAB_TYPES.SIGNUP),className:signupLinkClasses},(0,_i18n._)('Sign up')));}}]);return AuthenticationModal;})(_react.Component);AuthenticationModal.propTypes={tab:_react.PropTypes.string.isRequired,userInfo:_react.PropTypes.object.isRequired};module.exports=(0,_reactRedux.connect)()(AuthenticationModal);module.exports.AuthenticationModal=AuthenticationModal;},{"../../actions/PopActionCreators":272,"../../constants/PopConstants":331,"../../i18n":335,"./authentication/SigninForm.react":305,"./authentication/SignupForm.react":306,"classnames":22,"react":236,"react-redux":65}],294:[function(require,module,exports){'use strict';var _react=require('react');var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var ConfirmationDialogue=_react2.default.createClass({displayName:'ConfirmationDialogue',propTypes:{confirmationMessage:_react2.default.PropTypes.string.isRequired,onConfirm:_react2.default.PropTypes.func.isRequired,onCancel:_react2.default.PropTypes.func.isRequired},render:function render(){return _react2.default.createElement('div',null,this.props.confirmationMessage,_react2.default.createElement('div',{className:'movemodal-actions-right'},_react2.default.createElement('button',{className:'btn --secondary',ref:'privacyConfirmationBackButton',onClick:this.props.onCancel},'Back'),_react2.default.createElement('button',{className:'btn',ref:'privacyConfirmationButton',onClick:this.props.onConfirm},'Confirm')));}});module.exports=ConfirmationDialogue;},{"react":236}],295:[function(require,module,exports){'use strict';var _sharingUtils=require('../../utils/sharingUtils');var sharing=_interopRequireWildcard(_sharingUtils);var _PopActions=require('../../actions/PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _react=require('react');var _react2=_interopRequireDefault(_react);var _dashboardlyEncoder=require('../../utils/dashboardlyEncoder');var _dashboardlyEncoder2=_interopRequireDefault(_dashboardlyEncoder);var _i18n=require('../../i18n');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
var DashboardlyModal=_react2.default.createClass({displayName:'DashboardlyModal',propTypes:{fids:_react2.default.PropTypes.arrayOf(_react2.default.PropTypes.string).isRequired,username:_react2.default.PropTypes.string.isRequired},openDashboardly:function openDashboardly(){var fids=this.props.fids;var username=this.props.username;var url=(0,_dashboardlyEncoder2.default)(fids,username);window.open(url,'_blank');_PopActions2.default.closeModal();},confirmationText:function confirmationText(hasPublicPlots,hasPrivatePlots,hasSharedPlots){var permissionComments=[];if(hasPublicPlots){permissionComments.push('public plots');}
if(hasPrivatePlots){permissionComments.push('private plots');}
if(hasSharedPlots){permissionComments.push('private plots with sharing enabled');}
var comment=permissionComments.join(' and ');if(permissionComments.length===3){comment=comment.replace(/\sand/,',');}
return(0,_i18n._)('We noticed you have '+comment+'.');},renderInfoTable:function renderInfoTable(hasPublicPlots,hasPrivatePlots,hasSharedPlots){var tbody=[];if(hasPublicPlots){tbody.push(_react2.default.createElement('tr',{key:'public',className:'+valign-top'},_react2.default.createElement('th',{className:'dashboardly-modal-table-left'},(0,_i18n._)('Public')),_react2.default.createElement('th',{className:'dashboardly-modal-table-right'},(0,_i18n._)('Anyone will be able to view these plots in your dashboard.'))));}
if(hasPrivatePlots){tbody.push(_react2.default.createElement('tr',{key:'private',className:'+valign-top'},_react2.default.createElement('th',{className:'dashboardly-modal-table-left'},(0,_i18n._)('Private')),_react2.default.createElement('th',{className:'dashboardly-modal-table-right'},(0,_i18n._)(['Private plots are only visible to you and this is the same for Dashboardly.','Even if you share the Dashboard with others they will not be able to','view these plots.'].join(' ')))));}
if(hasSharedPlots){tbody.push(_react2.default.createElement('tr',{key:'shared',className:'+valign-top'},_react2.default.createElement('th',{className:'dashboardly-modal-table-left'},(0,_i18n._)('Private with sharing enabled')),_react2.default.createElement('th',{className:'dashboardly-modal-table-right'},(0,_i18n._)(['These plots are private but have the secret sharable key enabled.','Everyone will be able to view your plots in the dashboard but they','will also have access to the plot\'s share key. You should share the','dashboard with only those whom you want to share the plot with.'].join(' ')))));}
return _react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{className:'dashboardly-modal-table-title +soft-half-right'},'Permissions'),_react2.default.createElement('th',{className:'dashboardly-modal-table-title +soft-half-left'},'Description'))),_react2.default.createElement('tbody',null,tbody));},render:function render(){var hasPublicPlots=this.props.fids.some(sharing.isFilePublic);var hasPrivatePlots=this.props.fids.some(sharing.isFilePrivateNoKey);var hasSharedPlots=this.props.fids.some(sharing.isFilePrivateShareKey);return _react2.default.createElement('div',{className:'newmodal medium is-shown'},_react2.default.createElement('div',{className:'newmodal-content'},_react2.default.createElement('div',{className:'+push-sides-double'},_react2.default.createElement('h3',{className:'dashboardly-modal-header +soft-top-double',ref:'dashboardlyHeader'},this.confirmationText(hasPublicPlots,hasPrivatePlots,hasSharedPlots)),_react2.default.createElement('h3',{className:'dashboardly-modal-header'},'Read below for some info on how these permissions will work with dashboards.ly'),this.renderInfoTable(hasPublicPlots,hasPrivatePlots,hasSharedPlots)),_react2.default.createElement('div',{className:'newmodal-footer +soft-half +text-center'},_react2.default.createElement('button',{ref:'cancelDashboardlyButton',className:'btn --secondary',onClick:_PopActions2.default.closeModal},(0,_i18n._)('Cancel')),_react2.default.createElement('button',{ref:'openDashboardlyButton',onClick:this.openDashboardly,className:'btn'},(0,_i18n._)('Got it, thanks!')))));}});module.exports=DashboardlyModal;},{"../../actions/PopActions":273,"../../i18n":335,"../../utils/dashboardlyEncoder":351,"../../utils/sharingUtils":367,"react":236}],296:[function(require,module,exports){'use strict';var _i18n=require('../../i18n');var _react=require('react');var _react2=_interopRequireDefault(_react);var _PopActions=require('../../actions/PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _FileActions=require('../../actions/FileActions');var _FileActions2=_interopRequireDefault(_FileActions);var _appUtils=require('../../utils/appUtils');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var DeleteFilesModal=_react2.default.createClass({displayName:'DeleteFilesModal',propTypes:{isPermanent:_react2.default.PropTypes.bool,fids:_react2.default.PropTypes.arrayOf(_react2.default.PropTypes.string).isRequired},deleteFiles:function deleteFiles(){var _this=this;this.props.fids.forEach(function(fid){var loadingId=(0,_appUtils.getLoadingId)('delete',fid);if(_this.props.isPermanent){_FileActions2.default.permanentDelete(fid,{loadingId:loadingId});}else _FileActions2.default.delete(fid,{loadingId:loadingId});});_PopActions2.default.closeModal();},closeModal:function closeModal(){_PopActions2.default.closeModal();},render:function render(){var len=this.props.fids.length;var deleteLabel=this.props.isPermanent?'Permanently delete':'Delete';return _react2.default.createElement('div',{className:'newmodal small is-shown',id:'newFolderModal'},_react2.default.createElement('div',{className:'newmodal-content +soft-half'},_react2.default.createElement('h3',{className:'newmodal-heading',ref:'deleteFilesHeader'},(0,_i18n.pluralize)(deleteLabel+' file?',deleteLabel+' '+len+' files?',len)),_react2.default.createElement('div',{className:'newmodal-footer +soft-half +text-center'},_react2.default.createElement('button',{ref:'closeDeleteModal',className:'btn --secondary',onClick:this.closeModal},(0,_i18n._)('Cancel')),_react2.default.createElement('button',{ref:'deleteFilesButton',onClick:this.deleteFiles,className:'btn'},(0,_i18n._)('Delete')))));}});module.exports=DeleteFilesModal;},{"../../actions/FileActions":269,"../../actions/PopActions":273,"../../i18n":335,"../../utils/appUtils":350,"react":236}],297:[function(require,module,exports){'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _react=require('react');var _react2=_interopRequireDefault(_react);var _PopStore=require('../../stores/PopStore');var _PopStore2=_interopRequireDefault(_PopStore);var _PopActions=require('../../actions/PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _DialogueBox=require('./DialogueBox.react');var _DialogueBox2=_interopRequireDefault(_DialogueBox);var _popStore=require('../mixins/popStore.mixin');var _popStore2=_interopRequireDefault(_popStore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var DialogueController=_react2.default.createClass({displayName:'DialogueController',mixins:[_popStore2.default],getInitialState:function getInitialState(){return this.getState();},getState:function getState(){return{dialogues:_PopStore2.default.getDialogues()};},_onChange:function _onChange(){this.setState(this.getState());},handleClose:function handleClose(dialogueID){_PopActions2.default.closeDialogue(dialogueID);},render:function render(){var _this=this;var dialogueBoxes=this.state.dialogues.map(function(dialogue){return _react2.default.createElement(_DialogueBox2.default,_extends({key:dialogue.id},dialogue,{onClose:_this.handleClose}));});return _react2.default.createElement('div',{ref:'dialogues',className:'dialogue-controller'},dialogueBoxes);}});module.exports=DialogueController;},{"../../actions/PopActions":273,"../../stores/PopStore":341,"../mixins/popStore.mixin":290,"./DialogueBox.react":298,"react":236}],298:[function(require,module,exports){'use strict';var _PopConstants=require("../../constants/PopConstants");var _AppConstants=require("../../constants/AppConstants");var _react=require("react");var _react2=_interopRequireDefault(_react);var _LinkText=require("../LinkText.react");var _LinkText2=_interopRequireDefault(_LinkText);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var DialogueBox=_react2.default.createClass({displayName:"DialogueBox",propTypes:{id:_react2.default.PropTypes.string.isRequired,onClose:_react2.default.PropTypes.func.isRequired,type:_react2.default.PropTypes.oneOf([_PopConstants.DIALOGUE_TYPES.THROTTLED]),text:_react2.default.PropTypes.string,duration:_react2.default.PropTypes.number,isError:_react2.default.PropTypes.bool,onInfoClick:_react2.default.PropTypes.func},getClassName:function getClassName(){var classnames=['dialoguebox'];if(this.props.isError)classnames.push('error');return classnames.join(' ');},onInfoClick:function onInfoClick(e){if(this.props.onInfoClick){this.props.onInfoClick();}
this.props.onClose();},renderThrottleDialogue:function renderThrottleDialogue(){return _react2.default.createElement("span",{ref:"dialogueMessage"},"You've reached the daily usage limits of the free tier. Try again tomorrow, or ",_react2.default.createElement("a",{href:_AppConstants.PLOTLY_URLS.PRICING,target:"_blank"},"upgrade to a paid account")," to continue. (",_react2.default.createElement("a",{onClick:this.onInfoClick},"Learn more"),")");},renderGenericDialogue:function renderGenericDialogue(){return _react2.default.createElement(_LinkText2.default,{ref:"dialogueMessage"},this.props.text);},renderMessage:function renderMessage(){switch(this.props.type){case _PopConstants.DIALOGUE_TYPES.THROTTLED:return this.renderThrottleDialogue();default:return this.renderGenericDialogue();}},render:function render(){var duration=this.props.duration;if(duration)setTimeout(this.props.onClose,duration);var boundClose=this.props.onClose.bind(null,this.props.id);return _react2.default.createElement("div",{ref:"dialogue",className:this.getClassName()},_react2.default.createElement("div",{className:"block-group +flex"},_react2.default.createElement("div",{className:"block block-90"},_react2.default.createElement("div",{ref:"dialogueText",className:"dialoguebox-text"},this.renderMessage())),_react2.default.createElement("div",{className:"block block-10 +flex-center"},_react2.default.createElement("div",{ref:"dialogueClose",className:"dialoguebox-close",onClick:boundClose},_react2.default.createElement("i",{className:"icon-close"})))));}});module.exports=DialogueBox;},{"../../constants/AppConstants":324,"../../constants/PopConstants":331,"../LinkText.react":279,"react":236}],299:[function(require,module,exports){'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _AppConstants=require('../../constants/AppConstants');var _AppActions=require('../../actions/AppActions');var _AppActions2=_interopRequireDefault(_AppActions);var _contentStore=require('../mixins/contentStore.mixin');var _contentStore2=_interopRequireDefault(_contentStore);var _ContentStore=require('../../stores/ContentStore');var _ContentStore2=_interopRequireDefault(_ContentStore);var _DashboardlyModal=require('./DashboardlyModal.react');var _DashboardlyModal2=_interopRequireDefault(_DashboardlyModal);var _DeleteFilesModal=require('./DeleteFilesModal.react');var _DeleteFilesModal2=_interopRequireDefault(_DeleteFilesModal);var _environmentStore=require('../mixins/environmentStore.mixin');var _environmentStore2=_interopRequireDefault(_environmentStore);var _EnvironmentStore=require('../../stores/EnvironmentStore');var _EnvironmentStore2=_interopRequireDefault(_EnvironmentStore);var _MoveModal=require('./MoveModal.react');var _MoveModal2=_interopRequireDefault(_MoveModal);var _NewFolderModal=require('./NewFolderModal.react');var _NewFolderModal2=_interopRequireDefault(_NewFolderModal);var _PopActions=require('../../actions/PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _PopConstants=require('../../constants/PopConstants');var _PopConstants2=_interopRequireDefault(_PopConstants);var _PopStore=require('../../stores/PopStore');var _PopStore2=_interopRequireDefault(_PopStore);var _popStore=require('../mixins/popStore.mixin');var _popStore2=_interopRequireDefault(_popStore);var _react=require('react');var _react2=_interopRequireDefault(_react);var _SharingModal=require('./sharing/SharingModal.react');var _SharingModal2=_interopRequireDefault(_SharingModal);var _SubscriptionModal=require('./subscription/SubscriptionModal.react');var _SubscriptionModal2=_interopRequireDefault(_SubscriptionModal);var _CancelSubscriptionModal=require('./subscription/CancelSubscriptionModal.react');var _CancelSubscriptionModal2=_interopRequireDefault(_CancelSubscriptionModal);var _ReactivateSubscriptionModal=require('./subscription/ReactivateSubscriptionModal.react');var _ReactivateSubscriptionModal2=_interopRequireDefault(_ReactivateSubscriptionModal);var _ThrottledModal=require('./ThrottledModal.react');var _ThrottledModal2=_interopRequireDefault(_ThrottledModal);var _AuthenticationModal=require('./AuthenticationModal.react');var _AuthenticationModal2=_interopRequireDefault(_AuthenticationModal);var _UserStore=require('../../stores/UserStore');var _UserStore2=_interopRequireDefault(_UserStore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var ModalController=_react2.default.createClass({displayName:'ModalController',mixins:[_popStore2.default,_contentStore2.default,_environmentStore2.default],componentWillMount:function componentWillMount(){_AppActions2.default.initializeEnvironment();},getInitialState:function getInitialState(){return this.getState();},getState:function getState(){var enableSocialSharing=_EnvironmentStore2.default.get(_AppConstants.ENV_SETTINGS.SOCIAL_SHARING_ENABLED);return{enableSocialSharing:enableSocialSharing,loadingStates:_ContentStore2.default.getLoadingStates(),modal:_PopStore2.default.getModal(),isPublicView:_ContentStore2.default.isPublicView(),isOwnProfile:_UserStore2.default.isOwnProfile()};},handleOverlayClick:function handleOverlayClick(){var isSubscriptionModal=this.state.modal.type===_PopConstants.MODAL_TYPES.SUBSCRIPTION;if(isSubscriptionModal){if(!this.state.modal.isClosing){_PopActions2.default.toggleCloseConfirmation(!this.state.modal.isClosing);}}
else _PopActions2.default.closeModal();},_onChange:function _onChange(){this.setState(this.getState());},render:function render(){var modal=null;switch(this.state.modal.type){case _PopConstants.MODAL_TYPES.SHARE_FILE:var activeTabIndex=this.state.modal.data.activeTabIndex;modal=_react2.default.createElement(_SharingModal2.default,_extends({},this.state.modal.data,{activeTabIndex:activeTabIndex,loadingStates:this.state.loadingStates,isPublicView:this.state.isPublicView,isOwnProfile:this.state.isOwnProfile,enableSocialSharing:this.state.enableSocialSharing}));break;case _PopConstants.MODAL_TYPES.MOVE_FILE:modal=_react2.default.createElement(_MoveModal2.default,this.state.modal.data);break;case _PopConstants.MODAL_TYPES.NEW_FOLDER:modal=_react2.default.createElement(_NewFolderModal2.default,{parentFid:this.state.modal.data.fid});break;case _PopConstants.MODAL_TYPES.DELETE_FILE:modal=_react2.default.createElement(_DeleteFilesModal2.default,this.state.modal.data);break;case _PopConstants.MODAL_TYPES.DASHBOARDLY:modal=_react2.default.createElement(_DashboardlyModal2.default,this.state.modal.data);break;case _PopConstants.MODAL_TYPES.SUBSCRIPTION:modal=_react2.default.createElement(_SubscriptionModal2.default,_extends({isClosing:this.state.modal.isClosing},this.state.modal.data));break;case _PopConstants.MODAL_TYPES.CANCEL_SUBSCRIPTION:modal=_react2.default.createElement(_CancelSubscriptionModal2.default,this.state.modal.data);break;case _PopConstants.MODAL_TYPES.REACTIVATE_SUBSCRIPTION:modal=_react2.default.createElement(_ReactivateSubscriptionModal2.default,{plan:this.state.modal.data});break;case _PopConstants.MODAL_TYPES.AUTHENTICATION:modal=_react2.default.createElement(_AuthenticationModal2.default,this.state.modal.data);break;case _PopConstants.MODAL_TYPES.THROTTLED:modal=_react2.default.createElement(_ThrottledModal2.default,null);break;}
if(modal){return _react2.default.createElement('div',{className:'newmodal-wrapper +flex-center'},modal,_react2.default.createElement('div',{ref:'modalOverlay',className:'newmodal-overlay',onClick:this.handleOverlayClick}));}else{return _react2.default.createElement('div',null);}}});module.exports=ModalController;},{"../../actions/AppActions":267,"../../actions/PopActions":273,"../../constants/AppConstants":324,"../../constants/PopConstants":331,"../../stores/ContentStore":337,"../../stores/EnvironmentStore":339,"../../stores/PopStore":341,"../../stores/UserStore":344,"../mixins/contentStore.mixin":288,"../mixins/environmentStore.mixin":289,"../mixins/popStore.mixin":290,"./AuthenticationModal.react":293,"./DashboardlyModal.react":295,"./DeleteFilesModal.react":296,"./MoveModal.react":302,"./NewFolderModal.react":303,"./ThrottledModal.react":304,"./sharing/SharingModal.react":311,"./subscription/CancelSubscriptionModal.react":314,"./subscription/ReactivateSubscriptionModal.react":317,"./subscription/SubscriptionModal.react":319,"react":236}],300:[function(require,module,exports){'use strict';var React=require('react');var BreadCrumb=React.createClass({displayName:'BreadCrumb',propTypes:{fid:React.PropTypes.string.isRequired,filename:React.PropTypes.string.isRequired,navigateTo:React.PropTypes.func.isRequired},navigate:function navigate(){this.props.navigateTo(this.props.fid);},render:function render(){if(this.props.fid==='home'){return React.createElement('span',{onClick:this.navigate},React.createElement('i',{className:'icon-home folderlist-breadcrumb-icon'}),React.createElement('span',{ref:'textspan',className:'folderlist-breadcrumb-home'},'HOME'));}
return React.createElement('span',{ref:this.props.fid,onClick:this.navigate},React.createElement('i',{className:'icon-angle-right folderlist-breadcrumb-icon'}),React.createElement('span',{ref:'textspan',className:'folderlist-breadcrumb-item'},this.props.filename));}});var BreadCrumbs=React.createClass({displayName:'BreadCrumbs',propTypes:{pathFolders:React.PropTypes.arrayOf(React.PropTypes.object).isRequired,navigateTo:React.PropTypes.func.isRequired},render:function render(){var _this=this;return React.createElement('div',{className:'folderlist-breadcrumb'},this.props.pathFolders.map(function(f,i){return React.createElement(BreadCrumb,{key:i,ref:f.fid,navigateTo:_this.props.navigateTo,fid:f.fid,filename:f.filename});}));}});module.exports=BreadCrumbs;},{"react":236}],301:[function(require,module,exports){'use strict';var React=require('react');var FolderItem=React.createClass({displayName:'FolderItem',propTypes:{fid:React.PropTypes.string.isRequired,filename:React.PropTypes.string.isRequired,navigateTo:React.PropTypes.func.isRequired},navigateTo:function navigateTo(){this.props.navigateTo(this.props.fid);},render:function render(){return React.createElement('div',{ref:this.props.fid,className:'folderlist-item',onClick:this.navigateTo},React.createElement('i',{className:'icon-folder-close'}),' ',this.props.filename);}});module.exports=FolderItem;},{"react":236}],302:[function(require,module,exports){'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _react=require('react');var _react2=_interopRequireDefault(_react);var _i18n=require('../../i18n');var _AppConstants=require('../../constants/AppConstants');var _AppConstants2=_interopRequireDefault(_AppConstants);var _PopActions=require('../../actions/PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _FileActions=require('../../actions/FileActions');var _FileActions2=_interopRequireDefault(_FileActions);var _ModalBreadcrumbs=require('./ModalBreadcrumbs.react');var _ModalBreadcrumbs2=_interopRequireDefault(_ModalBreadcrumbs);var _ModalFolderItem=require('./ModalFolderItem.react');var _ModalFolderItem2=_interopRequireDefault(_ModalFolderItem);var _NewFolderInput=require('../NewFolderInput.react');var _NewFolderInput2=_interopRequireDefault(_NewFolderInput);var _ContentStore=require('../../stores/ContentStore');var _ContentStore2=_interopRequireDefault(_ContentStore);var _FileStore=require('../../stores/FileStore');var _FileStore2=_interopRequireDefault(_FileStore);var _FolderActions=require('../../actions/FolderActions');var _FolderActions2=_interopRequireDefault(_FolderActions);var _appUtils=require('../../utils/appUtils');var _ConfirmationDialogue=require('./ConfirmationDialogue.react');var _ConfirmationDialogue2=_interopRequireDefault(_ConfirmationDialogue);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var MoveModal=_react2.default.createClass({displayName:'MoveModal',propTypes:{fid:_react2.default.PropTypes.oneOfType([_react2.default.PropTypes.arrayOf(_react2.default.PropTypes.string),_react2.default.PropTypes.string]).isRequired},getInitialState:function getInitialState(){return{newFolderView:false,currentFid:'home',viewType:'move'};},beginMove:function beginMove(){var targetFid=this.state.currentFid;var targetFolder=_ContentStore2.default.getFolder(targetFid);if(targetFolder.world_readable)this.toggleView('privacyConfirmation');else this.moveFileToFolder();},moveFileToFolder:function moveFileToFolder(){var fids;if(!Array.isArray(this.props.fid))fids=[this.props.fid];else fids=this.props.fid;var targetFid=this.state.currentFid;fids.forEach(function(fid){var loadingId=(0,_appUtils.getLoadingId)('move',fid);_FileActions2.default.moveFileToFolder(fid,targetFid,{loadingId:loadingId});});_PopActions2.default.closeModal();},closeModal:function closeModal(){_PopActions2.default.closeModal();},getHeaderText:function getHeaderText(){if(Array.isArray(this.props.fid))return(0,_i18n._)('Move '+this.props.fid.length+' items?');var item=_FileStore2.default.getFile(this.props.fid);var fileType=_AppConstants2.default.READABLE_TYPES[item.filetype].toLowerCase();return(0,_i18n._)('Move this '+fileType+'?');},getConfirmationMessage:function getConfirmationMessage(){if(Array.isArray(this.props.fid)){return(0,_i18n._)('Moving these '+this.props.fid.length+' items to a public folder will make them accessible to everyone. Are you sure?');}else{var item=_FileStore2.default.getFile(this.props.fid);var fileType=_AppConstants2.default.READABLE_TYPES[item.filetype].toLowerCase();var msg=(0,_i18n._)('Moving this '+fileType+' to a public folder will make it accessible to everyone. Are you sure?');return msg;}},toggleView:function toggleView(viewType){this.setState({viewType:viewType});},navigateTo:function navigateTo(fid){this.setState({currentFid:fid});_FolderActions2.default.getAllSubFolders(fid,true);},createNewFolder:function createNewFolder(folderName,parentFid){_FolderActions2.default.createFolder(folderName,parentFid);this.toggleView('move');},renderNewFolderView:function renderNewFolderView(){return _react2.default.createElement('div',null,_react2.default.createElement(_NewFolderInput2.default,{onSave:this.createNewFolder,parentFid:this.state.currentFid}),_react2.default.createElement('div',{className:'movemodal-actions-left'},_react2.default.createElement('button',{className:'btn',ref:'newFolderBackButton',onClick:this.toggleView.bind(this,'move')},'Back')));},renderMoveView:function renderMoveView(){var _this=this;var pathFolders=_ContentStore2.default.getPathFolders(this.state.currentFid);var currentFolder=pathFolders[pathFolders.length-1];var folderItems;if(currentFolder.subFolders&&currentFolder.subFolders.length){folderItems=currentFolder.subFolders.map(function(f,i){return _react2.default.createElement(_ModalFolderItem2.default,_extends({key:i},f,{navigateTo:_this.navigateTo}));});}else{folderItems=_react2.default.createElement('div',null);}
return _react2.default.createElement('div',null,_react2.default.createElement(_ModalBreadcrumbs2.default,{pathFolders:pathFolders,navigateTo:this.navigateTo}),_react2.default.createElement('div',{ref:'folderItems',className:'folderlist'},folderItems),_react2.default.createElement('div',{className:'movemodal-actions'},_react2.default.createElement('div',{className:'movemodal-actions-right'},_react2.default.createElement('button',{ref:'closeMoveModal',className:'btn --secondary',onClick:this.closeModal},'Cancel'),_react2.default.createElement('button',{ref:'moveButton',onClick:this.beginMove,className:'btn'},'Move')),_react2.default.createElement('div',{className:'movemodal-actions-left'},_react2.default.createElement('button',{className:'btn --quinary',ref:'newFolderOptionsButton',onClick:this.toggleView.bind(this,'newFolder')},_react2.default.createElement('i',{className:'icon-folder-closed +push-half-right'}),_react2.default.createElement('i',{className:'icon-plus'})))));},render:function render(){var headerText=(0,_i18n._)('Move To');var content;var moveModalClassname='movemodal-footer';switch(this.state.viewType){case'move':content=this.renderMoveView();break;case'newFolder':content=this.renderNewFolderView();moveModalClassname='movemodal-short-footer';break;case'privacyConfirmation':headerText=this.getHeaderText();content=_react2.default.createElement(_ConfirmationDialogue2.default,{onCancel:this.toggleView.bind(this,'move'),onConfirm:this.moveFileToFolder,confirmationMessage:this.getConfirmationMessage(),ref:'privacyConfirmationDialogue'});moveModalClassname='movemodal-short-footer';break;}
return _react2.default.createElement('div',{className:'newmodal is-shown movemodal',id:'moveModal'},_react2.default.createElement('div',{className:'newmodal-content'},_react2.default.createElement('div',{className:'newmodal-close',ref:'closeModal',onClick:this.closeModal},_react2.default.createElement('i',{className:'icon-close'})),_react2.default.createElement('h2',{className:'newmodal-heading +text-left'},headerText),_react2.default.createElement('div',{className:'newmodal-footer'},_react2.default.createElement('div',{className:moveModalClassname},content))));}});module.exports=MoveModal;},{"../../actions/FileActions":269,"../../actions/FolderActions":270,"../../actions/PopActions":273,"../../constants/AppConstants":324,"../../i18n":335,"../../stores/ContentStore":337,"../../stores/FileStore":340,"../../utils/appUtils":350,"../NewFolderInput.react":280,"./ConfirmationDialogue.react":294,"./ModalBreadcrumbs.react":300,"./ModalFolderItem.react":301,"react":236}],303:[function(require,module,exports){'use strict';var _react=require('react');var _react2=_interopRequireDefault(_react);var _i18n=require('../../i18n');var _PopActions=require('../../actions/PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _FolderActions=require('../../actions/FolderActions');var _FolderActions2=_interopRequireDefault(_FolderActions);var _NewFolderInput=require('../NewFolderInput.react');var _NewFolderInput2=_interopRequireDefault(_NewFolderInput);var _ConfirmationDialogue=require('./ConfirmationDialogue.react');var _ConfirmationDialogue2=_interopRequireDefault(_ConfirmationDialogue);var _FileStore=require('../../stores/FileStore');var _FileStore2=_interopRequireDefault(_FileStore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var NewFolderModal=_react2.default.createClass({displayName:'NewFolderModal',propTypes:{parentFid:_react2.default.PropTypes.string.isRequired},getInitialState:function getInitialState(){return{viewType:'newFolder',folderName:''};},closeModal:function closeModal(){_PopActions2.default.closeModal();},launchNewFolder:function launchNewFolder(folderName,parentFid){var targetFolder=_FileStore2.default.getFile(parentFid);if(targetFolder.world_readable){this.setState({viewType:'confirmationMessage',folderName:folderName});}else{this.createNewFolder(folderName);}},createNewFolder:function createNewFolder(folderName){if(!folderName)folderName=this.state.folderName;_FolderActions2.default.createFolder(folderName,this.props.parentFid);this.closeModal();},renderNewFolderView:function renderNewFolderView(){return _react2.default.createElement(_NewFolderInput2.default,{parentFid:this.props.parentFid,onSave:this.launchNewFolder});},render:function render(){var content=undefined;switch(this.state.viewType){case'newFolder':content=this.renderNewFolderView();break;case'confirmationMessage':var msg=(0,_i18n._)('Creating a new item inside of a public folder will make it accessible to everyone. Are you sure?');content=_react2.default.createElement(_ConfirmationDialogue2.default,{confirmationMessage:msg,onConfirm:this.createNewFolder.bind(this,this.state.folderName),onCancel:this.closeModal});break;}
return _react2.default.createElement('div',{className:'newmodal small is-shown',id:'newFolderModal'},_react2.default.createElement('div',{className:'newmodal-content'},_react2.default.createElement('div',{className:'newmodal-close',ref:'closeModal',onClick:this.closeModal},_react2.default.createElement('i',{className:'icon-close'})),_react2.default.createElement('h2',{className:'newmodal-heading +text-left'},'New Folder'),_react2.default.createElement('div',{className:'newmodal-footer'},_react2.default.createElement('div',{className:'movemodal-short-footer'},content))));}});module.exports=NewFolderModal;},{"../../actions/FolderActions":270,"../../actions/PopActions":273,"../../i18n":335,"../../stores/FileStore":340,"../NewFolderInput.react":280,"./ConfirmationDialogue.react":294,"react":236}],304:[function(require,module,exports){'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _PopActions=require('../../actions/PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _react=require('react');var _react2=_interopRequireDefault(_react);var _AppConstants=require('../../constants/AppConstants');var _i18n=require('../../i18n');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ThrottledModal=(function(_Component){_inherits(ThrottledModal,_Component);function ThrottledModal(){_classCallCheck(this,ThrottledModal);return _possibleConstructorReturn(this,Object.getPrototypeOf(ThrottledModal).apply(this,arguments));}
_createClass(ThrottledModal,[{key:'render',value:function render(){return _react2.default.createElement('div',{className:'throttled-modal newmodal is-shown'},_react2.default.createElement('div',{className:'newmodal-close',onClick:_PopActions2.default.closeModal},_react2.default.createElement('i',{className:'icon-close'})),_react2.default.createElement('header',{className:'throttled-modal__header'},_react2.default.createElement('div',{className:'throttled-modal__header__logo'}),_react2.default.createElement('h1',null,(0,_i18n._)('Your account requires an upgrade!'))),_react2.default.createElement('div',{className:'throttled-modal__content'},_react2.default.createElement('p',{className:'throttled-modal__content__heading +weight-extralight'},(0,_i18n._)('You\'ve reached the daily usage limits of the free tier.'),_react2.default.createElement('br',null),(0,_i18n._)('Try again tomorrow, or upgrade to a paid account.')),_react2.default.createElement('p',{className:'+weight-extralight'},_react2.default.createElement('a',{href:_AppConstants.PLOTLY_URLS.PRICING,target:'_blank'},(0,_i18n._)('Learn about how we limit usage'))),_react2.default.createElement('p',{className:'throttled-modal__content__upgrading'},(0,_i18n._)('Upgrading your account also gives you access to these features:')),_react2.default.createElement('div',{className:'throttled-modal__content__features +weight-extralight'},_react2.default.createElement('div',{className:'block-group'},_react2.default.createElement('div',{className:'block block-50'},_react2.default.createElement('ul',{className:'tier-feature-list'},_react2.default.createElement('li',null,(0,_i18n._)('Unlimited usage')),_react2.default.createElement('li',null,(0,_i18n._)('Vector-quality plot exports')),_react2.default.createElement('li',null,(0,_i18n._)('Unlimited upload size')))),_react2.default.createElement('div',{className:'block block-50'},_react2.default.createElement('ul',{className:'tier-feature-list'},_react2.default.createElement('li',null,(0,_i18n._)('Unlimited private plots')),_react2.default.createElement('li',null,(0,_i18n._)('Plotly support')),_react2.default.createElement('li',null,(0,_i18n._)('...and more!')))))),_react2.default.createElement('div',{className:'+soft-top'},_react2.default.createElement('a',{className:'btn throttled-modal__content__btn-cancel',onClick:_PopActions2.default.closeModal},(0,_i18n._)('Cancel')),_react2.default.createElement('a',{className:'btn throttled-modal__content__btn-upgrade',href:_AppConstants.PLOTLY_URLS.PRICING,target:'_blank'},(0,_i18n._)('Upgrade')))));}}]);return ThrottledModal;})(_react.Component);module.exports=ThrottledModal;},{"../../actions/PopActions":273,"../../constants/AppConstants":324,"../../i18n":335,"react":236}],305:[function(require,module,exports){'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _react=require('react');var _react2=_interopRequireDefault(_react);var _i18n=require('../../../i18n');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SigninForm=(function(_Component){_inherits(SigninForm,_Component);function SigninForm(){_classCallCheck(this,SigninForm);return _possibleConstructorReturn(this,Object.getPrototypeOf(SigninForm).apply(this,arguments));}
_createClass(SigninForm,[{key:'render',value:function render(){return _react2.default.createElement('div',null,_react2.default.createElement('form',{className:'auth-modal__content__form'},_react2.default.createElement('input',{type:'text',ref:'username',placeholder:(0,_i18n._)('Username')}),_react2.default.createElement('input',{type:'password',ref:'password',placeholder:(0,_i18n._)('Password')}),_react2.default.createElement('button',{type:'submit',className:'btn +soft-half-ends +soft-sides --primary'},(0,_i18n._)('Sign in')),_react2.default.createElement('a',{className:'auth-modal__content__forgot'},(0,_i18n._)('Forgot password?'))),_react2.default.createElement('div',{className:'auth-modal__content__or'}),_react2.default.createElement('div',{className:'auth-modal__content__or-heading'},(0,_i18n._)('Sign in with')),_react2.default.createElement('div',{className:'auth-modal__social-auth'},_react2.default.createElement('a',{href:'',className:'auth-modal__social-auth__facebook'}),_react2.default.createElement('a',{href:'',className:'auth-modal__social-auth__twitter'}),_react2.default.createElement('a',{href:'',className:'auth-modal__social-auth__github'}),_react2.default.createElement('a',{href:'',className:'auth-modal__social-auth__google'})));}}]);return SigninForm;})(_react.Component);SigninForm.propTypes={};module.exports=SigninForm;},{"../../../i18n":335,"react":236}],306:[function(require,module,exports){'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _react=require('react');var _react2=_interopRequireDefault(_react);var _i18n=require('../../../i18n');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SigninForm=(function(_Component){_inherits(SigninForm,_Component);function SigninForm(){_classCallCheck(this,SigninForm);return _possibleConstructorReturn(this,Object.getPrototypeOf(SigninForm).apply(this,arguments));}
_createClass(SigninForm,[{key:'render',value:function render(){return _react2.default.createElement('div',null,_react2.default.createElement('form',{className:'auth-modal__content__form'},_react2.default.createElement('input',{type:'text',ref:'email',placeholder:(0,_i18n._)('Email')}),_react2.default.createElement('input',{type:'text',ref:'username',placeholder:(0,_i18n._)('Username')}),_react2.default.createElement('input',{type:'password',ref:'password',placeholder:(0,_i18n._)('Password')}),_react2.default.createElement('button',{type:'submit',className:'btn +soft-half-ends +soft-sides --primary'},(0,_i18n._)('Sign up'))),_react2.default.createElement('div',{className:'auth-modal__content__or'}),_react2.default.createElement('div',{className:'auth-modal__content__or-heading'},(0,_i18n._)('Sign up with')),_react2.default.createElement('div',{className:'auth-modal__social-auth'},_react2.default.createElement('a',{href:'',className:'auth-modal__social-auth__facebook'}),_react2.default.createElement('a',{href:'',className:'auth-modal__social-auth__twitter'}),_react2.default.createElement('a',{href:'',className:'auth-modal__social-auth__github'}),_react2.default.createElement('a',{href:'',className:'auth-modal__social-auth__google'})));}}]);return SigninForm;})(_react.Component);SigninForm.propTypes={};module.exports=SigninForm;},{"../../../i18n":335,"react":236}],307:[function(require,module,exports){'use strict';var _react=require('react');var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var CollaboratorItem=_react2.default.createClass({displayName:'CollaboratorItem',propTypes:{username:_react2.default.PropTypes.string.isRequired,fid:_react2.default.PropTypes.string.isRequired,removeCollaborator:_react2.default.PropTypes.func.isRequired},handleRemove:function handleRemove(){this.props.removeCollaborator(this.props.fid,this.props.username);},render:function render(){var permissionsMsg=' - can edit';var tooltipMsg='Click to remove '+this.props.username+' from collaborators.';return _react2.default.createElement('div',{className:'sharing-modal-collaborators-item'},_react2.default.createElement('span',{'data-hint':tooltipMsg,className:'hint--left +float-right '},_react2.default.createElement('i',{ref:'removeCollaborator',onClick:this.handleRemove,className:'icon-close sharing-modal-collaborators-item-remove'})),_react2.default.createElement('span',{className:'+push-half-left'},_react2.default.createElement('b',null,this.props.username)),_react2.default.createElement('span',{className:''},permissionsMsg),_react2.default.createElement('i',{className:'icon-people +float-left'}));}});module.exports=CollaboratorItem;},{"react":236}],308:[function(require,module,exports){'use strict';var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactDom=require('react-dom');var _reactDom2=_interopRequireDefault(_reactDom);var _i18n=require('../../../i18n');var _FileActions=require('../../../actions/FileActions');var _FileActions2=_interopRequireDefault(_FileActions);var _CollaboratorItem=require('./CollaboratorItem.react');var _CollaboratorItem2=_interopRequireDefault(_CollaboratorItem);var _StudentOptions=require('./StudentOptions.react');var _StudentOptions2=_interopRequireDefault(_StudentOptions);var _Typeahead=require('../../typeahead/Typeahead.react');var _Typeahead2=_interopRequireDefault(_Typeahead);var _UserStore=require('../../../stores/UserStore');var _UserStore2=_interopRequireDefault(_UserStore);var _PopActions=require('../../../actions/PopActions');var _PopActions2=_interopRequireDefault(_PopActions);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var CollaboratorsPanel=_react2.default.createClass({displayName:'CollaboratorsPanel',propTypes:{fid:_react2.default.PropTypes.string.isRequired,filename:_react2.default.PropTypes.string.isRequired,fileTypeIcon:_react2.default.PropTypes.string.isRequired,collaborators:_react2.default.PropTypes.arrayOf(_react2.default.PropTypes.shape({username:_react2.default.PropTypes.string.isRequired})).isRequired},getInitialState:function getInitialState(){return{studentOptions:false,users:_UserStore2.default.getCollaboratorList()};},toggleStudentOptions:function toggleStudentOptions(){this.setState({studentOptions:!this.state.studentOptions});},getEmailContent:function getEmailContent(){var content={};if(this.state.studentOptions){var studentOptions=this.refs.studentOptions.refs;var studentInfo={name:_reactDom2.default.findDOMNode(studentOptions.name).value,date:_reactDom2.default.findDOMNode(studentOptions.date).value,period:_reactDom2.default.findDOMNode(studentOptions.courseName).value,project:_reactDom2.default.findDOMNode(studentOptions.project).value};content.student_info=studentInfo;}
content.msg=_reactDom2.default.findDOMNode(this.refs.optionalMessage).value;return content;},addCollaborators:function addCollaborators(){var usersToAdd=this.refs.collaboratorInput.state.selectedOptions;var emailContent=null;var inputValue=_reactDom2.default.findDOMNode(this.refs.collaboratorInput).querySelector('input').value;if(_reactDom2.default.findDOMNode(this.refs.notifyByEmail).checked)emailContent=this.getEmailContent();if(!usersToAdd.length){var unEnteredUsers=inputValue.split(',');usersToAdd=unEnteredUsers;if(!unEnteredUsers.length){return _PopActions2.default.showErrorDialogue((0,_i18n._)('Please enter a username or e-mail to share with.'));}}
_FileActions2.default.addCollaborators(this.props.fid,usersToAdd.join(),emailContent);this.refs.collaboratorInput.state.selectedOptions=[];},removeCollaborator:function removeCollaborator(fid,usernameToRemove){_FileActions2.default.removeCollaborators(fid,usernameToRemove);},render:function render(){var _this=this;var studentOptions;if(this.state.studentOptions)studentOptions=_react2.default.createElement(_StudentOptions2.default,{ref:'studentOptions'});else studentOptions=_react2.default.createElement('div',null);var collaborators=null;if(this.props.collaborators.length){collaborators=_react2.default.createElement('div',{className:'sharing-modal-collaborators-list'},this.props.collaborators.map(function(collaborator,i){return _react2.default.createElement(_CollaboratorItem2.default,{key:i,fid:_this.props.fid,username:collaborator.username,isOwner:false,removeCollaborator:_this.removeCollaborator});}));}
var typeaheadClasses={input:'inputfield --maxwidth',results:'typeahead-results',listItem:'typeahead-results-item',listAnchor:'typeahead-results-anchor',token:'typeahead-token'};var btnStyle={background:'#447bdc',color:'white',padding:'5px 12px 5px 12px'};return _react2.default.createElement('div',{className:'sharing-modal-collaborators'},_react2.default.createElement('div',{className:'sharing-modal-collaborators-filename'},_react2.default.createElement('i',{style:{background:'none'},className:this.props.fileTypeIcon}),_react2.default.createElement('span',{className:'+hide-small'},this.props.filename)),collaborators,_react2.default.createElement('div',{className:'sharing-modal-collaborators-invite'},_react2.default.createElement('div',null,'Invite People:'),_react2.default.createElement('div',{className:'+push-half-bottom'},_react2.default.createElement(_Typeahead2.default,{ref:'collaboratorInput',className:'',placeholder:'Enter names or email addresses',options:this.state.users,customClasses:typeaheadClasses})),studentOptions,_react2.default.createElement('textarea',{className:'text-area --maxwidth +push-bottom',ref:'optionalMessage',placeholder:'Add optional message'}),_react2.default.createElement('div',{className:''},_react2.default.createElement('button',{style:btnStyle,className:'btn --primary +push-half-right',ref:'addCollaboratorButton',onClick:this.addCollaborators},'ADD'),_react2.default.createElement('input',{ref:'notifyByEmail',type:'checkbox',defaultChecked:true,className:'+push-half-right'}),_react2.default.createElement('span',null,'Notify via email'),_react2.default.createElement('a',{onClick:this.toggleStudentOptions,className:'+float-right',ref:'toggleStudentOptions'},this.state.studentOptions?'- Hide':'+ Show',' student options'))));}});module.exports=CollaboratorsPanel;},{"../../../actions/FileActions":269,"../../../actions/PopActions":273,"../../../i18n":335,"../../../stores/UserStore":344,"../../typeahead/Typeahead.react":321,"./CollaboratorItem.react":307,"./StudentOptions.react":312,"react":236,"react-dom":61}],309:[function(require,module,exports){'use strict';var _i18n=require('../../../i18n');var _AppConstants=require('../../../constants/AppConstants');var _appUtils=require('../../../utils/appUtils');var _FileActions=require('../../../actions/FileActions');var _FileActions2=_interopRequireDefault(_FileActions);var _react=require('react');var _react2=_interopRequireDefault(_react);var _Spinny=require('../../widgets/Spinny.react');var _Spinny2=_interopRequireDefault(_Spinny);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var EmbedPanel=_react2.default.createClass({displayName:'EmbedPanel',propTypes:{embed_url:_react2.default.PropTypes.string.isRequired,fid:_react2.default.PropTypes.string.isRequired,share_key:_react2.default.PropTypes.string.isRequired,share_key_enabled:_react2.default.PropTypes.bool.isRequired,world_readable:_react2.default.PropTypes.bool.isRequired,embedCode:_react2.default.PropTypes.string},componentDidMount:function componentDidMount(){var graphURL=this.props.embed_url.replace('embed','html');if(this.props.share_key_enabled&&!this.props.world_readable){graphURL+='?share_key='+this.props.share_key;}
_FileActions2.default.getEmbedCode(this.props.fid,graphURL);},getInitialState:function getInitialState(){return{format:_AppConstants.EMBED_FORMATS.IFRAME};},onOptionSelect:function onOptionSelect(e){this.setState({format:e.target.value});},onCodeClick:function onCodeClick(evt){evt.target.select();},render:function render(){var article=null;var textareaRows;var embedCode;if(this.state.format===_AppConstants.EMBED_FORMATS.HTML){embedCode=this.props.embedCode;textareaRows=10;}else if(this.state.format===_AppConstants.EMBED_FORMATS.IFRAME){article=_react2.default.createElement('span',{ref:'article'},'an');textareaRows=3;var isPrivate=!this.props.world_readable;var isSharable=this.props.share_key_enabled;var includeShareKey=isPrivate&&isSharable;var iframeOpts={shareKey:includeShareKey?this.props.share_key:null};embedCode=(0,_appUtils.buildIframeSnippet)(this.props.embed_url,iframeOpts);}
return _react2.default.createElement('div',{className:'embed-panel'},_react2.default.createElement('div',{className:'+soft-half-ends +text-center'},'Embed this plot as ',article,_react2.default.createElement('select',{className:'embed-panel-select +push-quarter-sides',ref:'formatSelect',onChange:this.onOptionSelect},_react2.default.createElement('option',{value:_AppConstants.EMBED_FORMATS.IFRAME},'iframe'),_react2.default.createElement('option',{value:_AppConstants.EMBED_FORMATS.HTML},'html')),'using this snippet:'),_react2.default.createElement('div',{className:'+soft-half-ends'},embedCode?_react2.default.createElement('textarea',{ref:'embedContent',value:embedCode,className:'text-area sharing-modal-embedcode +resize-v',rows:textareaRows,selected:true,readOnly:true,wrap:'off',onClick:this.onCodeClick}):_react2.default.createElement('div',{className:'+text-center'},_react2.default.createElement(_Spinny2.default,{ref:'loadingIndicator'}))),_react2.default.createElement('div',{className:'+text-center'},'Need help? Check out our',_react2.default.createElement('a',{ref:'helpLink',href:'http://help.plot.ly/embed-graphs-in-websites/',target:'_blank'},'embedding tutorial'),'!'));}});module.exports=EmbedPanel;},{"../../../actions/FileActions":269,"../../../constants/AppConstants":324,"../../../i18n":335,"../../../utils/appUtils":350,"../../widgets/Spinny.react":323,"react":236}],310:[function(require,module,exports){'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _i18n=require('../../../i18n');var _appUtils=require('../../../utils/appUtils');var _userMessages=require('../../../templates/userMessages');var _FileActions=require('../../../actions/FileActions');var _FileActions2=_interopRequireDefault(_FileActions);var _PrivacyToggler=require('../../file_item/PrivacyToggler.react');var _PrivacyToggler2=_interopRequireDefault(_PrivacyToggler);var _react=require('react');var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var SharingLinkPanel=_react2.default.createClass({displayName:'SharingLinkPanel',propTypes:{fid:_react2.default.PropTypes.string.isRequired,filename:_react2.default.PropTypes.string.isRequired,filetype:_react2.default.PropTypes.string.isRequired,fileTypeIcon:_react2.default.PropTypes.string.isRequired,world_readable:_react2.default.PropTypes.bool.isRequired,web_url:_react2.default.PropTypes.string.isRequired,share_key_enabled:_react2.default.PropTypes.bool,share_key:_react2.default.PropTypes.string,loadingStates:_react2.default.PropTypes.object,isPublicView:_react2.default.PropTypes.bool.isRequired,isOwnProfile:_react2.default.PropTypes.bool},buildSharingURL:function buildSharingURL(){return(0,_appUtils.getShareURL)(this.props.fid,this.props.filetype,this.props.share_key,this.props.world_readable,this.props.web_url);},toggleShareKeyEnabled:function toggleShareKeyEnabled(){_FileActions2.default.toggleShareKeyEnabled(this.props.fid,!this.props.share_key_enabled);},onURLClick:function onURLClick(evt){evt.target.select();},renderPrivacySection:function renderPrivacySection(){if(this.props.isPublicView&&!this.props.isOwnProfile)return null;var msg=(0,_userMessages.privacyMessage)(this.props.filetype,this.props.world_readable,this.props.share_key_enabled);return _react2.default.createElement('div',{className:'block-group',ref:'privacySection'},_react2.default.createElement('div',{className:'block grid-10'},_react2.default.createElement(_PrivacyToggler2.default,{ref:'privacyToggler',fid:this.props.fid,className:'sharing-modal-privacytoggler',worldReadable:this.props.world_readable,filetype:this.props.filetype,loadingStates:this.props.loadingStates,isModal:true})),_react2.default.createElement('div',{className:'block grid-90 sharing-modal-privacy-message'},msg));},renderShareKeyToggler:function renderShareKeyToggler(){if(this.props.isPublicView&&!this.props.isOwnProfile){return null;}else if(this.props.world_readable){return null;}else{return _react2.default.createElement('div',null,_react2.default.createElement('input',{type:'checkbox',ref:'shareKeyToggleButton',className:'+push-half-right',checked:this.props.share_key_enabled,onChange:this.toggleShareKeyEnabled}),_react2.default.createElement('span',null,'Enable private share link'));}},render:function render(){var urlInputClass=undefined;var tooltip=null;var disabled=false;if(!this.props.share_key_enabled&&!this.props.world_readable){urlInputClass='inputfield --extrawide --disabled';tooltip={'data-hint':(0,_i18n._)('Enable private sharing to share this folder with a secret link.')};disabled=true;}else{urlInputClass='inputfield --extrawide';}
return _react2.default.createElement('div',null,_react2.default.createElement('div',{className:'sharing-modal-collaborators-filename +push-half-bottom'},_react2.default.createElement('i',{style:{background:'none'},className:this.props.fileTypeIcon}),_react2.default.createElement('span',null,this.props.filename)),_react2.default.createElement('div',{className:'+push-bottom'},_react2.default.createElement('div',_extends({className:'hint--top hint-inline'},tooltip),_react2.default.createElement('input',{ref:'shareLink',className:urlInputClass,disabled:disabled,readOnly:true,value:this.buildSharingURL(),onClick:this.onURLClick})),this.renderShareKeyToggler()),this.renderPrivacySection());}});module.exports=SharingLinkPanel;},{"../../../actions/FileActions":269,"../../../i18n":335,"../../../templates/userMessages":346,"../../../utils/appUtils":350,"../../file_item/PrivacyToggler.react":282,"react":236}],311:[function(require,module,exports){'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _react=require('react');var _react2=_interopRequireDefault(_react);var _AppConstants=require('../../../constants/AppConstants');var _AppConstants2=_interopRequireDefault(_AppConstants);var _PopActions=require('../../../actions/PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _i18n=require('../../../i18n');var _querystring=require('querystring');var _querystring2=_interopRequireDefault(_querystring);var _Tabs=require('../../Tabs.react');var _Tabs2=_interopRequireDefault(_Tabs);var _SharingLinkPanel=require('./SharingLinkPanel.react');var _SharingLinkPanel2=_interopRequireDefault(_SharingLinkPanel);var _CollaboratorsPanel=require('./CollaboratorsPanel.react');var _CollaboratorsPanel2=_interopRequireDefault(_CollaboratorsPanel);var _EmbedPanel=require('./EmbedPanel.react');var _EmbedPanel2=_interopRequireDefault(_EmbedPanel);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var SharingModal=_react2.default.createClass({displayName:'SharingModal',propTypes:{filetype:_react2.default.PropTypes.string.isRequired,fid:_react2.default.PropTypes.string.isRequired,filename:_react2.default.PropTypes.string.isRequired,world_readable:_react2.default.PropTypes.bool.isRequired,collaborators:_react2.default.PropTypes.array.isRequired,web_url:_react2.default.PropTypes.string.isRequired,share_key_enabled:_react2.default.PropTypes.bool,share_key:_react2.default.PropTypes.string,loadingStates:_react2.default.PropTypes.object,activeTabIndex:_react2.default.PropTypes.number,isPublicView:_react2.default.PropTypes.bool.isRequired,isOwnProfile:_react2.default.PropTypes.bool,enableSocialSharing:_react2.default.PropTypes.bool},getDefaultProps:function getDefaultProps(){return{activeTabIndex:1,enableSocialSharing:true};},isShareEnabled:function isShareEnabled(){return this.props.world_readable||this.props.share_key_enabled;},shareToFacebook:function shareToFacebook(e){if(!this.isShareEnabled())return e.stopPropagation();window.open('https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(this.props.web_url),'facebook-share-dialog','width=626,height=436');},shareToGooglePlus:function shareToGooglePlus(e){if(!this.isShareEnabled())return e.stopPropagation();window.open('//plus.google.com/u/0/share?url='+encodeURIComponent(this.props.web_url),'_blank','width=600,height=400');},shareToTwitter:function shareToTwitter(e){if(!this.isShareEnabled())return e.stopPropagation();var tweetLink='http://twitter.com/intent/tweet?';var query=_querystring2.default.stringify({text:this.props.filename+':\n',via:'plotlygraphs',url:this.props.web_url});tweetLink+=query;window.open(tweetLink,'_blank','width=600,height=400');},closeModal:function closeModal(){_PopActions2.default.closeModal();},renderEmbedTab:function renderEmbedTab(){var _props=this.props;var filetype=_props.filetype;var world_readable=_props.world_readable;var share_key_enabled=_props.share_key_enabled;if(filetype!=='plot')return null;var isTotallyPrivate=!world_readable&&!share_key_enabled;var tabClass=isTotallyPrivate===true?'sharing-modal-option is-disabled':'sharing-modal-option';var hint={};if(isTotallyPrivate){hint={'data-hint':(0,_i18n._)('You must toggle the privacy of your graph '+'or enable the \nprivate share link in the Sharable '+'Link panel to enable embedding.')};}
var embedOption=_react2.default.createElement(_Tabs2.default.Option,_extends({title:'EMBED',ref:'embedTab',iconClass:'icon-code',className:tabClass},hint));return _react2.default.createElement(_Tabs2.default.Panel,{Option:embedOption,deactivate:isTotallyPrivate},_react2.default.createElement('div',{className:'sharing-modal-footer'},_react2.default.createElement(_EmbedPanel2.default,this.props)));},renderSocialSharingPanel:function renderSocialSharingPanel(){if(!this.props.enableSocialSharing)return null;var shareButtonEnabled=this.isShareEnabled();var readableFileType=_AppConstants2.default.READABLE_TYPES[this.props.filetype];var btnClass;if(shareButtonEnabled)btnClass='sharing-modal-social-item';else btnClass='sharing-modal-social-item is-disabled hint--bottom';var hint;if(!shareButtonEnabled){hint={'data-hint':'To share this '+readableFileType.toLowerCase()+', make it public or enable the private share link.'};}else hint=null;return _react2.default.createElement(_Tabs2.default.Option,{ref:'socialShareTab',title:'',iconClass:'',className:'sharing-modal-social'},_react2.default.createElement('div',_extends({className:btnClass,ref:'facebookShareButton',onClick:this.shareToFacebook},hint),_react2.default.createElement('i',{className:'icon-facebook'})),_react2.default.createElement('div',{className:btnClass,ref:'twitterShareButton',onClick:this.shareToTwitter},_react2.default.createElement('i',{className:'icon-twitter'})),_react2.default.createElement('div',{className:btnClass,ref:'googleShareButton',onClick:this.shareToGooglePlus},_react2.default.createElement('i',{className:'icon-google'})));},renderSharingLinkTab:function renderSharingLinkTab(){var fileTypeIcon=_AppConstants2.default.ICONS_BY_FILETYPE[this.props.filetype];var linkOption=_react2.default.createElement(_Tabs2.default.Option,{title:'SHARABLE LINK',ref:'ShareURLTab',iconClass:'icon-link',className:'sharing-modal-option'});return _react2.default.createElement(_Tabs2.default.Panel,{Option:linkOption},_react2.default.createElement('div',{className:'sharing-modal-footer'},_react2.default.createElement(_SharingLinkPanel2.default,_extends({},this.props,{fileTypeIcon:fileTypeIcon}))));},renderCollaboratorsTab:function renderCollaboratorsTab(){var isPublicView=this.props.isPublicView;var isOwnProfile=this.props.isOwnProfile;var isActive=isPublicView&&isOwnProfile||!isPublicView;var tabClass=isActive!==true?'sharing-modal-option is-disabled':'sharing-modal-option';var fileTypeIcon=_AppConstants2.default.ICONS_BY_FILETYPE[this.props.filetype];var collabOption=_react2.default.createElement(_Tabs2.default.Option,{title:'COLLABORATORS',ref:'collaboratorsTab',iconClass:'icon-team',className:tabClass});return _react2.default.createElement(_Tabs2.default.Panel,{Option:collabOption,deactivate:!isActive},_react2.default.createElement('div',{className:'sharing-modal-footer'},_react2.default.createElement(_CollaboratorsPanel2.default,_extends({fileTypeIcon:fileTypeIcon},this.props))));},render:function render(){var readableFileType=_AppConstants2.default.READABLE_TYPES[this.props.filetype];return _react2.default.createElement('div',{className:'newmodal --sharing is-shown',id:'sharingModal'},_react2.default.createElement('div',{className:'newmodal-content'},_react2.default.createElement('div',{className:'newmodal-close',ref:'closeButton',onClick:this.closeModal},_react2.default.createElement('i',{className:'icon-close'})),_react2.default.createElement('h2',{className:'newmodal-heading +text-left'},'Share ',readableFileType),_react2.default.createElement(_Tabs2.default,{tabActive:this.props.activeTabIndex,navClassName:'sharing-modal-options +border-top'},this.renderCollaboratorsTab(),this.renderSharingLinkTab(),this.renderEmbedTab(),_react2.default.createElement(_Tabs2.default.Panel,{Option:this.renderSocialSharingPanel(),deactivate:true}))));}});module.exports=SharingModal;},{"../../../actions/PopActions":273,"../../../constants/AppConstants":324,"../../../i18n":335,"../../Tabs.react":281,"./CollaboratorsPanel.react":308,"./EmbedPanel.react":309,"./SharingLinkPanel.react":310,"querystring":12,"react":236}],312:[function(require,module,exports){'use strict';var _react=require('react');var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var StudentOptions=_react2.default.createClass({displayName:'StudentOptions',render:function render(){return _react2.default.createElement('div',{className:'container'},_react2.default.createElement('div',{className:'row +push-half-bottom'},_react2.default.createElement('div',{className:'col-6'},_react2.default.createElement('input',{className:'inputfield --maxwidth',ref:'name',placeholder:'Name'})),_react2.default.createElement('div',{className:'col-6'},_react2.default.createElement('input',{className:'inputfield --maxwidth',ref:'date',placeholder:'Date'}))),_react2.default.createElement('div',{className:'row +push-half-bottom'},_react2.default.createElement('div',{className:'col-6'},_react2.default.createElement('input',{className:'inputfield --maxwidth',ref:'project',placeholder:'Project'})),_react2.default.createElement('div',{className:'col-6'},_react2.default.createElement('input',{className:'inputfield --maxwidth',ref:'courseName',placeholder:'Class'}))));}});module.exports=StudentOptions;},{"react":236}],313:[function(require,module,exports){'use strict';var _i18n=require('../../../i18n');var _react=require('react');var _react2=_interopRequireDefault(_react);var _AppConstants=require('../../../constants/AppConstants');var AppConstants=_interopRequireWildcard(_AppConstants);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var STEP_NAMES=AppConstants.SUBSCRIPTION_STEP_NAMES;var CancelConfirmationPanel=_react2.default.createClass({displayName:'CancelConfirmationPanel',propTypes:{closeModal:_react2.default.PropTypes.func.isRequired,toggleCloseConfirmation:_react2.default.PropTypes.func.isRequired,currentStep:_react2.default.PropTypes.string.isRequired},getDefaultProps:function getDefaultProps(){return{currentStep:'previous'};},render:function render(){return _react2.default.createElement('div',{className:'cancel-confirmation-panel'},_react2.default.createElement('div',{className:'block-group'},_react2.default.createElement('div',{className:'block +text-center +push-bottom +soft-quarter'},_react2.default.createElement('h5',{className:'+text-left +weight-semibold +push-half-bottom'},(0,_i18n._)('CONFIRM')),_react2.default.createElement('p',{className:'+text-left +weight-light '},(0,_i18n._)('Are you sure you want to leave the payment process?'))),_react2.default.createElement('div',{className:'block block-50 +soft-half-right'},_react2.default.createElement('button',{className:'btn --inverted --full-width',onClick:this.props.closeModal,ref:'closeModalButton'},(0,_i18n._)('Yes, close'))),_react2.default.createElement('div',{className:'block block-50 +soft-half-left'},_react2.default.createElement('button',{className:'btn --full-width',onClick:this.props.toggleCloseConfirmation,ref:'returnToProcess'},(0,_i18n._)('Back to '+STEP_NAMES[this.props.currentStep])))));}});module.exports=CancelConfirmationPanel;},{"../../../constants/AppConstants":324,"../../../i18n":335,"react":236}],314:[function(require,module,exports){'use strict';var _AppConstants=require('../../../constants/AppConstants');var AppConstants=_interopRequireWildcard(_AppConstants);var _PlanConstants=require('../../../constants/PlanConstants');var _PlanConstants2=_interopRequireDefault(_PlanConstants);var _PopActions=require('../../../actions/PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _StripeActions=require('../../../actions/StripeActions');var StripeActions=_interopRequireWildcard(_StripeActions);var _react=require('react');var _react2=_interopRequireDefault(_react);var _i18n=require('../../../i18n');var _SidePanel=require('./SidePanel.react');var _SidePanel2=_interopRequireDefault(_SidePanel);var _requestMonitorMixin=require('../../mixins/requestMonitor.mixin.js');var _requestMonitorMixin2=_interopRequireDefault(_requestMonitorMixin);var _Spinny=require('../../widgets/Spinny.react');var _Spinny2=_interopRequireDefault(_Spinny);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
var STEP_NAMES=AppConstants.SUBSCRIPTION_STEP_NAMES;var CancelSubscriptionModal=_react2.default.createClass({displayName:'CancelSubscriptionModal',mixins:[_requestMonitorMixin2.default],propTypes:{subscriptionId:_react.PropTypes.number.isRequired},confirmCancellation:function confirmCancellation(){var subscriptionId=this.props.subscriptionId;var requestID=StripeActions.cancelSubscription(subscriptionId);this.setRequestID(requestID);},renderButtons:function renderButtons(){var isDone=this.isRequestDone();if(isDone){return _react2.default.createElement('div',{className:'block block +push-top'},_react2.default.createElement('button',{className:'btn --full-width js-subscription-cancellation-confirm',ref:'confirmAndCloseButton',onClick:_PopActions2.default.closeModal},(0,_i18n._)('got it')));}else{return[_react2.default.createElement('div',{key:'backButton',className:'block block-50 +soft-half-right +push-top'},_react2.default.createElement('button',{className:'btn --inverted --full-width',ref:'abortCancellationButton',onClick:_PopActions2.default.closeModal},(0,_i18n._)('no, go back'))),_react2.default.createElement('div',{key:'confirmCancellationButton',className:'block block-50 +soft-half-left +push-top'},_react2.default.createElement('button',{className:'btn --full-width js-subscription-cancellation-cancel',ref:'confirmCancellationButton',onClick:this.confirmCancellation},(0,_i18n._)('yes, cancel')))];}},renderConfirmation:function renderConfirmation(){var isPending=this.isRequestPending();var cancelText='Cancelling will cause your account to downgrade to '+'the free Community Plan at the end of your billing cycle.';if(isPending){return _react2.default.createElement('div',{className:'block-group'},_react2.default.createElement('div',{className:'block +text-center'},_react2.default.createElement('h3',{className:'+blue +push-half-bottom'},(0,_i18n._)('Cancelling your subscription...'))),_react2.default.createElement('div',{className:'block +push-top +text-center'},_react2.default.createElement(_Spinny2.default,{ref:'loadingIndicator'})));}else{return _react2.default.createElement('div',{className:'block-group'},_react2.default.createElement('div',{className:'block'},_react2.default.createElement('h3',{className:'+blue +push-top +push-half-bottom'},(0,_i18n._)('Cancel Subscription'))),_react2.default.createElement('div',{className:'block'},_react2.default.createElement('h5',{className:'+push-bottom-double'},(0,_i18n._)('Are you sure you want to cancel your subscription?'))),this.renderButtons(),_react2.default.createElement('div',{className:'block infotext'},(0,_i18n._)(cancelText)));}},renderCompleted:function renderCompleted(){var hasError=this.isRequestFailure();if(hasError){return _react2.default.createElement('div',{className:'block-group'},_react2.default.createElement('div',{className:'block'},_react2.default.createElement('h3',{className:'+blue +push-top +push-half-bottom'},(0,_i18n._)('An error has occurred!'))),_react2.default.createElement('div',{className:'block'},_react2.default.createElement('h5',{className:'+push-bottom-double',ref:'errorText'},(0,_i18n._)('We were unable to cancel your subscription. Please get in touch with us at: '),_react2.default.createElement('br',null),_react2.default.createElement('a',{href:'mailto:'+_PlanConstants2.default.SUPPORT_EMAIL},''+_PlanConstants2.default.SUPPORT_EMAIL))),this.renderButtons());}else{return _react2.default.createElement('div',{className:'block-group'},_react2.default.createElement('div',{className:'block'},_react2.default.createElement('h3',{className:'+blue +push-top +push-half-bottom'},(0,_i18n._)('Subscription has been cancelled!'))),_react2.default.createElement('div',{className:'block'},_react2.default.createElement('h5',{className:'+push-bottom-double'},(0,_i18n._)('You have successfully cancelled your subscription.'))),this.renderButtons());}},render:function render(){var isDone=this.isRequestDone();return _react2.default.createElement('div',{className:'newmodal --subscription is-shown js-subscription-cancellation-modal'},_react2.default.createElement('div',{className:'newmodal-content'},_react2.default.createElement('div',{className:'panel-group +height-full'},_react2.default.createElement(_SidePanel2.default,{currentStepName:STEP_NAMES.SUBSCRIPTION_STEP_CANCELLATION}),_react2.default.createElement('div',{className:'block block-65 cancellation-panel +soft-half'},isDone?this.renderCompleted():this.renderConfirmation()))));}});module.exports=CancelSubscriptionModal;},{"../../../actions/PopActions":273,"../../../actions/StripeActions":275,"../../../constants/AppConstants":324,"../../../constants/PlanConstants":330,"../../../i18n":335,"../../mixins/requestMonitor.mixin.js":291,"../../widgets/Spinny.react":323,"./SidePanel.react":318,"react":236}],315:[function(require,module,exports){'use strict';var _moment=require('moment');var _moment2=_interopRequireDefault(_moment);var _PlanConstants=require('../../../constants/PlanConstants');var _PlanConstants2=_interopRequireDefault(_PlanConstants);var _reactImmutableProptypes=require('react-immutable-proptypes');var _reactImmutableProptypes2=_interopRequireDefault(_reactImmutableProptypes);var _react=require('react');var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var ConfirmationPanel=_react2.default.createClass({displayName:'ConfirmationPanel',propTypes:{onDismiss:_react.PropTypes.func.isRequired,subscription:_reactImmutableProptypes2.default.contains({feature_set_id:_react.PropTypes.string.isRequired,billing_frequency:_react.PropTypes.oneOf([_PlanConstants2.default.YEARLY,_PlanConstants2.default.MONTHLY]),stripe_plan_amount:_react.PropTypes.number.isRequired,stripe_subscription_current_period_end:_react.PropTypes.number.isRequired})},formatCurrentPeriodEnd:function formatCurrentPeriodEnd(){var subscription=this.props.subscription;var cents=subscription.get('stripe_plan_amount');var dollars=cents/100;var timestamp=subscription.get('stripe_subscription_current_period_end');var timeString=_moment2.default.unix(timestamp).format('[the] Do [of] MMMM, YYYY');var frequency=subscription.get('billing_frequency');return'We received your payment of $'+dollars+'. You\'ll continue to be '+('billed '+frequency+' with your next charge occurring on ')+(timeString+'.');},render:function render(){var subscription=this.props.subscription;var featureSetID=subscription.get('feature_set_id');var featureSetName=featureSetID.replace('/_/g','-');return _react2.default.createElement('div',{className:'block-group js-subscriptions-confirmation-panel'},_react2.default.createElement('div',{className:'+text-center'},_react2.default.createElement('h2',{className:'+blue +push-bottom'},'Thank you!'),_react2.default.createElement('h5',{ref:'planText',className:'+push-bottom'},'You have successfully subscribed to a ',_react2.default.createElement('span',{className:'+capitalize'},featureSetName),' plan.'),_react2.default.createElement('div',{ref:'detailText',className:'+soft-bottom'},this.formatCurrentPeriodEnd()),_react2.default.createElement('div',{ref:'supportText',className:'+soft-bottom'},'For graphing help, please email: ',_react2.default.createElement('a',{href:'mailto:'+_PlanConstants2.default.SUPPORT_EMAIL},_PlanConstants2.default.SUPPORT_EMAIL)),_react2.default.createElement('button',{ref:'button',className:'btn --full-width js-confirmation-modal-button',onClick:this.props.onDismiss},'got it')));}});module.exports=ConfirmationPanel;},{"../../../constants/PlanConstants":330,"moment":59,"react":236,"react-immutable-proptypes":62}],316:[function(require,module,exports){'use strict';var _CreditCardForm=require('../../forms/CreditCardForm.react');var _CreditCardForm2=_interopRequireDefault(_CreditCardForm);var _PlanConstants=require('../../../constants/PlanConstants');var _PlanConstants2=_interopRequireDefault(_PlanConstants);var _react=require('react');var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var PaymentPanel=_react2.default.createClass({displayName:'PaymentPanel',propTypes:{onComplete:_react.PropTypes.func.isRequired,featureSetID:_react.PropTypes.oneOf([_PlanConstants2.default.FEATURE_SETS.professional]).isRequired,billingFrequency:_react.PropTypes.oneOf([_PlanConstants2.default.MONTHLY,_PlanConstants2.default.YEARLY]).isRequired,setBillingFrequency:_react2.default.PropTypes.func.isRequired},render:function render(){return _react2.default.createElement('div',{className:'+soft-top'},_react2.default.createElement(_CreditCardForm2.default,{onComplete:this.props.onComplete,featureSetID:this.props.featureSetID,billingFrequency:this.props.billingFrequency,setBillingFrequency:this.props.setBillingFrequency}));}});module.exports=PaymentPanel;},{"../../../constants/PlanConstants":330,"../../forms/CreditCardForm.react":283,"react":236}],317:[function(require,module,exports){'use strict';var _AppConstants=require('../../../constants/AppConstants');var AppConstants=_interopRequireWildcard(_AppConstants);var _PlanConstants=require('../../../constants/PlanConstants');var _PlanConstants2=_interopRequireDefault(_PlanConstants);var _PopActions=require('../../../actions/PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _StripeActions=require('../../../actions/StripeActions');var StripeActions=_interopRequireWildcard(_StripeActions);var _react=require('react');var _react2=_interopRequireDefault(_react);var _i18n=require('../../../i18n');var _moment=require('moment');var _moment2=_interopRequireDefault(_moment);var _SidePanel=require('./SidePanel.react');var _SidePanel2=_interopRequireDefault(_SidePanel);var _requestMonitorMixin=require('../../mixins/requestMonitor.mixin.js');var _requestMonitorMixin2=_interopRequireDefault(_requestMonitorMixin);var _SubscriptionStore=require('../../../stores/SubscriptionStore');var _SubscriptionStore2=_interopRequireDefault(_SubscriptionStore);var _Spinny=require('../../widgets/Spinny.react');var _Spinny2=_interopRequireDefault(_Spinny);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
var STEP_NAMES=AppConstants.SUBSCRIPTION_STEP_NAMES;var ReactivateSubscriptionModal=_react2.default.createClass({displayName:'ReactivateSubscriptionModal',mixins:[_requestMonitorMixin2.default],propTypes:{plan:_react.PropTypes.shape({subscriptionId:_react.PropTypes.number.isRequired})},getInitialState:function getInitialState(){return{subscription:_SubscriptionStore2.default.getSubscription()};},reactivateSubscription:function reactivateSubscription(){var subscriptionId=this.props.plan.subscriptionId;var requestID=StripeActions.reactivateSubscription(subscriptionId);this.setRequestID(requestID);},renderButtons:function renderButtons(){var isDone=this.isRequestDone();if(isDone){return _react2.default.createElement('div',{className:'block block +push-top'},_react2.default.createElement('button',{className:'btn --full-width js-subscription-reactivation-confirm',ref:'confirmAndCloseButton',onClick:_PopActions2.default.closeModal},(0,_i18n._)('got it')));}else{return[_react2.default.createElement('div',{key:'backButton',className:'block block-50 +soft-half-right +push-top'},_react2.default.createElement('button',{className:'btn --inverted --full-width',ref:'abortReactivationButton',onClick:_PopActions2.default.closeModal},(0,_i18n._)('no, go back'))),_react2.default.createElement('div',{key:'confirmReactivateButton',className:'block block-50 +soft-half-left +push-top'},_react2.default.createElement('button',{className:'btn --full-width js-subscription-reactivation-button',ref:'confirmReactivationButton',onClick:this.reactivateSubscription},(0,_i18n._)('yes, reactivate')))];}},renderConfirmation:function renderConfirmation(){var isPending=this.isRequestPending();if(isPending){return _react2.default.createElement('div',{className:'block-group'},_react2.default.createElement('div',{className:'block +text-center'},_react2.default.createElement('h3',{className:'+blue +push-half-bottom'},(0,_i18n._)('Reactivating your subscription...'))),_react2.default.createElement('div',{className:'block +push-top +text-center'},_react2.default.createElement(_Spinny2.default,{ref:'loadingIndicator'})));}else{var periodEnd=this.state.subscription.get('stripe_subscription_current_period_end');var timeString=_moment2.default.unix(periodEnd).format('[the] Do [of] MMMM, YYYY');return _react2.default.createElement('div',{className:'block-group'},_react2.default.createElement('div',{className:'block'},_react2.default.createElement('h3',{className:'+blue +push-top +push-half-bottom'},(0,_i18n._)('Reactivate Subscription'))),_react2.default.createElement('div',{className:'block'},_react2.default.createElement('h5',{className:'+push-bottom-double'},(0,_i18n._)('Are you sure you want to reactivate your subscription?'),_react2.default.createElement('br',null),_react2.default.createElement('br',null),(0,_i18n._)('Your billing cycle will resume on '+timeString+'.'))),this.renderButtons());}},renderCompleted:function renderCompleted(){var hasError=this.isRequestFailure();if(hasError){return _react2.default.createElement('div',{className:'block-group'},_react2.default.createElement('div',{className:'block'},_react2.default.createElement('h3',{className:'+blue +push-top +push-half-bottom'},(0,_i18n._)('An error has occurred!'))),_react2.default.createElement('div',{className:'block'},_react2.default.createElement('h5',{className:'+push-bottom-double',ref:'errorText'},(0,_i18n._)('We were unable to reactivate your subscription. Please get in touch with us at: '),_react2.default.createElement('br',null),_react2.default.createElement('a',{href:'mailto:'+_PlanConstants2.default.SUPPORT_EMAIL},''+_PlanConstants2.default.SUPPORT_EMAIL))),this.renderButtons());}
else{var periodEnd=this.state.subscription.get('stripe_subscription_current_period_end');var timeString=_moment2.default.unix(periodEnd).format('[the] Do [of] MMMM, YYYY');return _react2.default.createElement('div',{className:'block-group'},_react2.default.createElement('div',{className:'block'},_react2.default.createElement('h3',{className:'+blue +push-top +push-half-bottom'},(0,_i18n._)('Reactivation Successfull!'))),_react2.default.createElement('div',{className:'block'},_react2.default.createElement('h5',{className:'+push-bottom-double'},(0,_i18n._)('Your subscription has been successfully reactivated!'),_react2.default.createElement('br',null),_react2.default.createElement('br',null),(0,_i18n._)('You will be charged again on '+timeString+'.'))),this.renderButtons());}},render:function render(){var isDone=this.isRequestDone();var hasError=this.isRequestFailure();var currentStepName=undefined;if(hasError)currentStepName=STEP_NAMES.SUBSCRIPTION_STEP_CANCELLATION;else currentStepName=STEP_NAMES.SUBSCRIPTION_STEP_PAYMENT;var billingFrequency=this.state.subscription.get('billing_frequency');return _react2.default.createElement('div',{className:'newmodal --subscription is-shown js-subscription-reactivation-modal'},_react2.default.createElement('div',{className:'newmodal-content'},_react2.default.createElement('div',{className:'panel-group +height-full'},_react2.default.createElement(_SidePanel2.default,{currentStepName:currentStepName,billingFrequency:billingFrequency,plan:this.props.plan}),_react2.default.createElement('div',{className:'block block-65 cancellation-panel +soft-half'},isDone?this.renderCompleted():this.renderConfirmation()))));}});module.exports=ReactivateSubscriptionModal;},{"../../../actions/PopActions":273,"../../../actions/StripeActions":275,"../../../constants/AppConstants":324,"../../../constants/PlanConstants":330,"../../../i18n":335,"../../../stores/SubscriptionStore":343,"../../mixins/requestMonitor.mixin.js":291,"../../widgets/Spinny.react":323,"./SidePanel.react":318,"moment":59,"react":236}],318:[function(require,module,exports){'use strict';var _AppConstants=require('../../../constants/AppConstants');var _AppConstants2=_interopRequireDefault(_AppConstants);var _classnames=require('classnames');var _classnames2=_interopRequireDefault(_classnames);var _PlanConstants=require('../../../constants/PlanConstants');var _PlanConstants2=_interopRequireDefault(_PlanConstants);var _react=require('react');var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var STEP_NAMES=_AppConstants2.default.SUBSCRIPTION_STEP_NAMES;var SidePanel=_react2.default.createClass({displayName:'SidePanel',propTypes:{currentStepName:_react.PropTypes.string.isRequired,billingFrequency:_react.PropTypes.oneOf([_PlanConstants2.default.YEARLY,_PlanConstants2.default.MONTHLY]).isRequired,plan:_react.PropTypes.shape({name:_react.PropTypes.string.isRequired,description:_react.PropTypes.string.isRequired,monthlyPrice:_react.PropTypes.number.isRequired,yearlyPrice:_react.PropTypes.number.isRequired,moreInfo:_react.PropTypes.shape({items:_react.PropTypes.array,tagLine:_react.PropTypes.string})})},getDefaultProps:function getDefaultProps(){return{currentStepName:'',plan:{name:'',description:'',monthlyPrice:0,yearlyPrice:0,moreInfo:{items:[],tagLine:''}}};},getPrice:function getPrice(){var plan=this.props.plan;var billingFrequency=this.props.billingFrequency;if(billingFrequency===_PlanConstants2.default.YEARLY){return plan.yearlyPrice;}else if(billingFrequency===_PlanConstants2.default.MONTHLY){return plan.monthlyPrice;}else{throw new Error('Invalid billingFrequency:'+billingFrequency);}},getBillingFrequencyText:function getBillingFrequencyText(){var billingFrequency=this.props.billingFrequency;if(billingFrequency===_PlanConstants2.default.YEARLY){return'an annually';}else if(billingFrequency===_PlanConstants2.default.MONTHLY){return'a monthly';}else{throw new Error('Invalid billingFrequency:'+billingFrequency);}},renderConfirmationSidePanel:function renderConfirmationSidePanel(){return _react2.default.createElement('div',{className:'block panel-splash confirmation-sidepanel'},_react2.default.createElement('div',{className:'big-icon'},_react2.default.createElement('i',{className:'icon-check-mark'})));},renderCancellationSidePanel:function renderCancellationSidePanel(){return _react2.default.createElement('div',{className:'block panel-splash cancellation-sidepanel'},_react2.default.createElement('div',{className:'big-icon'},_react2.default.createElement('i',{className:'icon-close'})));},renderPricingSidePanel:function renderPricingSidePanel(){var billingFrequency=this.props.billingFrequency;return _react2.default.createElement('div',{className:'summary-sidepanel block panel-splash'},_react2.default.createElement('i',{className:(0,_classnames2.default)(this.props.plan.iconClass,'+push-half-bottom +text-center')}),_react2.default.createElement('div',{className:'sidepane-plan-name +text-center +flush'},this.props.plan.name.toUpperCase()),_react2.default.createElement('div',{className:'sidepanel-spacer'}),_react2.default.createElement('p',{className:'sidepanel-info-text +text-center +flush'},'You will be charged'),_react2.default.createElement('div',{className:'+push-quarter-ends +text-center'},_react2.default.createElement('h4',{className:'+inline'},'$'+this.getPrice()),_react2.default.createElement('span',null,' USD')),_react2.default.createElement('p',{className:'sidepanel-info-text +text-center +flush'},'on '+this.getBillingFrequencyText()+' recurring basis'));},render:function render(){if(this.props.currentStepName===STEP_NAMES.SUBSCRIPTION_STEP_CONFIRMATION){return this.renderConfirmationSidePanel();}
if(this.props.currentStepName===STEP_NAMES.SUBSCRIPTION_STEP_CANCELLATION){return this.renderCancellationSidePanel();}else return this.renderPricingSidePanel();}});module.exports=SidePanel;},{"../../../constants/AppConstants":324,"../../../constants/PlanConstants":330,"classnames":22,"react":236}],319:[function(require,module,exports){'use strict';var _AppConstants=require('../../../constants/AppConstants');var AppConstants=_interopRequireWildcard(_AppConstants);var _CancelConfirmationPanel=require('./CancelConfirmationPanel.react');var _CancelConfirmationPanel2=_interopRequireDefault(_CancelConfirmationPanel);var _ConfirmationPanel=require('./ConfirmationPanel.react');var _ConfirmationPanel2=_interopRequireDefault(_ConfirmationPanel);var _PaymentPanel=require('./PaymentPanel.react');var _PaymentPanel2=_interopRequireDefault(_PaymentPanel);var _PopActions=require('../../../actions/PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _PlanConstants=require('../../../constants/PlanConstants');var _PlanConstants2=_interopRequireDefault(_PlanConstants);var _react=require('react');var _react2=_interopRequireDefault(_react);var _SidePanel=require('./SidePanel.react');var _SidePanel2=_interopRequireDefault(_SidePanel);var _subscriptionStore=require('../../mixins/subscriptionStore.mixin');var _subscriptionStore2=_interopRequireDefault(_subscriptionStore);var _SubscriptionStore=require('../../../stores/SubscriptionStore');var _SubscriptionStore2=_interopRequireDefault(_SubscriptionStore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
var STEPS=AppConstants.SUBSCRIPTION_STEPS;var STEP_NAMES=AppConstants.SUBSCRIPTION_STEP_NAMES;var SubscriptionModal=_react2.default.createClass({displayName:'SubscriptionModal',mixins:[_subscriptionStore2.default],propTypes:{plan:_react.PropTypes.shape({name:_react.PropTypes.string.isRequired,description:_react.PropTypes.string.isRequired,monthlyPrice:_react.PropTypes.number.isRequired,yearlyPrice:_react.PropTypes.number.isRequired,features:_react.PropTypes.array}).isRequired,isClosing:_react.PropTypes.bool.isRequired,featureSetID:_react.PropTypes.oneOf([_PlanConstants2.default.FEATURE_SETS.professional]).isRequired,initialBillingFrequency:_react.PropTypes.oneOf([_PlanConstants2.default.MONTHLY,_PlanConstants2.default.YEARLY])},getDefaultProps:function getDefaultProps(){return{plan:{name:'',description:'',monthlyPrice:0,yearlyPrice:0,features:[]},isClosing:false,initialBillingFrequency:_PlanConstants2.default.YEARLY,featureSetID:_PlanConstants2.default.FEATURE_SETS.professional};},getInitialState:function getInitialState(){return{subscription:_SubscriptionStore2.default.getSubscription(),step:STEPS.PAYMENT,billingFrequency:this.props.initialBillingFrequency};},_onChange:function _onChange(){this.setState({subscription:_SubscriptionStore2.default.getSubscription()});},setBillingFrequency:function setBillingFrequency(billingFrequency){this.setState({billingFrequency:billingFrequency});},toggleCloseConfirmation:function toggleCloseConfirmation(){_PopActions2.default.toggleCloseConfirmation(!this.props.isClosing);},closeModal:function closeModal(){if(this.state.step===STEPS.PAYMENT&&window.mixpanel){window.mixpanel.track('User clicked close in payment step of subscription modal');}
_PopActions2.default.closeModal();},showConfirmation:function showConfirmation(){this.setState({step:STEPS.CONFIRMATION});},renderCloseButton:function renderCloseButton(){if(this.props.isClosing){return null;}else return _react2.default.createElement('div',{ref:'closeModalButton',className:'close-modal hint--top','data-hint':'Close',onClick:this.toggleCloseConfirmation},_react2.default.createElement('i',{className:'icon-close'}));},renderPanel:function renderPanel(){switch(this.state.step){case STEPS.PAYMENT:return _react2.default.createElement(_PaymentPanel2.default,{ref:'payment',onComplete:this.showConfirmation,featureSetID:this.props.featureSetID,billingFrequency:this.state.billingFrequency,setBillingFrequency:this.setBillingFrequency});case STEPS.CONFIRMATION:return _react2.default.createElement(_ConfirmationPanel2.default,{ref:'confirmation',onDismiss:this.closeModal,subscription:this.state.subscription});default:return null;}},render:function render(){var currentStepName=STEP_NAMES[this.state.step];var isClosing=this.props.isClosing;var panelClass=isClosing?'+hidden':'+visible';return _react2.default.createElement('div',{className:'newmodal --subscription js-subscription-modal is-shown'},_react2.default.createElement('div',{className:'newmodal-content'},_react2.default.createElement('div',{className:'panel-group +height-full'},_react2.default.createElement(_SidePanel2.default,{currentStepName:currentStepName,plan:this.props.plan,billingFrequency:this.state.billingFrequency}),_react2.default.createElement('div',{className:'block block-65 panel-content'},this.renderCloseButton(),isClosing?_react2.default.createElement(_CancelConfirmationPanel2.default,{ref:'cancelConfirmation',closeModal:this.closeModal,toggleCloseConfirmation:this.toggleCloseConfirmation,currentStep:this.state.step}):null,_react2.default.createElement('div',{ref:'panelContainer',className:panelClass},this.renderPanel())))));}});module.exports=SubscriptionModal;},{"../../../actions/PopActions":273,"../../../constants/AppConstants":324,"../../../constants/PlanConstants":330,"../../../stores/SubscriptionStore":343,"../../mixins/subscriptionStore.mixin":292,"./CancelConfirmationPanel.react":313,"./ConfirmationPanel.react":315,"./PaymentPanel.react":316,"./SidePanel.react":318,"react":236}],320:[function(require,module,exports){'use strict';var _react=require('react');var _react2=_interopRequireDefault(_react);var _i18n=require('../../i18n');var _classnames=require('classnames');var _classnames2=_interopRequireDefault(_classnames);var _PlanConstants=require('../../constants/PlanConstants');var _PlanConstants2=_interopRequireDefault(_PlanConstants);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
module.exports=_react2.default.createClass({displayName:'exports',propTypes:{currentPricingScheme:_react2.default.PropTypes.oneOf([_PlanConstants2.default.MONTHLY,_PlanConstants2.default.YEARLY]).isRequired,setPricingScheme:_react2.default.PropTypes.func.isRequired,buttonClass:_react2.default.PropTypes.string},getDefaultProps:function getDefaultProps(){return{buttonClass:'btn --subscription-toggle'};},handleClick:function handleClick(nextScheme){if(nextScheme===this.props.currentPricingScheme)return;else this.props.setPricingScheme(nextScheme);},render:function render(){var currentPricing=this.props.currentPricingScheme;var baseClass=this.props.buttonClass;var monthlyButtonClass=(0,_classnames2.default)(baseClass,{'is-disabled':currentPricing===_PlanConstants2.default.MONTHLY});var yearlyButtonClass=(0,_classnames2.default)(baseClass,{'is-disabled':currentPricing===_PlanConstants2.default.YEARLY});return _react2.default.createElement('div',null,_react2.default.createElement('div',{className:monthlyButtonClass,ref:'setMonthlyScheme',key:'setMonthlyScheme',onClick:this.handleClick.bind(this,_PlanConstants2.default.MONTHLY)},(0,_i18n._)('Monthly')),_react2.default.createElement('div',{className:yearlyButtonClass,ref:'setYearlyScheme',key:'setYearlyScheme',onClick:this.handleClick.bind(this,_PlanConstants2.default.YEARLY)},(0,_i18n._)('Yearly (-10%)')));}});},{"../../constants/PlanConstants":330,"../../i18n":335,"classnames":22,"react":236}],321:[function(require,module,exports){'use strict';var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactTypeahead=require('react-typeahead');var _TypeaheadToken=require('./TypeaheadToken.react');var _TypeaheadToken2=_interopRequireDefault(_TypeaheadToken);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var Tokenizer=_react2.default.createClass({displayName:'Tokenizer',propTypes:{options:_react2.default.PropTypes.array,customClasses:_react2.default.PropTypes.shape({input:_react2.default.PropTypes.string,results:_react2.default.PropTypes.string,listItem:_react2.default.PropTypes.string,listAnchor:_react2.default.PropTypes.string,token:_react2.default.PropTypes.string}),placeholder:_react2.default.PropTypes.string},getInitialState:function getInitialState(){return{selectedOptions:[]};},onKeyDown:function onKeyDown(evt){if(evt.keyCode===13||evt.keyCode===188){evt.preventDefault();this.onOptionSelected(evt.target.value);}},onOptionSelected:function onOptionSelected(option){if(this.refs.typeahead.state.entryValue===''){this.refs.typeahead.setEntryText('');return;}
var alreadyHaveOption=false;for(var i=0;i<this.state.selectedOptions.length;i++){if(this.state.selectedOptions[i]===option){alreadyHaveOption=true;}}
if(alreadyHaveOption){this.refs.typeahead.setEntryText('');return;}
this.setState({selectedOptions:this.state.selectedOptions.concat([option])});this.refs.typeahead.setEntryText('');},unselectOption:function unselectOption(optionToRemove){var newList=this.state.selectedOptions.filter(function(o){return o!==optionToRemove;});this.setState({selectedOptions:newList});this.refs.typeahead.setEntryText('');},render:function render(){var _this=this;var optionTokens=this.state.selectedOptions.map(function(option,i){return _react2.default.createElement(_TypeaheadToken2.default,{key:i,option:option,unselectOption:_this.unselectOption});});return _react2.default.createElement('div',null,_react2.default.createElement('span',{ref:'tokens'},optionTokens),_react2.default.createElement(_reactTypeahead.Typeahead,{ref:'typeahead',placeholder:this.props.placeholder,options:this.props.options,customClasses:this.props.customClasses,onKeyDown:this.onKeyDown,onOptionSelected:this.onOptionSelected}));}});module.exports=Tokenizer;},{"./TypeaheadToken.react":322,"react":236,"react-typeahead":73}],322:[function(require,module,exports){'use strict';var _react=require('react');var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var Token=_react2.default.createClass({displayName:'Token',propTypes:{option:_react2.default.PropTypes.string.isRequired,unselectOption:_react2.default.PropTypes.func.isRequired},unselectOption:function unselectOption(){this.props.unselectOption(this.props.option);},render:function render(){return _react2.default.createElement('span',{className:'typeahead-token'},_react2.default.createElement('span',{className:'+push-half-right'},this.props.option),_react2.default.createElement('i',{className:'icon-close',ref:'unselectOptionButton',onClick:this.unselectOption}));}});module.exports=Token;},{"react":236}],323:[function(require,module,exports){'use strict';var _classname=require('classname');var _classname2=_interopRequireDefault(_classname);var _react=require('react');var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var Spinny=_react2.default.createClass({displayName:'Spinny',propTypes:{size:_react2.default.PropTypes.string,text:_react2.default.PropTypes.string},renderText:function renderText(){if(!this.props.text)return null;else return _react2.default.createElement('span',{ref:'textIndicator'},this.props.text);},render:function render(){var spinnyClass=(0,_classname2.default)('spinny',this.props.size);return _react2.default.createElement('span',null,_react2.default.createElement('div',{ref:'loadingIndicator',className:spinnyClass}),this.renderText());}});module.exports=Spinny;},{"classname":16,"react":236}],324:[function(require,module,exports){'use strict';var _i18n=require('../i18n');var AppConstants={MERGE_ENVIRONMENT:"APP_MERGE_ENVIRONMENT",SET_ENVIRONMENT:"APP_SET_ENVIRONMENT",SET_CONTENT_VIEW:'APP_SET_CONTENT_VIEW',SET_DISPLAY_MODE:'APP_DISPLAY_MODE',UPDATE_FILTER:'APP_UPDATE_FILTER',CLEAR_FILTERS:'APP_CLEAR_FILTERS',LOAD:'LOADING_STATE_UPDATE',INIT_FEED_DISPLAYS:'APP_INIT_FEED_DISPLAYS',SET_FEED_DISPLAY:'APP_SET_FEED_DISPLAY',UPDATE_SEARCH_QUERY:'APP_UPDATE_SEARCH_QUERY',UPDATE_REQUEST:'APP_UPDATE_REQUEST',CONTENT_VIEWS:{feed:'APP_CONTENT_VIEW_FEED',organize:'APP_CONTENT_VIEW_ORGANIZE',profile:'APP_CONTENT_VIEW_PROFILE',settings:'APP_CONTENT_VIEW_SETTINGS'},READABLE_TYPES:{'fold':'Folder','plot':'Plot','grid':'Grid'},ICONS_BY_FILETYPE:{'fold':'icon-fold','grid':'icon-grid','plot':'icon-plotlylogo'},SORT_OPTIONS:[{key:'filename',label:(0,_i18n._)('Name'),defaultDirection:'ascending'},{key:'creation_time',label:(0,_i18n._)('Created'),defaultDirection:'descending'},{key:'date_modified',label:(0,_i18n._)('Modified'),defaultDirection:'descending'},{key:'filetype',label:(0,_i18n._)('File type'),defaultDirection:'ascending'},{key:'views',label:(0,_i18n._)('Views'),defaultDirection:'descending'}],SORT_DIRECTIONS:{ASC:'ascending',DESC:'descending'},FOLDER_TO_ENDPOINT:{'home':'home','recent':'all','shared':'shared','favorite':'starred','trash':'trashed','::feed::':'plots','::search::':'search'},OLD_FILTERS:[{key:'plot',label:(0,_i18n._)('Plots'),field:'filetype'},{key:'grid',label:(0,_i18n._)('Grids'),field:'filetype'},{key:'fold',label:(0,_i18n._)('Folders'),field:'filetype'},{key:'private',label:(0,_i18n._)('Private'),field:'world_readable'},{key:'public',label:(0,_i18n._)('Public'),field:'world_readable'}],FILTER_GROUPS_BY_VIEW:{profile:['filetype','privacy'],organize:['filetype','privacy']},FILTER_GROUPS:{filetype:{label:(0,_i18n._)('File type'),filters:['plot','grid','fold']},privacy:{label:(0,_i18n._)('Privacy'),filters:['public','private']}},FILTERS:{plot:{label:(0,_i18n._)('Plots'),field:'filetype'},grid:{label:(0,_i18n._)('Grids'),field:'filetype'},fold:{label:(0,_i18n._)('Folders'),field:'filetype'},public:{label:(0,_i18n._)('Public'),field:'world_readable'},private:{label:(0,_i18n._)('Private'),field:'world_readable'}},STATUS:{PENDING:'STATUS_PENDING',SUCCESS:'STATUS_SUCCESS',FAILURE:'STATUS_FAILURE',NOT_FOUND:'STATUS_NOT_FOUND',SERVER_ERROR:'STATUS_SERVER_ERROR',THROTTLED:'STATUS_THROTTLED'},PLACEHOLDERS:{LOADING:'APP_PLACEHOLDER_LOADING',EMPTY_FOLDER:'APP_PLACEHOLDER_EMPTY_FOLDER',FILTERED:'APP_PLACEHOLDER_FILTERED',ERROR:'APP_PLACEHOLDER_ERROR',NOTFOUND:'APP_PLACEHOLDER_NOTFOUND',USER_NOT_FOUND:'APP_PLACEHOLDER_USER_NOT_FOUND'},DISPLAY_MODES:{thumbnail:'DISPLAY_MODES_THUMBNAIL',report:'DISPLAY_MODES_REPORT',list:'DISPLAY_MODES_LIST'},FEED_DISPLAYS:{handpicked:{key:"handpicked",label:(0,_i18n._)("Handpicked"),description:(0,_i18n._)("Beautiful plots curated by the Plotly team"),icon:"icon-heart",curated:true},popular:{key:"popular",label:(0,_i18n._)("Popular"),description:(0,_i18n._)("The all-time most popular plots on Plotly"),icon:"icon-star",curated:false},recent:{key:"recent",label:(0,_i18n._)("Recent"),description:(0,_i18n._)("Public plots created by the Plotly community"),icon:"icon-plot-3d-scatter",curated:false}},LOADING_IDS:{NEWS_FEED_INIT:"APP_LOADING_ID_NEWS_FEED_INIT",NEWS_FEED:"APP_LOADING_ID_NEWS_FEED",NEWS_FEED_PAGE:"APP_LOADING_ID_NEWS_FEED_PAGE",NEWS_FEED_SEARCH:"APP_LOADING_ID_NEWS_FEED_SEARCH",NEWS_FEED_SEARCH_PAGE:"APP_LOADING_ID_NEWS_FEED_SEARCH_PAGE"},API:{FIRST_PAGE:1,V1:{CONTENT_TYPE_HEADER:'application/x-www-form-urlencoded; charset=UTF-8'}},FILE_SYNC_KEY:'PLOTLY_FILE_SYNC_KEY',OVERWRITE_CACHE:true,ENV_SETTINGS:{SOCIAL_SHARING_ENABLED:"SOCIALSHARING_ENABLED",STRIPE_ENABLED:"STRIPE_ENABLED",STRIPE_KEY:"STRIPE_PUBLISHABLE_KEY"},EMBED_FORMATS:{IFRAME:"EMBED_FORMATS_IFRAME",HTML:"EMBED_FORMATS_HTML"},SCRIPT_URLS:{STRIPE:"https://js.stripe.com/v2/"},PLOTLY_URLS:{PRICING:"/products/cloud"},PLOTLY_LINKS:{COMMUNITY:"http://community.plot.ly"},SETTINGS_NAV_LINKS:[{key:"profile",link:"/settings/profile",text:(0,_i18n._)("Profile")},{key:"password",link:"/settings/password",text:(0,_i18n._)("Password")},{key:"subscription",link:"/settings/subscription",text:(0,_i18n._)("Subscription")},{key:"api",link:"/settings/api",text:(0,_i18n._)("API keys")}],CREDIT_CARD_TYPES:{AMEX:"CREDIT_CARD_AMEX",MASTERCARD:"CREDIT_CARD_MASTERCARD",VISA:"CREDIT_CARD_VISA"},CREDIT_CARD_ICONS:{CREDIT_CARD_AMEX:"icon-logo-amex",CREDIT_CARD_MASTERCARD:"icon-logo-mastercard",CREDIT_CARD_VISA:"icon-logo-visa"},STRIPE_CARD_TYPES:{"american express":"AMEX","mastercard":"MASTERCARD","visa":"VISA"},SUBSCRIPTION_STEPS:{PAYMENT:"SUBSCRIPTION_STEP_PAYMENT",CONFIRMATION:"SUBSCRIPTION_STEP_CONFIRMATION",CANCELLATION:"SUBSCRIPTION_STEP_CANCELLATION"},SUBSCRIPTION_STEP_NAMES:{SUBSCRIPTION_STEP_PAYMENT:"Payment",SUBSCRIPTION_STEP_CONFIRMATION:"Confirmation",SUBSCRIPTION_STEP_CANCELLATION:"Cancellation"},ASSET_NAMES:{PLOTLYJS:'plotly.js',HANDSONTABLE:'handsontable.js'}};module.exports=AppConstants;},{"../i18n":335}],325:[function(require,module,exports){'use strict';var _i18n=require('../i18n');var _DefaultValues=require('./DefaultValues');module.exports=[{fid:'home',filename:(0,_i18n._)('Home'),filetype:'fold',iconClass:'icon-filing-cabinet',display:true,isOpen:true,preview:'',world_readable:false,displayInOrganize:true},{fid:'shared',filename:(0,_i18n._)('Shared with me'),filetype:'fold',iconClass:'icon-inbox',display:true,preview:'',displayInOrganize:true},{fid:'recent',filename:(0,_i18n._)('Recent'),filetype:'fold',iconClass:'icon-recent',display:true,preview:'',displayInOrganize:true},{fid:'favorite',filename:(0,_i18n._)('Favorite'),filetype:'fold',iconClass:'icon-star',display:true,preview:'',displayInOrganize:true},{fid:'trash',filename:(0,_i18n._)('Trash'),filetype:'fold',iconClass:'icon-trash',display:true,preview:'',displayInOrganize:true},{fid:_DefaultValues.FEEDFID,filename:(0,_i18n._)("News feed"),filetype:"fold",icon:null,display:false,preview:"",displayInOrganize:false},{fid:_DefaultValues.SEARCHFID,filename:(0,_i18n._)("Search results"),filetype:"fold",icon:null,display:false,preview:"",displayInOrganize:false}];},{"../i18n":335,"./DefaultValues":326}],326:[function(require,module,exports){'use strict';var _AppConstants=require('./AppConstants');var _AppConstants2=_interopRequireDefault(_AppConstants);var _immutable=require('immutable');var _immutable2=_interopRequireDefault(_immutable);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
module.exports={API_URL:'https://api.plot.ly',BASE_URL:'/organize',HOT_DATA:{rows:[[1,10],[2,20],[3,50],[4,40]],columnNames:['time','voltage']},PAGE_SIZE_SM:12,PAGE_SIZE_LG:30,FOLDER_API:{FOLDER:'all',PAGE:1,SORT_KEY:'creation_time',SORT_DIR:_AppConstants2.default.SORT_DIRECTIONS.DESC,FILETYPES:['plot','grid','fold']},SIDEBAR:{startWidth:250,minWidth:150,maxWidth:300},DIALOGUE_DURATION:5000,DIALOGUE_NO_DURATION:0,FOLDER_ICON_CLASS:'icon-folder-closed',XHR_DEFAULTS:{headers:{'Accept':'application/json','Content-Type':'application/json'},responseType:'json',timeout:0,withCredentials:true},ROOTFID:'::root::',FEEDFID:'::feed::',SEARCHFID:'::search::'};},{"./AppConstants":324,"immutable":58}],327:[function(require,module,exports){'use strict';var _i18n=require('../i18n');module.exports=[{key:'thumbnail',label:(0,_i18n._)('Thumbnail'),iconClass:'icon-thumbnail-view'},{key:'list',label:(0,_i18n._)('List'),iconClass:'icon-list-view'},{key:'presentation',label:(0,_i18n._)('Report'),iconClass:'icon-full-view'}];},{"../i18n":335}],328:[function(require,module,exports){'use strict';module.exports={ADD:'FILE_ADD',ADD_ALL:'FILE_ADD_ALL',DELETE:'FILE_DELETE',UPDATE:'FILE_UPDATE',MOVE:'FILE_MOVE',UPDATE_COLLABORATORS:'FILE_UPDATE_COLLABORATORS'};},{}],329:[function(require,module,exports){'use strict';module.exports={SET_CURRENT:'FOLDER_SET_CURRENT',RECEIVE_FILES:'FOLDER_RECEIVE_FILES',RECEIVE_SUBFOLDERS:'FOLDER_RECEIVE_SUBFOLDERS',ADD:'FOLDER_ADD',UPDATE:'FOLDER_UPDATE',UPDATE_FEED:'FOLDER_UPDATE_FEED'};},{}],330:[function(require,module,exports){'use strict';module.exports={EVENTS:{UPDATE_SUBSCRIPTION:'PLANEVENTS_UPDATE_SUBSCRIPTION'},CONTACT_EMAIL:'accounts@plot.ly',SUPPORT_EMAIL:'support@plot.ly',YEARLY:'annually',MONTHLY:'monthly',FEATURE_SETS:{professional:"professional"},PLANS:[{name:'free',tagLine:'free tagline',featureSet:'community',description:'Access basic features and upload unlimited public data.',monthlyPrice:0,yearlyPrice:0,isCurrentPlan:true,backgroundImg:'community',iconClass:'icon-plot-scatter'},{name:'professional',tagLine:'Professionals using Plotly by themselves',featureSet:'professional',description:'Sensitive data? Upgrade for unlimited access, email support, privacy controls and more.',monthlyPrice:25.00,yearlyPrice:228.00,isCurrentPlan:false,backgroundImg:'professional',iconClass:'icon-plot-area'}],INVOICES:[{date:'Nov.2015',amountBilled:9,invoiceState:'Pending',invoiceDescription:'Pro Plan - Monthly Subscription'},{date:'Oct.2015',amountBilled:9,invoiceState:'Paid',invoiceDescription:'Pro Plan - Monthly Subscription'},{date:'Sept.2015',amountBilled:9,invoiceState:'Paid',invoiceDescription:'Pro Plan - Monthly Subscription'},{date:'Aug.2015',amountBilled:9,invoiceState:'Paid',invoiceDescription:'Pro Plan - Monthly Subscription'}]};},{}],331:[function(require,module,exports){'use strict';module.exports={CLOSE_MODAL:'POP_CLOSE_MODAL',SHOW_MODAL:'POP_SHOW_MODAL',SHOW_MOVE_MODAL:'POP_SHOW_MOVE_MODAL',CLOSE_DIALOGUE:'POP_CLOSE_DIALOGUE',TOGGLE_MODAL_CLOSE_CONFIRMATION:'TOGGLE_MODAL_CLOSE_CONFIRMATION',SHOW_DIALOGUE:'POP_SHOW_DIALOGUE',SHOW_DELETE_MODAL:'POP_SHOW_DELETE_MODAL',SHOW_SUBSCRIPTION_MODAL:'POP_SHOW_SUBSCRIPTION_MODAL',SHOW_REACTIVATE_SUBSCRIPTION_MODAL:'POP_SHOW_REACTIVATE_SUBSCRIPTION_MODAL',SHOW_DASHBOARDLY_MODAL:'POP_SHOW_DASHBOARDLY_MODAL',SHOW_AUTHENTICATION_MODAL:'POP_SHOW_AUTHENTICATION_MODAL',SHOW_THROTTLE_NOTICE:'POP_SHOW_THROTTLE_NOTICE',MODAL_TYPES:{NEW_FOLDER:'MODAL_TYPE_NEW_FOLDER',DELETE_FILE:'MODAL_TYPE_DELETE_FILE',MOVE_FILE:'MODAL_TYPE_MOVE_FILE',SHARE_FILE:'MODAL_TYPE_SHARE_FILE',SUBSCRIPTION:'MODAL_TYPE_SUBSCRIPTION',CANCEL_SUBSCRIPTION:'MODAL_TYPE_CANCEL_SUBSCRIPTION',REACTIVATE_SUBSCRIPTION:'MODAL_TYPE_REACTIVATE_SUBSCRIPTION',THROTTLED:'MODAL_TYPE_THROTTLED',DASHBOARDLY:'MODAL_TYPE_DASHBOARDLY',AUTHENTICATION:'MODAL_TYPE_AUTHENTICATION'},DIALOGUE_TYPES:{THROTTLED:'DIALOGUE_TYPE_THROTTLED'},SHARING_MODAL_TABS:{COLLABORATORS:1,SHARE_LINK:2,EMBED:3},AUTHENTICATION_MODAL_TABS:{SIGNIN:'SIGNIN',SIGNUP:'SIGNUP'}};},{}],332:[function(require,module,exports){'use strict';module.exports={SET_LOGGED_IN_USER:'USER_SET_LOGGED_IN_USER',UPDATE_USER:'USER_UPDATE',GET_COLLABORATORS:'USERS_GET_COLLABORATORS',SET_PROFILE_USER:'USER_SET_PROFILE_USER',INITIALIZE_PLANS:'INITIALIZE_PLANS'};},{}],333:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var EDIT_MODE=exports.EDIT_MODE={ANALYSIS:'WORKSPACE_EDIT_MODE_ANALYSIS',GRAPH:'WORKSPACE_EDIT_MODE_GRAPH',STYLE:'WORKSPACE_EDIT_MODE_STYLE',SHARE:'WORKSPACE_EDIT_MODE_SHARE'};var STYLE_MODE=exports.STYLE_MODE={TRACES:'WORKSPACE_STYLE_MODE_TRACES',LAYOUT:'WORKSPACE_STYLE_MODE_LAYOUT',NOTES:'WORKSPACE_STYLE_MODE_NOTES',AXES:'WORKSPACE_STYLE_MODE_AXES',LEGEND:'WORKSPACE_STYLE_MODE_LEGEND'};var EDIT_MODES=exports.EDIT_MODES=Object.keys(EDIT_MODE).map(function(k){return EDIT_MODE[k];});var STYLE_MODES=exports.STYLE_MODES=Object.keys(STYLE_MODE).map(function(k){return STYLE_MODE[k];});var SELECT_EDIT_MODE=exports.SELECT_EDIT_MODE='WORKSPACE_SELECT_EDIT_MODE';var SELECT_STYLE_MODE=exports.SELECT_STYLE_MODE='WORKSPACE_SELECT_STYLE_MODE';var PLOTLY_RELAYOUT=exports.PLOTLY_RELAYOUT='WORKSPACE_RELAYOUT';var PLOTLY_RESTYLE=exports.PLOTLY_RESTYLE='WORKSPACE_RESTYLE';var SYNC_FIGURE_FROM_PLOTLY=exports.SYNC_FIGURE_FROM_PLOTLY='WORKSPACE_SYNC_FIGURE_FROM_PLOTLY';var MERGE_COLUMNS_AND_TABLES=exports.MERGE_COLUMNS_AND_TABLES='WORKSPACE_MERGE_COLUMNS_AND_TABLES';var UPDATE_TABLE=exports.UPDATE_TABLE='UPDATE_TABLE';var MERGE_TABLE=exports.MERGE_TABLE='WORKSPACE_MERGE_TABLE';var SELECT_TABLE=exports.SELECT_TABLE='WORKSPACE_SELECT_TABLE';var OVERWRITE_TABLE=exports.OVERWRITE_TABLE='WORKSPACE_OVERWRITE_TABLE';var MERGE_COLUMNS=exports.MERGE_COLUMNS='WORKSPACE_MERGE_COLUMNS';var SWAP_COLUMN_IDS=exports.SWAP_COLUMN_IDS='WORKSPACE_SWAP_COLUMN_IDS';var ASSIGN_COLUMN=exports.ASSIGN_COLUMN='WORKSPACE_ASSIGN_COLUMN';var SWITCH_CHART_TYPE=exports.SWITCH_CHART_TYPE='WORKSPACE_SWITCH_CHART_TYPE';var NEW_ENCODING_LAYER=exports.NEW_ENCODING_LAYER='WORKSPACE_NEW_ENCODING_LAYER';var NEW_FILTER=exports.NEW_FILTER='WORKSPACE_NEW_FILTER';var UPDATE_FILTER=exports.UPDATE_FILTER='WORKSPACE_UPDATE_FILTER';var REMOVE_FILTER=exports.REMOVE_FILTER='WORKSPACE_REMOVE_FILTER';var UPDATE_GROUPBY=exports.UPDATE_GROUPBY='WORKSPACE_UPDATE_GROUPBY';var MAX_HOT_ROWS=exports.MAX_HOT_ROWS=500;var EDIT_MODE_MENU_ITEMS=exports.EDIT_MODE_MENU_ITEMS=[{mode:EDIT_MODE.GRAPH,text:'Graph',refName:'graphModeToggle'},{mode:EDIT_MODE.STYLE,text:'Style',refName:'styleModeToggle'},{mode:EDIT_MODE.ANALYSIS,text:'Analysis',refName:'analysisModeToggle'},{mode:EDIT_MODE.SHARE,text:'Share',refName:'shareModeToggle'}];var STYLE_MODE_MENU_ITEMS=exports.STYLE_MODE_MENU_ITEMS=[{mode:STYLE_MODE.TRACES,text:'Traces',refName:'tracesStyleModeToggle'},{mode:STYLE_MODE.LAYOUT,text:'Layout',refName:'layoutStyleModeToggle'},{mode:STYLE_MODE.NOTES,text:'Notes',refName:'notesStyleModeToggle'},{mode:STYLE_MODE.AXES,text:'Axes',refName:'axesStyleModeToggle'},{mode:STYLE_MODE.LEGEND,text:'Legend',refName:'legendStyleModeToggle'}];var DEFAULT_ENCODING_TYPE=exports.DEFAULT_ENCODING_TYPE='scatter';var CONTROL_TYPES=exports.CONTROL_TYPES={ENUM:'ENUM',NUMBER:'NUMBER',FONT:'FONT',COLOR:'COLOR',ENUM_NUMERIC:'ENUM_NUMERIC',ANCHOR_SELECTOR:'ANCHOR_SELECTOR',DASH:'DASH',SYMBOL:'SYMBOL',RADIO:'RADIO',TEXTAREA:'TEXTAREA',NUMERIC_INPUT:'NUMERIC_INPUT',FLAGLIST_CHECKBOX:'FLAGLIST_CHECKBOX'};var COLUMN_ID_TYPES=exports.COLUMN_ID_TYPES={NEW:'new',REF:'ref'};},{}],334:[function(require,module,exports){'use strict';var Dispatcher=require('flux').Dispatcher;module.exports=new Dispatcher();},{"flux":24}],335:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=i18n;exports.gettext=gettext;exports._=_;exports.ngettext=ngettext;exports.pluralize=pluralize;function _typeof(obj){return obj&&typeof Symbol!=="undefined"&&obj.constructor===Symbol?"symbol":typeof obj;}
var WARN_TEXT='i18n: The key `%s` is not valid. Use only strings.';var WILDCARD=/\{\}/g;var FORMAT_REGEXP=/\{([\w\:]+|)\}/g;var dictionary={};function i18n(dict){if((typeof dict==='undefined'?'undefined':_typeof(dict))!=='object'&&!Array.isArray(dict)){throw new Error('dict argument must be an object.');}
for(var i in dict){if(dict.hasOwnProperty(i)){dictionary[i]=dict[i];}}}
function gettext(key){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}
var text=key in dictionary?dictionary[key][1]:key;if(typeof text!=='string'){console.warn(WARN_TEXT,key);return'';}
return text.replace(FORMAT_REGEXP,function(a,b){return b in args?args[b]:a;});}
function _(key){for(var _len2=arguments.length,args=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2];}
return gettext.apply(undefined,[key].concat(args));}
function ngettext(singlekey,multiplekey,count){if(typeof singlekey!=='string'){console.warn(WARN_TEXT,singlekey);return'';}
if(typeof multiplekey!=='string'){console.warn(WARN_TEXT,multiplekey);return'';}
var index=dictionary[singlekey];if(!index){index=count===1?singlekey:multiplekey;}else if(count===1){index=index[1];}else{index=index[2];}
return index.replace(WILDCARD,count);}
function pluralize(singlekey,multiplekey,count){return ngettext(singlekey,multiplekey,count);}},{}],336:[function(require,module,exports){'use strict';var EventEmitter=require('events').EventEmitter;var assign=require('object-assign');var CHANGE_EVENT='change';var BaseStore=assign({},EventEmitter.prototype,{emitChange:function emitChange(){var args=[CHANGE_EVENT].concat(Array.prototype.slice.call(arguments));this.emit.apply(this,args);},addChangeListener:function addChangeListener(callback){this.on(CHANGE_EVENT,callback);},removeChangeListener:function removeChangeListener(callback){this.removeListener(CHANGE_EVENT,callback);},extend:function extend(obj){return assign({},BaseStore,obj);}});module.exports=BaseStore;},{"events":6,"object-assign":60}],337:[function(require,module,exports){'use strict';var _apiUtils=require('../utils/apiUtils');var _DefaultValues=require('../constants/DefaultValues');var _appUtils=require('../utils/appUtils');var _AppConstants=require('../constants/AppConstants');var _AppConstants2=_interopRequireDefault(_AppConstants);var _AppDispatcher=require('../dispatcher/AppDispatcher');var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _objectAssign=require('object-assign');var _objectAssign2=_interopRequireDefault(_objectAssign);var _BaseStore=require('./BaseStore');var _BaseStore2=_interopRequireDefault(_BaseStore);var _CannedFolders=require('../constants/CannedFolders');var _CannedFolders2=_interopRequireDefault(_CannedFolders);var _DirectoryStore=require('./DirectoryStore');var _DirectoryStore2=_interopRequireDefault(_DirectoryStore);var _DisplayModes=require('../constants/DisplayModes');var _DisplayModes2=_interopRequireDefault(_DisplayModes);var _FileConstants=require('../constants/FileConstants');var _FileConstants2=_interopRequireDefault(_FileConstants);var _FileStore=require('./FileStore');var _FileStore2=_interopRequireDefault(_FileStore);var _FolderConstants=require('../constants/FolderConstants');var _FolderConstants2=_interopRequireDefault(_FolderConstants);var _immutable=require('immutable');var _immutable2=_interopRequireDefault(_immutable);var _UserConstants=require('../constants/UserConstants');var _UserConstants2=_interopRequireDefault(_UserConstants);var _UserStore=require('./UserStore');var _UserStore2=_interopRequireDefault(_UserStore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var _contentStore={contentView:null,currentFolder:null,displayModes:[],filters:[],sortOptions:{},loadingStates:{},feedDisplays:_immutable2.default.Map(),feedDisplay:null,searchQuery:null};(function initialize(){setCurrentFolder('home');var defaultDisplayMode='thumbnail';_contentStore.displayModes=_DisplayModes2.default.map(function(mode){return(0,_objectAssign2.default)({},mode,{isActive:mode.key===defaultDisplayMode});});_contentStore.filters=_AppConstants2.default.OLD_FILTERS.map(function(filetype){return(0,_objectAssign2.default)({},filetype,{isActive:true});});_AppConstants2.default.SORT_OPTIONS.forEach(function(sortOption){_contentStore.sortOptions[sortOption.key]=sortOption;});})();function updateSearchQuery(query){_contentStore.searchQuery=query;}
function setFeedDisplay(displayKey){if(!displayKey)throw new Error('Feed display cannot be '+displayKey);_contentStore.feedDisplay=displayKey;}
function setContentView(view){if(!view)throw new Error('Content view cannot be '+view);_contentStore.contentView=view;}
function setCurrentFolder(fid){_contentStore.currentFolder=fid;}
function clearFilters(){for(var i=0;i<_contentStore.filters.length;i++){_contentStore.filters[i].isActive=true;}}
function updateFilters(updatedFilters){for(var i=0;i<_contentStore.filters.length;i++){var filter=_contentStore.filters[i];if(filter.key in updatedFilters){var shouldBeActive=updatedFilters[filter.key];var updatedFilter=(0,_objectAssign2.default)({},filter,{isActive:shouldBeActive});_contentStore.filters[i]=updatedFilter;}}}
function setLoadingState(loadingId){var currentState=_contentStore.loadingStates[loadingId];_contentStore.loadingStates[loadingId]=!currentState;}
var ContentStore=_BaseStore2.default.extend({getContentView:function getContentView(){return _contentStore.contentView;},getContentOwner:function getContentOwner(){if(ContentStore.isOrganizeView()){return _UserStore2.default.getLoggedInUsername();}else if(ContentStore.isProfileView()){return _UserStore2.default.getProfileUsername();}else return null;},getDisplayableFolders:function getDisplayableFolders(){return _CannedFolders2.default.filter(function(f){return f.displayInOrganize===true;}).map(function(f){return ContentStore.getDisplayableFolder(f.fid);});},getDisplayableFolder:function getDisplayableFolder(fid){var folder=ContentStore.getFolder(fid);if(folder.isOpen){folder.subFolders=folder.subFolders.map(function(f){return ContentStore.getDisplayableFolder(f.fid);});}
return folder;},getFeedDisplay:function getFeedDisplay(){return _contentStore.feedDisplay;},getFeedDisplays:function getFeedDisplays(){var activeDisplay=ContentStore.getFeedDisplay();return _contentStore.feedDisplays.valueSeq().toJS().map(function(display){display.isActive=display.key===activeDisplay;return display;});},getFolder:function getFolder(fid){var folder=_FileStore2.default.getFolder(fid);if(!folder)return null;var directory=_DirectoryStore2.default.getEntry(fid);if(!directory)return null;(0,_objectAssign2.default)(folder,directory);folder.subFolders=folder.subFolders.map(function(fid){return _FileStore2.default.getFolder(fid);});folder.files=folder.files.map(function(fid){return _FileStore2.default.getFile(fid);});return folder;},getPathFolders:function getPathFolders(fid){var pathFids=_DirectoryStore2.default.getPathFids(fid);return pathFids.map(function(fid){return ContentStore.getFolder(fid);});},getCurrentFolder:function getCurrentFolder(){return ContentStore.getFolder(_contentStore.currentFolder);},getCurrentFolderReadability:function getCurrentFolderReadability(){var hasPublicParent=false;var currentFolderFid=ContentStore.getCurrentFolder().fid;if(currentFolderFid==='home')return false;var pathFolders=ContentStore.getPathFolders(currentFolderFid);pathFolders.forEach(function(folder){if(folder.world_readable===true)hasPublicParent=true;});return hasPublicParent;},hasPublicParent:function hasPublicParent(fid){var entry=_DirectoryStore2.default.getEntry(fid);if(entry.folderFid===_DefaultValues.ROOTFID)return false;var pathFolders=ContentStore.getPathFolders(entry.parentFid);for(var i=0;i<pathFolders.length;i++){var parent=pathFolders[i];if(parent["world_readable"]===true){return true;}}
return false;},getCurrentFolderFid:function getCurrentFolderFid(){return _contentStore.currentFolder;},getCurrentFiles:function getCurrentFiles(){var currentFolder=ContentStore.getCurrentFolder();return currentFolder?currentFolder.files:[];},getFilters:function getFilters(){return _contentStore.filters;},getSelectedFiles:function getSelectedFiles(){var files=ContentStore.getCurrentFiles();return files.filter(function(file){return file.isSelected;});},getSortOptions:function getSortOptions(){var options=[];for(var sortKey in _contentStore.sortOptions){if(_contentStore.sortOptions.hasOwnProperty(sortKey)){options.push(this.getSortOptionByKey(sortKey));}}
return options;},getSortOptionByKey:function getSortOptionByKey(key){if(!_contentStore.sortOptions.hasOwnProperty(key)){throw new Error("Invalid sort key: "+key);}
var currentSort=this.getCurrentFolder().sort;var isActive=key===currentSort.key;var direction=isActive?currentSort.direction:null;var meta=_contentStore.sortOptions[key];return(0,_objectAssign2.default)({},meta,{key:key,direction:direction,isActive:isActive});},getCurrentSort:function getCurrentSort(){var currentFolder=this.getCurrentFolder();return this.getSortOptionByKey(currentFolder.sort.key);},getDisplayModes:function getDisplayModes(){var currentMode=ContentStore.getCurrentDisplayMode();var isProfileView=ContentStore.isProfileView();var displayModes=[];_contentStore.displayModes.forEach(function(mode){if(isProfileView&&mode.key==='list')return;else displayModes.push((0,_objectAssign2.default)({},mode,{isActive:mode.key===currentMode.key}));});return displayModes;},getCurrentDisplayMode:function getCurrentDisplayMode(){return _contentStore.displayModes.filter(function(f){return f.isActive;})[0];},isFiltered:function isFiltered(){for(var i=0;i<_contentStore.filters.length;i++){var filter=_contentStore.filters[i];if(!filter.isActive)return true;}
return false;},isFullyFiltered:function isFullyFiltered(){var filters=ContentStore.getFilters();var anyActive={'filetype':false,'world_readable':false};for(var i=0;i<filters.length;i++){var filter=filters[i];anyActive[filter.field]=anyActive[filter.field]||filter.isActive;}
return!(anyActive['filetype']&&anyActive['world_readable']);},isFullyCached:function isFullyCached(fid){var folder=_FileStore2.default.getFolder(fid);if(folder.filetype!=="fold"){var msg=fid+" must have a filetype of fold, not "+folder.filetype;throw new Error(msg);}
var folderEntry=_DirectoryStore2.default.getEntry(fid);if(folderEntry.count&&folderEntry.files){return folderEntry.count===folderEntry.files.length;}else return null;},getLoadingStates:function getLoadingStates(){return(0,_objectAssign2.default)({},_contentStore.loadingStates);},isOrganizeView:function isOrganizeView(){var organizeView=_AppConstants2.default.CONTENT_VIEWS.organize;return ContentStore.getContentView()===organizeView;},isProfileView:function isProfileView(){var profileView=_AppConstants2.default.CONTENT_VIEWS.profile;return ContentStore.getContentView()===profileView;},isPublicView:function isPublicView(){var currentView=ContentStore.getContentView();var isProfileView=currentView===_AppConstants2.default.CONTENT_VIEWS.profile;var isFeedView=currentView===_AppConstants2.default.CONTENT_VIEWS.feed;return isProfileView||isFeedView;},getSearchQuery:function getSearchQuery(){return _contentStore.searchQuery;}});var actions=function actions(action){var idlocal,folder,update;_AppDispatcher2.default.waitFor([_FileStore2.default.dispatchToken,_DirectoryStore2.default.dispatchToken,_UserStore2.default.dispatchToken]);switch(action.event){case _AppConstants2.default.SET_CONTENT_VIEW:setContentView(action.view);ContentStore.emitChange();break;case _FolderConstants2.default.SET_CURRENT:setCurrentFolder(action.fid);ContentStore.emitChange();break;case _AppConstants2.default.SET_DISPLAY_MODE:_contentStore.displayModes.forEach(function(mode){mode.isActive=mode.key===action.mode;});localStorage.setItem('filewellDisplayMode',action.mode);ContentStore.emitChange();break;case _AppConstants2.default.UPDATE_FILTER:updateFilters(action.filters);ContentStore.emitChange();break;case _AppConstants2.default.CLEAR_FILTERS:clearFilters();ContentStore.emitChange();break;case _AppConstants2.default.LOAD:setLoadingState(action.loadingId);ContentStore.emitChange();break;case _AppConstants2.default.INIT_FEED_DISPLAYS:_contentStore.feedDisplays=_immutable2.default.fromJS(action.displays);ContentStore.emitChange();break;case _AppConstants2.default.SET_FEED_DISPLAY:setFeedDisplay(action.display);ContentStore.emitChange();break;case _AppConstants2.default.UPDATE_SEARCH_QUERY:updateSearchQuery(action.query);ContentStore.emitChange();break;case _FolderConstants2.default.ADD:case _FolderConstants2.default.RECEIVE_FILES:case _FolderConstants2.default.RECEIVE_SUBFOLDERS:case _FolderConstants2.default.UPDATE:ContentStore.emitChange();break;case _FileConstants2.default.ADD:case _FileConstants2.default.ADD_ALL:case _FileConstants2.default.DELETE:case _FileConstants2.default.MOVE:case _FileConstants2.default.UPDATE:ContentStore.emitChange();break;case _UserConstants2.default.SET_LOGGED_IN_USER:case _UserConstants2.default.SET_PROFILE_USER:case _UserConstants2.default.UPDATE_USER:ContentStore.emitChange();break;}};_AppDispatcher2.default.register(actions);module.exports=ContentStore;},{"../constants/AppConstants":324,"../constants/CannedFolders":325,"../constants/DefaultValues":326,"../constants/DisplayModes":327,"../constants/FileConstants":328,"../constants/FolderConstants":329,"../constants/UserConstants":332,"../dispatcher/AppDispatcher":334,"../utils/apiUtils":349,"../utils/appUtils":350,"./BaseStore":336,"./DirectoryStore":338,"./FileStore":340,"./UserStore":344,"immutable":58,"object-assign":60}],338:[function(require,module,exports){'use strict';var _AppConstants=require('../constants/AppConstants');var _DefaultValues=require('../constants/DefaultValues');var _AppDispatcher=require('../dispatcher/AppDispatcher');var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _BaseStore=require('./BaseStore');var _BaseStore2=_interopRequireDefault(_BaseStore);var _CannedFolders=require('../constants/CannedFolders');var _CannedFolders2=_interopRequireDefault(_CannedFolders);var _FileConstants=require('../constants/FileConstants');var _FileConstants2=_interopRequireDefault(_FileConstants);var _FolderConstants=require('../constants/FolderConstants');var _FolderConstants2=_interopRequireDefault(_FolderConstants);var _immutable=require('immutable');var _immutable2=_interopRequireDefault(_immutable);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var _directoryStore=_immutable2.default.Map();(function initialize(){_directoryStore=_directoryStore.set(_DefaultValues.ROOTFID,newEntry({fid:_DefaultValues.ROOTFID,isFolder:true}));_CannedFolders2.default.forEach(function(f){return insertEntry(null,{fid:f.fid,isFolder:f.filetype==='fold'});});insertEntry(null,{fid:_DefaultValues.FEEDFID,isFolder:true});insertEntry(null,{fid:_DefaultValues.SEARCHFID,isFolder:true});})();function isOrderedSet(value){return _immutable2.default.OrderedSet.isOrderedSet(value);}
function isEntryFolder(entry){return isOrderedSet(entry.get('subFolders'));}
function setStoreEntry(fid,entry){if(typeof fid!=='string'||!fid.length){throw new Error('Cannot set an entry in the store with a non-string fid');}
if(!_immutable2.default.Map.isMap(entry)){throw new Error('Cannot set a non-immutable entry as an entry in the DirectoryStore');}
_directoryStore=_directoryStore.set(fid,entry);if(fid===_DefaultValues.ROOTFID)return;var root=_directoryStore.get(_DefaultValues.ROOTFID);var orphanFid=root.get('files').merge(root.get('subFolders')).find(function(orphan){return _directoryStore.get(orphan).get('parentFid')===fid;});if(orphanFid)moveEntry(_DefaultValues.ROOTFID,orphanFid,fid);}
function newEntry(child){return _immutable2.default.fromJS({subFolders:child.isFolder?_immutable2.default.OrderedSet():null,files:child.isFolder?_immutable2.default.OrderedSet():null,count:null,currentPage:null,parentFid:'',folderFid:'',nextPage:null,previousPage:null});}
function updateEntry(parentFid,update,overwriteCache){if(typeof overwriteCache!=='boolean'){throw new Error('overwriteCache must be true or false');}
var parentEntry=_directoryStore.get(parentFid);var folderFid=parentFid;if(!parentEntry){parentEntry=_directoryStore.get(_DefaultValues.ROOTFID);folderFid=_DefaultValues.ROOTFID;}
['subFolders','files'].forEach(function(fileSetName){var childUpdate=update[fileSetName];if(!childUpdate)return;if(!Array.isArray(childUpdate)&&!isOrderedSet(childUpdate)){update[fileSetName]=childUpdate=[childUpdate];}
if(!isEntryFolder(parentEntry)){throw new Error('Adding files or subFolders onto a non-folder is not permitted');}
var fidSet=_immutable2.default.OrderedSet(childUpdate.map(function(c){return c.fid;}));if(overwriteCache){parentEntry=parentEntry.set(fileSetName,fidSet);}else{var mergedSet=parentEntry.get(fileSetName).merge(fidSet);parentEntry=parentEntry.set(fileSetName,mergedSet);}});_immutable2.default.Set(update.subFolders).merge(_immutable2.default.Set(update.files)).forEach(function(child){var childEntry=_directoryStore.get(child.fid,newEntry(child));childEntry=childEntry.merge({parentFid:parentFid,folderFid:folderFid});setStoreEntry(child.fid,childEntry);});delete update.subFolders;delete update.files;parentEntry=parentEntry.mergeWith(function(oldVal,newVal,key){switch(key){case'count':case'currentPage':if(typeof newVal==='number'||newVal===null){return newVal;}else{return oldVal;}
break;default:return newVal;}},update);setStoreEntry(folderFid,parentEntry);}
function insertEntry(parentFid,child){var parentEntry=_directoryStore.get(parentFid);if(!parentEntry){parentEntry=_directoryStore.get(_DefaultValues.ROOTFID);}
if(!isEntryFolder(parentEntry)){throw new Error('Adding files onto a non-folder is not permitted');}
var files=parentEntry.get('files');var count=parentEntry.get('count',null);if(!files.has(child.fid)){if(count===null)count=0;count+=1;}
var update={count:count,files:child};if(child.isFolder){update.subFolders=child;}
updateEntry(parentFid,update,!_AppConstants.OVERWRITE_CACHE);}
function removeEntryFromParent(parentFid,fileFid){var parentEntry=_directoryStore.get(parentFid);if(!parentEntry){parentEntry=_directoryStore.get(_DefaultValues.ROOTFID);parentFid=_DefaultValues.ROOTFID;}
var subFolders=parentEntry.get('subFolders');var files=parentEntry.get('files');var count=parentEntry.get('count',null);if(files.has(fileFid)){if(count===null)count=0;count-=1;}
parentEntry=parentEntry.set('subFolders',subFolders.filterNot(function(f){return f===fileFid;}));parentEntry=parentEntry.set('files',files.filterNot(function(f){return f===fileFid;}));setStoreEntry(parentFid,parentEntry);updateEntry(parentFid,{count:count},!_AppConstants.OVERWRITE_CACHE);}
function moveEntry(parentFid,fileFid,targetFid){var parentEntry=_directoryStore.get(parentFid);if(!parentEntry){throw new Error('Cannot move file from non existent parent folder');}
var entry=_directoryStore.get(fileFid);if(!entry){throw new Error('Cannot move a file that does not exist');}
var targetEntry=_directoryStore.get(targetFid);if(!targetEntry){throw new Error('Cannot move a file into a folder that does not exist');}
removeEntryFromParent(parentFid,fileFid);insertEntry(targetFid,{fid:fileFid,isFolder:isEntryFolder(entry)});}
function deleteEntry(parentFid,fileFid){removeEntryFromParent(parentFid,fileFid);removeEntryFromParent('recent',fileFid);removeEntryFromParent('favorite',fileFid);_directoryStore=_directoryStore.delete(fileFid);}
var DirectoryStore=_BaseStore2.default.extend({hasEntry:function hasEntry(fid){return _directoryStore.has(fid);},getEntry:function getEntry(fid){var entry=_directoryStore.get(fid,null);return entry?entry.toJS():entry;},getSubFolders:function getSubFolders(parentFid){return DirectoryStore.getEntry(parentFid).subFolders;},getSubFiles:function getSubFiles(parentFid){return DirectoryStore.getEntry(parentFid).files;},getChildren:function getChildren(parentFid){var entry=DirectoryStore.getEntry(parentFid);return entry.subFolders.union(entry.files);},getPathFids:function getPathFids(fid){var pathfids=[];var entry=DirectoryStore.getEntry(fid);if(!entry){throw new Error('file '+fid+' is not in the Directory');}
pathfids.unshift(fid);var folderFid=entry.folderFid;while(folderFid!==_DefaultValues.ROOTFID){pathfids.unshift(folderFid);entry=DirectoryStore.getEntry(folderFid);folderFid=entry.folderFid;}
return pathfids;}});DirectoryStore.dispatchToken=_AppDispatcher2.default.register(function(action){switch(action.event){case _FolderConstants2.default.RECEIVE_FILES:if(!DirectoryStore.hasEntry(action.parentFid)){throw new Error('Cannot receive files into non existent entry');}
updateEntry(action.parentFid,{files:action.files.map(function(f){return{fid:f.fid,isFolder:f.filetype==='fold'};}),count:action.folderCount,currentPage:action.page,nextPage:action.nextPage,previousPage:action.previousPage},action.overwriteCache);DirectoryStore.emitChange();break;case _FolderConstants2.default.RECEIVE_SUBFOLDERS:if(!DirectoryStore.hasEntry(action.parentFid)){throw new Error('Cannot receive subFolders into non existent entry');}
updateEntry(action.parentFid,{subFolders:action.folders.map(function(f){return{fid:f.fid,isFolder:true};})},action.overwriteCache);DirectoryStore.emitChange();break;case _FolderConstants2.default.ADD:insertEntry(action.parentFid,{fid:action.folder.fid,isFolder:true});DirectoryStore.emitChange();break;case _FileConstants2.default.MOVE:moveEntry(action.parentFid,action.fileFid,action.targetFid);DirectoryStore.emitChange();break;case _FileConstants2.default.ADD:insertEntry(action.parentFid,{fid:action.file.fid,isFolder:false});DirectoryStore.emitChange();break;case _FileConstants2.default.DELETE:deleteEntry(action.parentFid,action.fid);DirectoryStore.emitChange();break;}});module.exports=DirectoryStore;},{"../constants/AppConstants":324,"../constants/CannedFolders":325,"../constants/DefaultValues":326,"../constants/FileConstants":328,"../constants/FolderConstants":329,"../dispatcher/AppDispatcher":334,"./BaseStore":336,"immutable":58}],339:[function(require,module,exports){"use strict";var _AppConstants=require("../constants/AppConstants");var _AppConstants2=_interopRequireDefault(_AppConstants);var _AppDispatcher=require("../dispatcher/AppDispatcher");var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _BaseStore=require("./BaseStore");var _BaseStore2=_interopRequireDefault(_BaseStore);var _immutable=require("immutable");var _immutable2=_interopRequireDefault(_immutable);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var _environmentStore=_immutable2.default.Map();function updateSettings(){var settings=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_environmentStore=_environmentStore.merge(settings);}
function setSetting(key,value){_environmentStore=_environmentStore.set(key,value);}
var EnvironmentStore=_BaseStore2.default.extend({get:function get(key,notSetValue){return _environmentStore.get(key,notSetValue);},getAll:function getAll(){return _environmentStore;}});EnvironmentStore.dispatchToken=_AppDispatcher2.default.register(function(action){switch(action.event){case _AppConstants2.default.MERGE_ENVIRONMENT:updateSettings(action.environment);EnvironmentStore.emitChange();break;case _AppConstants2.default.SET_ENVIRONMENT:setSetting(action.key,action.value);EnvironmentStore.emitChange();break;}});module.exports=EnvironmentStore;},{"../constants/AppConstants":324,"../dispatcher/AppDispatcher":334,"./BaseStore":336,"immutable":58}],340:[function(require,module,exports){'use strict';var _objectAssign=require('object-assign');var _objectAssign2=_interopRequireDefault(_objectAssign);var _AppDispatcher=require('../dispatcher/AppDispatcher');var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _BaseStore=require('./BaseStore');var _BaseStore2=_interopRequireDefault(_BaseStore);var _FileConstants=require('../constants/FileConstants');var _FileConstants2=_interopRequireDefault(_FileConstants);var _DefaultValues=require('../constants/DefaultValues');var _DefaultValues2=_interopRequireDefault(_DefaultValues);var _FolderConstants=require('../constants/FolderConstants');var _FolderConstants2=_interopRequireDefault(_FolderConstants);var _CannedFolders=require('../constants/CannedFolders');var _CannedFolders2=_interopRequireDefault(_CannedFolders);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var _fileStore={};(function initialize(){_CannedFolders2.default.forEach(function(f){return getAndOrUpdate(f.fid,patchFolder(f));});})();function patchFolder(folder){if(folder.fid in _fileStore)return _fileStore[folder.fid];return(0,_objectAssign2.default)({},folder,{subFolders:[],files:[],sort:{key:_DefaultValues2.default.FOLDER_API.SORT_KEY,direction:_DefaultValues2.default.FOLDER_API.SORT_DIR},isSelected:false,isOpen:false,collaborators:[]});}
function patchFile(file){return(0,_objectAssign2.default)({},file,{isSelected:false,collaborators:[]});}
function getAndOrUpdate(fid,update){var fileUpdate=update||{};var currentFile=_fileStore[fid]?_fileStore[fid]:{};var updatedFile=(0,_objectAssign2.default)({},currentFile,fileUpdate);if(currentFile.filetype==='fold'){updatedFile.sort=(0,_objectAssign2.default)({},currentFile.sort||{},fileUpdate.sort||{});}
_fileStore[fid]=updatedFile;return(0,_objectAssign2.default)({},updatedFile);}
function deleteFile(fileFid){delete _fileStore[fileFid];}
function addCollaborators(fid,collaborators){var updatedFile=FileStore.getFile(fid);collaborators.forEach(function(username){updatedFile.collaborators.push({username:username});});getAndOrUpdate(fid,updatedFile);}
function removeCollaborators(fid,collaborators){var updatedFile=FileStore.getFile(fid);var newCollabs=updatedFile.collaborators.filter(function(el){return el.username!==collaborators[0];});updatedFile.collaborators=newCollabs;getAndOrUpdate(fid,updatedFile);}
var FileStore=_BaseStore2.default.extend({getFile:function getFile(fid){if(_fileStore[fid]){return(0,_objectAssign2.default)({},_fileStore[fid]);}else return null;},hasFile:function hasFile(fid){return!!_fileStore[fid];},getFolder:function getFolder(fid){var folder=FileStore.getFile(fid);if(folder&&folder.filetype!=='fold'){throw new Error(fid+' is not a folder: '+folder.filetype);}else return folder;}});FileStore.dispatchToken=_AppDispatcher2.default.register(function(action){switch(action.event){case _FileConstants2.default.ADD:getAndOrUpdate(action.file.fid,patchFile(action.file));FileStore.emitChange();break;case _FileConstants2.default.ADD_ALL:action.files.forEach(function(file){getAndOrUpdate(file.fid,patchFile(file));});break;case _FileConstants2.default.DELETE:deleteFile(action.fid);FileStore.emitChange();break;case _FileConstants2.default.UPDATE:if(!FileStore.hasFile(action.fid)){throw new Error('Cant update a file that doesnt exist: '+action.fid);}
getAndOrUpdate(action.fid,action.update);FileStore.emitChange();break;case _FileConstants2.default.MOVE:FileStore.emitChange();break;case _FileConstants2.default.UPDATE_COLLABORATORS:if(action.addedCollabs)addCollaborators(action.fid,action.addedCollabs);else if(action.removedCollabs)removeCollaborators(action.fid,action.removedCollabs);FileStore.emitChange();break;case _FolderConstants2.default.RECEIVE_FILES:action.files.forEach(function(f){f=f.filetype==='fold'?patchFolder(f):patchFile(f);getAndOrUpdate(f.fid,f);});FileStore.emitChange();break;case _FolderConstants2.default.RECEIVE_SUBFOLDERS:action.folders.forEach(function(f){return getAndOrUpdate(f.fid,patchFolder(f));});FileStore.emitChange();break;case _FolderConstants2.default.ADD:getAndOrUpdate(action.folder.fid,patchFolder(action.folder));FileStore.emitChange();break;case _FolderConstants2.default.UPDATE:getAndOrUpdate(action.fid,action.update);FileStore.emitChange();break;}});module.exports=FileStore;},{"../constants/CannedFolders":325,"../constants/DefaultValues":326,"../constants/FileConstants":328,"../constants/FolderConstants":329,"../dispatcher/AppDispatcher":334,"./BaseStore":336,"object-assign":60}],341:[function(require,module,exports){'use strict';var _apiUtils=require('../utils/apiUtils');var _dateUtils=require('../utils/dateUtils');var _AppDispatcher=require('../dispatcher/AppDispatcher');var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _BaseStore=require('./BaseStore');var _BaseStore2=_interopRequireDefault(_BaseStore);var _PopConstants=require('../constants/PopConstants');var _PopConstants2=_interopRequireDefault(_PopConstants);var _FileConstants=require('../constants/FileConstants');var _FileConstants2=_interopRequireDefault(_FileConstants);var _FileStore=require('../stores/FileStore');var _FileStore2=_interopRequireDefault(_FileStore);var _objectAssign=require('object-assign');var _objectAssign2=_interopRequireDefault(_objectAssign);var _DefaultValues=require('../constants/DefaultValues');var _DefaultValues2=_interopRequireDefault(_DefaultValues);var _hat=require('hat');var _hat2=_interopRequireDefault(_hat);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var _popStore={modal:{type:'',isClosing:false,data:{}},modalTimestampsByType:{},dialogues:[]};function addDialogue(dialogue){var duplicateDialogues=_popStore.dialogues.filter(function(activeDialogue){return activeDialogue.text===dialogue.text;});if(!duplicateDialogues.length){_popStore.dialogues.push((0,_objectAssign2.default)({},{text:'',duration:0,isError:false,id:(0,_hat2.default)()},dialogue));}}
function removeDialogue(dialogueID){var removeIndex=_popStore.dialogues.map(function(d){return d.id;}).indexOf(dialogueID);_popStore.dialogues.splice(removeIndex,1);}
function updateModal(modal){if(modal.type){_popStore.modalTimestampsByType[modal.type]=(0,_dateUtils.now)();}
_popStore.modal=(0,_objectAssign2.default)({},_popStore.modal,modal);}
var PopStore=_BaseStore2.default.extend({getModal:function getModal(){return(0,_objectAssign2.default)({},_popStore.modal);},getModalType:function getModalType(){return _popStore.modal.type;},getDialogues:function getDialogues(){return _popStore.dialogues.slice();},getLastSeen:function getLastSeen(modalType){var lastSeen=_popStore.modalTimestampsByType[modalType];return lastSeen||null;}});PopStore.dispatchToken=_AppDispatcher2.default.register(function(action){var file;_AppDispatcher2.default.waitFor([_FileStore2.default.dispatchToken]);switch(action.event){case _PopConstants2.default.SHOW_MODAL:file=_FileStore2.default.getFile(action.fid);file.activeTabIndex=action.activeTabIndex;updateModal({type:action.type,data:file});PopStore.emitChange();break;case _PopConstants2.default.SHOW_MOVE_MODAL:updateModal({type:action.type,data:{fid:action.fid}});PopStore.emitChange();break;case _FileConstants2.default.UPDATE:case _FileConstants2.default.UPDATE_COLLABORATORS:var currentModal=PopStore.getModal();if(currentModal.type!==_PopConstants2.default.MODAL_TYPES.SHARE_FILE){return;}
file=_FileStore2.default.getFile(currentModal.data.fid);updateModal({type:currentModal.type,data:file});PopStore.emitChange();break;case _PopConstants2.default.SHOW_DELETE_MODAL:updateModal({type:action.type,data:{fids:action.fids,isPermanent:action.isPermanent}});PopStore.emitChange();break;case _PopConstants2.default.SHOW_SUBSCRIPTION_MODAL:updateModal({type:action.type,data:{initialBillingFrequency:action.initialBillingFrequency,plan:action.plan}});PopStore.emitChange();break;case _PopConstants2.default.SHOW_CANCEL_SUBSCRIPTION_MODAL:updateModal({type:action.type,data:{subscriptionId:action.subscriptionId}});PopStore.emitChange();break;case _PopConstants2.default.SHOW_REACTIVATE_SUBSCRIPTION_MODAL:updateModal({type:action.type,data:action.plan});PopStore.emitChange();break;case _PopConstants2.default.SHOW_THROTTLE_NOTICE:updateModal({type:action.type,data:{}});PopStore.emitChange();break;case _PopConstants2.default.SHOW_DASHBOARDLY_MODAL:updateModal({type:action.type,data:{fids:action.fids,username:action.username}});PopStore.emitChange();break;case _PopConstants2.default.SHOW_AUTHENTICATION_MODAL:var type=action.type;var tab=action.tab;var userInfo=action.userInfo;updateModal({type:type,data:{tab:tab,userInfo:userInfo}});PopStore.emitChange();break;case _PopConstants2.default.CLOSE_MODAL:updateModal({type:'',data:{},isClosing:false});PopStore.emitChange();break;case _PopConstants2.default.TOGGLE_MODAL_CLOSE_CONFIRMATION:updateModal({isClosing:action.isClosing});PopStore.emitChange();break;case _PopConstants2.default.SHOW_DIALOGUE:addDialogue({text:action.text,duration:typeof action.duration==='number'?action.duration:_DefaultValues2.default.DIALOGUE_DURATION,isError:!!action.isError||false,onInfoClick:action.onInfoClick,type:action.type});PopStore.emitChange();break;case _PopConstants2.default.CLOSE_DIALOGUE:removeDialogue(action.id);PopStore.emitChange();break;}});module.exports=PopStore;},{"../constants/DefaultValues":326,"../constants/FileConstants":328,"../constants/PopConstants":331,"../dispatcher/AppDispatcher":334,"../stores/FileStore":340,"../utils/apiUtils":349,"../utils/dateUtils":352,"./BaseStore":336,"hat":27,"object-assign":60}],342:[function(require,module,exports){"use strict";var _AppConstants=require("../constants/AppConstants");var _AppConstants2=_interopRequireDefault(_AppConstants);var _AppDispatcher=require("../dispatcher/AppDispatcher");var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _BaseStore=require("./BaseStore");var _BaseStore2=_interopRequireDefault(_BaseStore);var _assignDeep=require("assign-deep");var _assignDeep2=_interopRequireDefault(_assignDeep);var _immutable=require("immutable");var _immutable2=_interopRequireDefault(_immutable);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var _requestStore={requests:_immutable2.default.OrderedMap(),XHRs:{}};function updateRequest(requestID){var update=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var xhr=arguments.length<=2||arguments[2]===undefined?null:arguments[2];if(!requestID)throw new Error("Missing requestID");var entry={};entry[requestID]=update;_requestStore.requests=_requestStore.requests.mergeDeep(entry);if(xhr){_requestStore.XHRs[requestID]=xhr;}}
var RequestStore=_BaseStore2.default.extend({getAll:function getAll(){return _requestStore.requests;},get:function get(requestID,notSetValue){if(typeof notSetValue==="undefined"){notSetValue=_immutable2.default.Map();}
return _requestStore.requests.get(requestID,notSetValue);}});RequestStore.dispatchToken=_AppDispatcher2.default.register(function(action){switch(action.event){case _AppConstants2.default.UPDATE_REQUEST:updateRequest(action.requestID,action.update,action.xhr);RequestStore.emitChange();break;}});module.exports=RequestStore;},{"../constants/AppConstants":324,"../dispatcher/AppDispatcher":334,"./BaseStore":336,"assign-deep":18,"immutable":58}],343:[function(require,module,exports){'use strict';var _PlanConstants=require('../constants/PlanConstants');var _AppDispatcher=require('../dispatcher/AppDispatcher');var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _BaseStore=require('./BaseStore');var _BaseStore2=_interopRequireDefault(_BaseStore);var _immutable=require('immutable');var _immutable2=_interopRequireDefault(_immutable);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var _subscriptionStore={currentSubscription:_immutable2.default.Map()};function updateCurrentSubscription(subscription){var currentSubscription=_subscriptionStore.currentSubscription;var updatedSubscription=currentSubscription.mergeDeep(_immutable2.default.Map(subscription));_subscriptionStore.currentSubscription=updatedSubscription;}
var SubscriptionStore=_BaseStore2.default.extend({getSubscription:function getSubscription(){return _subscriptionStore.currentSubscription;},hasSubscription:function hasSubscription(){return!_subscriptionStore.currentSubscription.isEmpty();}});SubscriptionStore.dispatchToken=_AppDispatcher2.default.register(function(action){switch(action.event){case _PlanConstants.EVENTS.UPDATE_SUBSCRIPTION:var subscription=action.subscription;updateCurrentSubscription(subscription);SubscriptionStore.emitChange();break;}});module.exports=SubscriptionStore;},{"../constants/PlanConstants":330,"../dispatcher/AppDispatcher":334,"./BaseStore":336,"immutable":58}],344:[function(require,module,exports){'use strict';var _AppDispatcher=require('../dispatcher/AppDispatcher');var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _BaseStore=require('./BaseStore');var _BaseStore2=_interopRequireDefault(_BaseStore);var _immutable=require('immutable');var _immutable2=_interopRequireDefault(_immutable);var _UserConstants=require('../constants/UserConstants');var _UserConstants2=_interopRequireDefault(_UserConstants);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var _userStore={isAuthenticated:null,loggedInUser:null,profileUser:null,users:_immutable2.default.Map(),previousCollaborators:[],plans:_immutable2.default.Map()};function setLoggedInUser(username,isAuthenticated){_userStore.loggedInUser=username;_userStore.isAuthenticated=isAuthenticated;}
function setProfileUser(username){if(!_userStore.users.has(username)){throw new Error('Cannot set profile user to: '+username+". "+"User doesn't exist in the UserStore.");}else _userStore.profileUser=username;}
function addUser(username,user){var immutableUser=_immutable2.default.fromJS(user);_userStore.users=_userStore.users.set(username,immutableUser);}
function updateUser(username,update){if(!(username in _userStore.users))addUser(username,update);}
function updateCollaborators(collaboratorList){_userStore.previousCollaborators=collaboratorList;return collaboratorList.slice();}
var UserStore=_BaseStore2.default.extend({isAuthenticated:function isAuthenticated(){return _userStore.isAuthenticated;},isOwnProfile:function isOwnProfile(){var currentUser=UserStore.getLoggedInUsername();var profileOwner=_userStore.profileUser;if(currentUser===profileOwner)return true;else return false;},getLoggedInUsername:function getLoggedInUsername(){return _userStore.loggedInUser;},getLoggedInUser:function getLoggedInUser(){return UserStore.getUser(UserStore.getLoggedInUsername());},getProfileUser:function getProfileUser(){var profileUser=_userStore.profileUser;if(profileUser===null){return null;}else return UserStore.getUser(profileUser);},getProfileUsername:function getProfileUsername(){return _userStore.profileUser;},getUser:function getUser(username){return _userStore.users.get(username,_immutable2.default.Map());},getCollaboratorList:function getCollaboratorList(){return _userStore.previousCollaborators.slice();},getPlans:function getPlans(){return _userStore.plans.toJS();}});UserStore.dispatchToken=_AppDispatcher2.default.register(function(action){switch(action.event){case _UserConstants2.default.SET_LOGGED_IN_USER:setLoggedInUser(action.username,action.isAuthenticated);UserStore.emitChange();break;case _UserConstants2.default.SET_PROFILE_USER:setProfileUser(action.username);UserStore.emitChange();break;case _UserConstants2.default.GET_COLLABORATORS:updateCollaborators(action.collaboratorList);UserStore.emitChange();break;case _UserConstants2.default.UPDATE_USER:updateUser(action.user.username,action.user);UserStore.emitChange();break;case _UserConstants2.default.INITIALIZE_PLANS:_userStore.plans=_immutable2.default.fromJS(action.plans);UserStore.emitChange();break;}});module.exports=UserStore;},{"../constants/UserConstants":332,"../dispatcher/AppDispatcher":334,"./BaseStore":336,"immutable":58}],345:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatCardError=formatCardError;exports.formatCVCError=formatCVCError;exports.formatExpDateError=formatExpDateError;var _i18n=require("../i18n");var PARAMS={CARD_NUMBER:"number",CVC:"cvc",EXP_YEAR:"exp_year",EXP_MONTH:"exp_month"};function formatCardError(stripeError){if(stripeError.param!==PARAMS.CARD_NUMBER){return null;}else{return stripeError.message;}}
function formatCVCError(stripeError){if(stripeError.param!==PARAMS.CVC){return null;}else{return stripeError.message;}}
function formatExpDateError(stripeError){var isExpMonthError=stripeError.param===PARAMS.EXP_MONTH;var isExpYearError=stripeError.param===PARAMS.EXP_YEAR;if(!isExpMonthError&&!isExpYearError){return null;}else{return stripeError.message;}}},{"../i18n":335}],346:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.privacyTooltipMessage=privacyTooltipMessage;exports.privacyMessage=privacyMessage;exports.commentTogglerMessage=commentTogglerMessage;exports.loadingMessage=loadingMessage;var _i18n=require('../i18n');var _AppConstants=require('../constants/AppConstants');var _AppConstants2=_interopRequireDefault(_AppConstants);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function privacyTooltipMessage(type,worldReadable){var fileType=_AppConstants2.default.READABLE_TYPES[type];fileType=fileType.charAt(0).toLowerCase()+fileType.slice(1);if(worldReadable){return[(0,_i18n._)('This {0} is Public; it is accessible \n to everyone.',fileType),(0,_i18n._)('Make this {0} Private.',fileType)].join(' ');}else{return[(0,_i18n._)('This {0} is Private; only you and \n your ',fileType),(0,_i18n._)('collaborators can view this. \n Make this {0} Public',fileType)].join(' ');}}
function privacyMessage(type,worldReadable,shareKeyEnabled){var fileType=_AppConstants2.default.READABLE_TYPES[type];fileType=fileType.charAt(0).toLowerCase()+fileType.slice(1);if(worldReadable){return(0,_i18n._)('This {0} is public.',fileType);}else if(!worldReadable&&shareKeyEnabled){return(0,_i18n._)('This {0} is private. Anyone with this secret link can view, collaborators can edit. It will not appear in the feed, your profile, or search engines.',fileType);}else if(!worldReadable&&!shareKeyEnabled){return(0,_i18n._)('This {0} is private. Only you and collaborators that you add can view and edit this {0}. It will not appear in the feed, your profile, or search engines. Enable private sharing to share this {0} with a secret link.',fileType);}}
function commentTogglerMessage(commentList,isActive){var commentCount=commentList?commentList.length:0;if(commentCount===0&&!isActive){return(0,_i18n._)('Make a comment');}else if(commentCount===0&&isActive){return(0,_i18n._)('Hide comments');}else{var comments=commentCount>1?' comments':' comment';var viewHide=isActive?'Hide':'View';return viewHide+' '+commentCount+comments;}}
function loadingMessage(type){var messages={'move':(0,_i18n._)('MOVING...'),'delete':(0,_i18n._)('DELETING...')};return messages[type];}},{"../constants/AppConstants":324,"../i18n":335}],347:[function(require,module,exports){'use strict';'use-strict';var _AppConstants=require('../constants/AppConstants');var _AppDispatcher=require('../dispatcher/AppDispatcher');var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _objectAssign=require('object-assign');var _objectAssign2=_interopRequireDefault(_objectAssign);var _FileConstants=require('../constants/FileConstants');var _FileConstants2=_interopRequireDefault(_FileConstants);var _FolderConstants=require('../constants/FolderConstants');var _FolderConstants2=_interopRequireDefault(_FolderConstants);var _hat=require('hat');var _hat2=_interopRequireDefault(_hat);var _immutable=require('immutable');var _immutable2=_interopRequireDefault(_immutable);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var ALL_EVENTS=_immutable2.default.fromJS(_FileConstants2.default).valueSeq().concat(_immutable2.default.fromJS(_FolderConstants2.default).valueSeq());function SyncAction(action){(0,_objectAssign2.default)(this,action);}
function marshall(action){return JSON.stringify({id:(0,_hat2.default)(),action:action});}
function unMarshall(packetStr){var packet=JSON.parse(packetStr);return packet.action;}
var FileSyncer={dispatchToken:null,_localStorageHandler:function _localStorageHandler(event){if(!event)event=window.event;if(event.key!==_AppConstants.FILE_SYNC_KEY)return;var action=unMarshall(event.newValue);_AppDispatcher2.default.dispatch(new SyncAction(action));},sync:function sync(action){var packet=marshall(action);localStorage.setItem(_AppConstants.FILE_SYNC_KEY,packet);},start:function start(){window.addEventListener('storage',FileSyncer._localStorageHandler);FileSyncer.dispatchToken=_AppDispatcher2.default.register(function(action){if(action instanceof SyncAction)return;if(ALL_EVENTS.includes(action.event)){FileSyncer.sync(action);}});},stop:function stop(){window.removeEventListener('storage',FileSyncer._localStorageHandler);_AppDispatcher2.default.unregister(FileSyncer.dispatchToken);}};module.exports=FileSyncer;},{"../constants/AppConstants":324,"../constants/FileConstants":328,"../constants/FolderConstants":329,"../dispatcher/AppDispatcher":334,"hat":27,"immutable":58,"object-assign":60}],348:[function(require,module,exports){'use strict';module.exports=function errorParser(xhrError,apiError){var errorMessages=[];if(xhrError instanceof Error)errorMessages.push(xhrError.message);if(apiError){if(typeof apiError==='string'){apiError=JSON.parse(apiError);}
var errorKeys=Object.keys(apiError);for(var i=0;i<errorKeys.length;i++){var keyErrorMessage=apiError[errorKeys[i]];if(Array.isArray(keyErrorMessage)){errorMessages=errorMessages.concat(keyErrorMessage);}else errorMessages.push(keyErrorMessage);}}
return errorMessages.length?errorMessages:null;};},{}],349:[function(require,module,exports){'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};Object.defineProperty(exports,"__esModule",{value:true});exports.buildURI=buildURI;exports.buildApiUrl=buildApiUrl;exports.trackAnalytics=trackAnalytics;exports.getIdlocal=getIdlocal;exports.toQueryString=toQueryString;exports.tidyObject=tidyObject;exports.isPseudofid=isPseudofid;exports.toOwnedFID=toOwnedFID;exports.toUnownedFID=toUnownedFID;exports.getShareURL=getShareURL;exports.getWorkspaceURL=getWorkspaceURL;exports.getParentFid=getParentFid;exports.isNamedFid=isNamedFid;exports.mergeFolderParams=mergeFolderParams;exports.getShareKeyForFolderQuery=getShareKeyForFolderQuery;exports.formatFilters=formatFilters;exports.formatOrderBy=formatOrderBy;exports.parseApiUri=parseApiUri;exports.handleAPIFailure=handleAPIFailure;exports.getActiveShareKey=getActiveShareKey;exports.buildFeedRequest=buildFeedRequest;var _globalUtils=require('./globalUtils');var globalUtils=_interopRequireWildcard(_globalUtils);var _logging=require('./logging');var _requestUtils=require('./requestUtils');var _AppConstants=require('../constants/AppConstants');var _AppConstants2=_interopRequireDefault(_AppConstants);var _objectAssign=require('object-assign');var _objectAssign2=_interopRequireDefault(_objectAssign);var _CannedFolders=require('../constants/CannedFolders');var _CannedFolders2=_interopRequireDefault(_CannedFolders);var _DefaultValues=require('../constants/DefaultValues');var _DefaultValues2=_interopRequireDefault(_DefaultValues);var _EnvironmentStore=require('../stores/EnvironmentStore');var _EnvironmentStore2=_interopRequireDefault(_EnvironmentStore);var _apiErrorParser=require('./apiErrorParser');var _apiErrorParser2=_interopRequireDefault(_apiErrorParser);var _PopActions=require('../actions/PopActions');var _PopActions2=_interopRequireDefault(_PopActions);var _querystring=require('querystring');var _querystring2=_interopRequireDefault(_querystring);var _splitFID3=require('./splitFID');var _splitFID4=_interopRequireDefault(_splitFID3);var _url=require('url');var _url2=_interopRequireDefault(_url);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
var FOLDER_TO_ENDPOINT=_AppConstants2.default.FOLDER_TO_ENDPOINT;function buildURI(path){var params=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];if(!Array.isArray(path))path=[path];if(!path.length||!path[0]){throw new Error("Must specify endpoint!");}
var baseURL=_EnvironmentStore2.default.get('API_URL');var baseSpec=_url2.default.parse(baseURL);var fullPath=["v2"].concat(path);var pathname=fullPath.join("/");var tidyParams=tidyObject(params);return _url2.default.format({protocol:baseSpec.protocol,host:baseSpec.host,pathname:pathname,query:tidyParams});}
function buildApiUrl(resource){var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var validOptions=['id','params','route','version'];var defaultOptions={id:'',params:{},route:'',version:'v2'};var _defaultOptions$optio=_extends({},defaultOptions,options);var id=_defaultOptions$optio.id;var version=_defaultOptions$optio.version;var route=_defaultOptions$optio.route;var params=_defaultOptions$optio.params;if(!resource)throw new Error('No resource given.');Object.keys(options).forEach(function(option){if(validOptions.indexOf(option)===-1){throw new Error('Invalid option: '+option);}});var url=_EnvironmentStore2.default.get('API_URL');var queryString=toQueryString(params,{});if(id){if(route){url=url+'/'+version+'/'+resource+'/'+id+'/'+route;}else{url=url+'/'+version+'/'+resource+'/'+id;}}else{if(route){url=url+'/'+version+'/'+resource+'/'+route;}else{url=url+'/'+version+'/'+resource;}}
if(queryString){url=url+'?'+queryString;}
return url;}
function trackAnalytics(event,data){window.analytics.track(event,data);}
function getIdlocal(fid){var _splitFID=(0,_splitFID4.default)(fid);var owner=_splitFID.owner;var idlocal=_splitFID.idlocal;if(idlocal==='home'){return-1;}else return idlocal;}
function toQueryString(params){var opts=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var tidyParams=opts.keepEmpty===true?params:tidyObject(params);return _querystring2.default.stringify(tidyParams);}
function tidyObject(params){var allowEmptyStrings=arguments.length<=1||arguments[1]===undefined?true:arguments[1];var clone=(0,_objectAssign2.default)({},params);for(var p in clone){if(clone[p]===null||clone[p]===undefined){delete clone[p];}else if(!allowEmptyStrings&&clone[p]===""){delete clone[p];}}
return clone;}
function isPseudofid(fid){return _CannedFolders2.default.map(function(f){return f.fid;}).indexOf(fid)>=0;}
function toOwnedFID(fid,owner){if(fid.indexOf(':')>=0){return fid;}else{if(owner){return owner+":"+fid;}else throw new Error('Missing owner for owned FID');}}
function toUnownedFID(fid){if(fid.indexOf(':')<0){if(isPseudofid(fid)){return fid;}else throw new Error("Can't format fid: "+fid);}else{var _splitFID2=(0,_splitFID4.default)(fid);var username=_splitFID2.username;var idlocal=_splitFID2.idlocal;if(isPseudofid(idlocal)){return idlocal;}else return fid;}}
function getShareURL(fid,opts){var opts=opts||{};var base=opts.base||'';var url='';var parts=(0,_splitFID4.default)(fid);url=base+'/~'+parts.username+'/'+parts.idlocal;if(opts.includeShareKey){var shareKey=getShareKeyForFolderQuery(fid);if(shareKey)url=url+"?share_key="+shareKey;}
return url;}
function getWorkspaceURL(fid,opts){if(_EnvironmentStore2.default.get('ALPHA',null)){return getAlphaWorkspaceUrl(fid,opts);}
opts=opts||{};var url=opts.base||'';var shareKey=getActiveShareKey();if(typeof fid==='string'){var parts=(0,_splitFID4.default)(fid);url+='/'+parts.idlocal+'/~'+parts.username;if(opts.includeShareKey&&shareKey){url=url+'?share_key='+shareKey;}}
else if(Array.isArray(fid)){var fids=fid.map(function(fid){return'fid='+fid;});url+='/plot?'+fids.join('&');if(opts.includeShareKey&&shareKey){url=url+'&share_key='+shareKey;}}
return url;}
function getAlphaWorkspaceUrl(fid,opts){opts=opts||{};var url=opts.base||'';var shareKey=getActiveShareKey();if(typeof fid==='string'){url+='/alpha/workspace/'+fid;if(opts.includeShareKey&&shareKey){url=url+'?share_key='+shareKey;}}
else if(Array.isArray(fid)){var fids=fid.map(function(fid){return'fid='+fid;});url+='/alpha/workspace/?'+fids.join('&');if(opts.includeShareKey&&shareKey){url=url+'&share_key='+shareKey;}}
return url;}
function getParentFid(file){if(file.parent===-1){return'home';}else if(typeof file.parent!=='number'||typeof file.owner!=='string'){return'';}else{return file.owner+':'+file.parent;}}
function isNamedFid(fid){return typeof FOLDER_TO_ENDPOINT[fid]!=="undefined";}
function mergeFolderParams(fid,params){var params=params||{};var defaultOrder=formatOrderBy(fid,_DefaultValues2.default.FOLDER_API.SORT_KEY,_DefaultValues2.default.FOLDER_API.SORT_DIR);var mergedParams=(0,_objectAssign2.default)({},{filetype:_DefaultValues2.default.FOLDER_API.FILETYPES.slice(),page_size:_DefaultValues2.default.PAGE_SIZE_LG,order_by:defaultOrder},params,{share_key:getShareKeyForFolderQuery(fid)});if(fid==='recent'){var recentOrderBy=formatOrderBy(fid,'date_modified',_AppConstants2.default.SORT_DIRECTIONS.DESC);mergedParams=(0,_objectAssign2.default)(mergedParams,{order_by:recentOrderBy});}
return mergedParams;}
function getShareKeyForFolderQuery(folderFID){if(isPseudofid(folderFID)){return null;}
else return getActiveShareKey();}
function formatFilters(filters){var filetypes=[];var showPublic=null;var showPrivate=null;for(var i=0;i<filters.length;i++){var filter=filters[i];if(filter.field==='filetype'&&filter.isActive===true){filetypes.push(filter.key);}else if(filter.field==='world_readable'){if(filter.key==='private')showPrivate=filter.isActive;else if(filter.key==='public')showPublic=filter.isActive;}}
var worldReadable=null;if(showPublic&&!showPrivate)worldReadable=true;else if(!showPublic&&showPrivate)worldReadable=false;return{filetype:filetypes,worldReadable:worldReadable};}
function formatOrderBy(fid,sortKey,sortDirection){var orderKey;var orderDirection;if(fid==='recent'){orderKey='date_modified';orderDirection=_AppConstants2.default.SORT_DIRECTIONS.DESC;}else{orderKey=sortKey;orderDirection=sortDirection;}
var dir=orderDirection===_AppConstants2.default.SORT_DIRECTIONS.DESC?'-':'';return dir+orderKey;}
function parseApiUri(uri){var parser=document.createElement('a');parser.href=uri;var captures=/\/(\w+)\/(?:(\w+)\/)*/.exec(parser.pathname)||[];var versionOrEndpoint=captures[1];var version;var endpoint;if(versionOrEndpoint==='v2'){version='v2';endpoint=captures[2];}else{version='v1';endpoint=versionOrEndpoint;}
return{version:version,endpoint:endpoint,uri:uri};}
function handleAPIFailure(xhrError,response,apiError,xhrOpts){var xhrOpts=xhrOpts||{};var errorMessages=(0,_apiErrorParser2.default)(xhrError,apiError)||[];var apiInfo=parseApiUri(xhrOpts.uri);for(var i=0;i<errorMessages.length;i++){(0,_logging.logError)(new Error(errorMessages[i]),{'category':'js-api','status code':response.statusCode,'API version':apiInfo.version,'API endpoint':apiInfo.endpoint,'API uri':apiInfo.uri,'API method':xhrOpts.method});}
var errorStatus=(0,_requestUtils.getRequestStatus)(response.statusCode);if(errorStatus===_AppConstants.STATUS.THROTTLED){_PopActions2.default.showThrottleNotice();return null;}
else{return errorMessages;}}
function getActiveShareKey(){var searchString=globalUtils.getWindowSearch()||"";var searchQuery=_url2.default.parse(searchString,true).query;return searchQuery["share_key"]||null;}
function buildFeedRequest(displayMode,nextPage){var path;var params={};switch(displayMode){case _AppConstants2.default.FEED_DISPLAYS.recent.key:path=null;break;case _AppConstants2.default.FEED_DISPLAYS.handpicked.key:path="feed";break;case _AppConstants2.default.FEED_DISPLAYS.popular.key:path=null;params["order_by"]="-views";break;default:var validModes=Object.keys(_AppConstants2.default.FEED_DISPLAYS);throw new Error('Invalid display mode: '+displayMode+'. Must be one of '+validModes);}
var cursor=null;if(nextPage){var pageURI=_url2.default.parse(nextPage,true);params.cursor=pageURI.query.cursor;}
return{path:path,params:params};}},{"../actions/PopActions":273,"../constants/AppConstants":324,"../constants/CannedFolders":325,"../constants/DefaultValues":326,"../stores/EnvironmentStore":339,"./apiErrorParser":348,"./globalUtils":359,"./logging":362,"./requestUtils":365,"./splitFID":369,"object-assign":60,"querystring":12,"url":13}],350:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.getFeedDisplaysForEnv=getFeedDisplaysForEnv;exports.getDefaultFeedDisplay=getDefaultFeedDisplay;exports.toggleDirection=toggleDirection;exports.getLoadingId=getLoadingId;exports.getOrganizeURL=getOrganizeURL;exports.getFolderURL=getFolderURL;exports.getShareURL=getShareURL;exports.buildIframeSnippet=buildIframeSnippet;exports.getFeatureSets=getFeatureSets;exports.getFeatureSetByID=getFeatureSetByID;var _apiUtils=require('./apiUtils');var apiUtils=_interopRequireWildcard(_apiUtils);var _AppConstants=require('../constants/AppConstants');var _AppConstants2=_interopRequireDefault(_AppConstants);var _objectAssign=require('object-assign');var _objectAssign2=_interopRequireDefault(_objectAssign);var _assignDeep=require('assign-deep');var _assignDeep2=_interopRequireDefault(_assignDeep);var _DefaultValues=require('../constants/DefaultValues');var _DefaultValues2=_interopRequireDefault(_DefaultValues);var _getenv=require('./getenv');var _getenv2=_interopRequireDefault(_getenv);var _querystring=require('querystring');var _querystring2=_interopRequireDefault(_querystring);var _splitFID2=require('./splitFID');var _splitFID3=_interopRequireDefault(_splitFID2);var _url=require('url');var _url2=_interopRequireDefault(_url);var _UserStore=require('../stores/UserStore');var _UserStore2=_interopRequireDefault(_UserStore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function getFeedDisplaysForEnv(){var displays={};var ignoreCurated=(0,_getenv2.default)("SHOW_ALL_GRAPHS_ON_FEED",false);for(var key in _AppConstants2.default["FEED_DISPLAYS"]){var display=_AppConstants2.default["FEED_DISPLAYS"][key];if(!ignoreCurated||display.curated!==true){displays[key]=(0,_assignDeep2.default)(display);}}
return displays;}
function getDefaultFeedDisplay(){var ignoreCurated=(0,_getenv2.default)("SHOW_ALL_GRAPHS_ON_FEED",false);if(ignoreCurated){return _AppConstants2.default["FEED_DISPLAYS"].recent.key;}else return _AppConstants2.default["FEED_DISPLAYS"].handpicked.key;}
function toggleDirection(currentDirection){var DESC=_AppConstants2.default.SORT_DIRECTIONS.DESC;var ASC=_AppConstants2.default.SORT_DIRECTIONS.ASC;if(currentDirection===ASC){return DESC;}else if(currentDirection===DESC){return ASC;}else{throw new Error('Invalid sort direction: '+currentDirection);}}
function getLoadingId(type,fid){if(!fid)fid='';if(fid.length)return fid+':'+type;else return type;}
function getOrganizeURL(fid,base){var url=[_DefaultValues2.default.BASE_URL,fid].join('/');if(base){var trimmedBase=base.replace(/\/$/,'');url=trimmedBase+url;}
return url;}
function getFolderURL(fid,isProfileView,opts){var opts=(0,_objectAssign2.default)({includeShareKey:false,isAbsolute:false},opts||{});var url="";var base="";if(opts.isAbsolute){base=(0,_getenv2.default)('BASE_URL');}
if(isProfileView){var user=_UserStore2.default.getProfileUsername();url=[base,'~'+user,"folder",fid].join('/');}else{url=getOrganizeURL(fid,base);}
var shareKey=apiUtils.getActiveShareKey();if(opts.includeShareKey&&shareKey){url=url+"?"+_querystring2.default.stringify({"share_key":shareKey});}
return url;}
function getShareURL(fid,filetype,shareKey,isWorldReadable,webURL){var uri;if(filetype==="fold"){var base=(0,_getenv2.default)('BASE_URL');var _splitFID=(0,_splitFID3.default)(fid);var username=_splitFID.username;uri=[base,'~'+username,"folder",fid].join('/');}else{uri=webURL;}
if(!isWorldReadable&&shareKey){return uri+"?share_key="+shareKey;}else return uri;}
function buildIframeSnippet(embedURL){var opts=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];if(typeof embedURL!=="string"){throw new Error("Invalid embed URL for iframe snippet");}
var queryParams=apiUtils.tidyObject({"share_key":opts.shareKey});var embedComponents=_url2.default.parse(embedURL,true);embedComponents.query=(0,_assignDeep2.default)(embedComponents.query,queryParams);var iframeSrc=_url2.default.format(embedComponents);return'<iframe width="900" height="800" frameborder="0" scrolling="no" '+('src="'+iframeSrc+'"></iframe>');}
function getFeatureSets(){var featureSetsElement=document.getElementById('feature-sets');if(!featureSetsElement)return null;else return JSON.parse(featureSetsElement.textContent);}
function getFeatureSetByID(featureSetID){var featureSets=getFeatureSets();if(featureSetID==='full')featureSetID='on_premise';if(!featureSets)return null;else return featureSets[featureSetID];}},{"../constants/AppConstants":324,"../constants/DefaultValues":326,"../stores/UserStore":344,"./apiUtils":349,"./getenv":357,"./splitFID":369,"assign-deep":18,"object-assign":60,"querystring":12,"url":13}],351:[function(require,module,exports){'use strict';var _getSharingURL=require('./getSharingURL');var _getSharingURL2=_interopRequireDefault(_getSharingURL);var _urlUtils=require('./urlUtils');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var dashboardlyCreateURL='https://dashboards.ly/create';var plotsPerRow=3;function newPlotEntry(ploturl){return{'plot_url':ploturl};}
function getDashboardlyUrlData(username){return{rows:[],banner:{visible:true,backgroundcolor:'#3d4a57',textcolor:'white',title:username+'\'s dashboard',links:[]},username:username};}
module.exports=function dashboardlyEncoder(plotfids,username){var dashData=getDashboardlyUrlData(username);var ploturls=[];for(var i=0;i<plotfids.length;i++){var fid=plotfids[i];var ploturl=(0,_getSharingURL2.default)(fid);if(ploturl===null)ploturl=(0,_urlUtils.getPublicURL)(fid);if(ploturl===null)continue;ploturls.push(ploturl);}
for(var i=0;i<ploturls.length;i++){var ploturl=ploturls[i];var rowi=Math.floor(i/plotsPerRow);if(!dashData.rows[rowi])dashData.rows[rowi]=[];dashData.rows[rowi].push(newPlotEntry(ploturl));}
var encoded=encodeURIComponent(JSON.stringify(dashData));return dashboardlyCreateURL+'?initialstate='+encoded;};},{"./getSharingURL":356,"./urlUtils":373}],352:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.now=now;exports.isSameDay=isSameDay;function now(){return new Date();}
function isSameDay(someDate,anotherDate){if(!someDate||!anotherDate)return false;var isSameDay=someDate.getDate()==anotherDate.getDate();var isSameMonth=someDate.getMonth()==anotherDate.getMonth();var isSameYear=someDate.getFullYear()==anotherDate.getFullYear();return isSameDay&&isSameMonth&&isSameYear;}},{}],353:[function(require,module,exports){'use strict';var _apiUtils=require('./apiUtils');var _AppConstants=require('../constants/AppConstants');var _AppConstants2=_interopRequireDefault(_AppConstants);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var requestUtils=require('./requestUtils');var qs=require('querystring');var splitFID=require('./splitFID');function buildFilesApiUrl(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return(0,_apiUtils.buildApiUrl)('files',options);}
module.exports={retrieve:function retrieve(fid){var params=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var url=buildFilesApiUrl({id:fid,params:params});return requestUtils.request('GET',url);},partialUpdate:function partialUpdate(fid,data){var url=buildFilesApiUrl({id:fid});return requestUtils.request('PATCH',url,{data:data});},trash:function trash(fid){var url=buildFilesApiUrl({id:fid,route:'trash'});return requestUtils.request('POST',url);},restore:function restore(fid){var url=buildFilesApiUrl({id:fid,route:'restore'});return requestUtils.request('POST',url);},permanentDelete:function permanentDelete(fid){var url=buildFilesApiUrl({id:fid,route:'permanent_delete'});return requestUtils.request('DELETE',url);},getCollaborators:function getCollaborators(fid){var url=buildFilesApiUrl({id:fid,route:'collaborators'});return requestUtils.request('GET',url);},verifyUsers:function verifyUsers(usernames){var data=qs.stringify({users:usernames}).toString('utf8');return requestUtils.request('POST','/verifyusers/',{data:data,headers:{'Content-Type':_AppConstants2.default.API.V1.CONTENT_TYPE_HEADER}});},addCollaborators:function addCollaborators(fid,validUsernames){var data=qs.stringify({usrs_to_add:validUsernames,gid:fid}).toString('utf8');return requestUtils.request('POST','/addusers/',{data:data,headers:{'Content-Type':_AppConstants2.default.API.V1.CONTENT_TYPE_HEADER}});},removeCollaborators:function removeCollaborators(fid,usernames){var data=qs.stringify({usrs_to_rm:usernames,gid:fid}).toString('utf8');return requestUtils.request('POST','/rmusers/',{data:data,headers:{'Content-Type':_AppConstants2.default.API.V1.CONTENT_TYPE_HEADER}});},emailCollaborators:function emailCollaborators(fid,usernamesToAdd,content){var payload=JSON.stringify({gid:fid,users_added:usernamesToAdd,msg:content.msg,student_info:content.student_info||''});var data=qs.stringify({payload:payload}).toString('utf8');return requestUtils.request('POST','/emsharees/',{data:data,headers:{'Content-Type':_AppConstants2.default.API.V1.CONTENT_TYPE_HEADER}});},getEmbedCode:function getEmbedCode(graphURL){return requestUtils.request('GET',graphURL,{responseType:'text'});},addComment:function addComment(fid,commentText){var username=splitFID(fid).username;var id=splitFID(fid).idlocal;var endpoint='/webapp/api/comment/'+username+'/'+id+'/';var data=qs.stringify({comment:commentText}).toString('utf8');return requestUtils.request('POST',endpoint,{data:data,headers:{'Content-Type':_AppConstants2.default.API.V1.CONTENT_TYPE_HEADER}});},removeComment:function removeComment(commentId){return requestUtils.request('DELETE','/webapp/api/comment/'+commentId+'/');},toggleStar:function toggleStar(fid,addOrRemove){var data=qs.stringify({fid:fid,state:addOrRemove}).toString('utf8');return requestUtils.request('POST','/like_chart/',{data:data,headers:{'Content-Type':_AppConstants2.default.API.V1.CONTENT_TYPE_HEADER}});}};},{"../constants/AppConstants":324,"./apiUtils":349,"./requestUtils":365,"./splitFID":369,"querystring":12}],354:[function(require,module,exports){'use strict';var _immutable=require('immutable');var _immutable2=_interopRequireDefault(_immutable);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function newActionCreatorsAndReducer(name,store,actions,gettersMapping){var reducer=newReducer(name,store,gettersMapping);var actionCreators=newActionsCreators(name,store,actions);return{reducer:reducer,actionCreators:actionCreators};}
function actionType(name){return'FLUX_TO_REACT_UPDATE_'+name.toUpperCase();}
function newReducer(name,store,mapping){function getUpdatedState(){return _immutable2.default.Map(mapping).map(function(storeFunctionName){return _immutable2.default.fromJS(store[storeFunctionName]());}).toObject();}
return function(){var state=arguments.length<=0||arguments[0]===undefined?getUpdatedState():arguments[0];var action=arguments[1];if(action.type===actionType(name)){return getUpdatedState();}
return state;};}
function newActionsCreators(name,store,actions){if(!store.emitChange){throw new Error('Store must implement and use emitChange');}
var originalEmitChange=store.emitChange.bind(store);return _immutable2.default.Map(actions).map(function(actionFunction){return function(){for(var _len=arguments.length,givenArgs=Array(_len),_key=0;_key<_len;_key++){givenArgs[_key]=arguments[_key];}
return function(dispatch){store.emitChange=function(){dispatch({type:actionType(name)});return originalEmitChange();};actionFunction.apply(undefined,givenArgs);};};}).toObject();}
module.exports={actionType:actionType,newReducer:newReducer,newActionsCreators:newActionsCreators,newActionCreatorsAndReducer:newActionCreatorsAndReducer};},{"immutable":58}],355:[function(require,module,exports){'use strict';var _apiUtils=require('./apiUtils');var _requestUtils=require('./requestUtils');var _AppConstants=require('../constants/AppConstants');var _AppConstants2=_interopRequireDefault(_AppConstants);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function buildFoldersApiUrl(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];options.id=_AppConstants2.default.FOLDER_TO_ENDPOINT[options.id]||options.id;return(0,_apiUtils.buildApiUrl)('folders',options);}
module.exports={buildFoldersApiUrl:buildFoldersApiUrl,retrieve:function retrieve(fid,params,url){var folderUrl=url||buildFoldersApiUrl({id:fid,params:params});return(0,_requestUtils.request)('GET',folderUrl);},create:function create(folderName,parentIdlocal){var url=buildFoldersApiUrl();return(0,_requestUtils.request)('POST',url,{data:{path:folderName,parent:parentIdlocal}});},trash:function trash(fid){var url=buildFoldersApiUrl({id:fid,route:'trash'});return(0,_requestUtils.request)('POST',url);},restore:function restore(fid){var url=buildFoldersApiUrl({id:fid,route:'restore'});return(0,_requestUtils.request)('POST',url);},permanentDelete:function permanentDelete(fid){var url=buildFoldersApiUrl({id:fid,route:'permanent_delete'});return(0,_requestUtils.request)('DELETE',url);}};},{"../constants/AppConstants":324,"./apiUtils":349,"./requestUtils":365}],356:[function(require,module,exports){'use strict';var _apiUtils=require('./apiUtils');var apiUtils=_interopRequireWildcard(_apiUtils);var _urlUtils=require('./urlUtils');var urlUtils=_interopRequireWildcard(_urlUtils);var _sharingUtils=require('./sharingUtils');var _FileStore=require('../stores/FileStore');var _FileStore2=_interopRequireDefault(_FileStore);var _url=require('url');var _url2=_interopRequireDefault(_url);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
module.exports=function(fid){if(!_FileStore2.default.hasFile(fid)){throw new Error("File '"+fid+"' does not exist locally!");}
var file=_FileStore2.default.getFile(fid);if((0,_sharingUtils.isFilePrivateNoKey)(file)){return null;}
var publicURL=urlUtils.getPublicURL(fid);var sharingURL=_url2.default.parse(publicURL,true);if((0,_sharingUtils.isFilePrivateShareKey)(file)){var activeShareKey=apiUtils.getActiveShareKey();var hasActiveShareKey=typeof activeShareKey==='string';var shareKey=hasActiveShareKey?activeShareKey:file['share_key'];sharingURL.query['share_key']=shareKey;}
return _url2.default.format(sharingURL);};},{"../stores/FileStore":340,"./apiUtils":349,"./sharingUtils":367,"./urlUtils":373,"url":13}],357:[function(require,module,exports){'use strict';var _globalUtils=require('./globalUtils');module.exports=function getenv(varName,defaultValue){var environment=(0,_globalUtils.getWindow)();if(typeof environment[varName]!=='undefined'){return environment[varName];}
if(typeof environment.ENV!=='undefined'){environment=environment.ENV;if(typeof environment[varName]!=='undefined'){return environment[varName];}}
if(typeof defaultValue!=='undefined')return defaultValue;throw new Error('No variable '+varName+' found in the Plotly environment');};},{"./globalUtils":359}],358:[function(require,module,exports){'use strict';module.exports=function(){var user={username:null,isAuthenticated:false};if(typeof window._username==='string'){user.username=window._username;}
if(user.username){user.isAuthenticated=true;}
return user;};},{}],359:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getWindow=getWindow;exports.getWindowLocation=getWindowLocation;exports.getWindowPathname=getWindowPathname;exports.getWindowSearch=getWindowSearch;exports.openWindow=openWindow;function getWindow(){return window;}
function getWindowLocation(){var context=getWindow();return context.location;}
function getWindowPathname(){var context=getWindow();return context.location.pathname;}
function getWindowSearch(){var context=getWindow();return context.location.search;}
function openWindow(url,name,features){var context=getWindow();context.open(url,name,features);context.focus();}},{}],360:[function(require,module,exports){'use strict';var _cookie=require('cookie');var _cookie2=_interopRequireDefault(_cookie);var _apiUtils=require('./apiUtils');var _requestUtils=require('./requestUtils');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var xhr=require('xhr');var assert=require('assert');var assign=require('object-assign');var XHR_OPTS={timeout:0,withCredentials:true,responseType:'json',method:'POST'};function buildGridsApiUrl(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return(0,_apiUtils.buildApiUrl)('grids',options);}
module.exports={create:function create(cols,filename,parent){var url=buildGridsApiUrl();var options={data:{data:{cols:cols}}};if(filename)options.data.filename=filename;if(parent)options.data.parent=parent;return(0,_requestUtils.request)('POST',url,options);},upload:function upload(filename,parent,data){var url=buildGridsApiUrl({route:'upload'});assert(typeof filename==='string');assert(typeof parent==='number');var headers={'Accept':'application/json','X-CSRFToken':_cookie2.default.parse(document.cookie).csrftoken,'content-type':'application/octet-stream','X-File-Name':filename,'Plotly-World-Readable':false,'Plotly-Parent':parent};var promise=new Promise(function(resolve,reject){var xhrOpts=assign(XHR_OPTS,{uri:url});xhrOpts.headers=headers;xhrOpts.body=data;xhr(xhrOpts,function(err,resp,payload){if(!err&&resp.statusCode===201){resolve(payload.file);}else{reject(err?err.message:payload.detail);}});});return promise;},content:function content(fid){var url=buildGridsApiUrl({id:fid,route:'content'});return(0,_requestUtils.request)('GET',url);},retrieve:function retrieve(fid){var url=buildGridsApiUrl({id:fid});return(0,_requestUtils.request)('GET',url);},col:function col(fid){var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var _options$method=options.method;var method=_options$method===undefined?null:_options$method;var _options$uid=options.uid;var uid=_options$uid===undefined?null:_options$uid;var _options$data=options.data;var data=_options$data===undefined?null:_options$data;if(method==='GET'){if(!uid)throw new Error('options.uid required on GET.');if(data)throw new Error('options.data not allowed on GET.');}else if(method==='POST'){if(uid)throw new Error('options.uid not allowed on POST.');if(!data)throw new Error('options.data required on POST.');}else if(method==='PUT'){if(!uid)throw new Error('options.uid required on PUT.');if(!data)throw new Error('options.data required on PUT.');}else{throw new Error('Unrecognized method. Use GET, POST, or PUT.');}
var params=uid?{uid:uid}:{};var opts=data?{data:data}:{};var url=buildGridsApiUrl({id:fid,route:'col',params:params});if(method==='GET')return(0,_requestUtils.request)(method,url);return(0,_requestUtils.request)(method,url,opts);}};},{"./apiUtils":349,"./requestUtils":365,"assert":1,"cookie":23,"object-assign":60,"xhr":258}],361:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.gridToColumns=gridToColumns;function gridToColumns(fid,content){var ret={meta:{},data:{},columnIds:[]};var cols=content.cols;for(var name in cols){if(!cols.hasOwnProperty(name))continue;var _cols$name=cols[name];var uid=_cols$name.uid;var data=_cols$name.data;var order=_cols$name.order;var columnId=fid+':'+uid;ret.columnIds[order]=columnId;ret.meta[columnId]={name:name,dirty:false};ret.data[columnId]=data;}
ret.columnIds=ret.columnIds.reduce(function(reducer,columnId){if(columnId)reducer.push(columnId);return reducer;},[]);return ret;}},{}],362:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.logError=logError;var _objectAssign=require('object-assign');var _objectAssign2=_interopRequireDefault(_objectAssign);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var SENTRY_TAGS={'app':'organize'};function logError(error,tags){var tags=(0,_objectAssign2.default)({},SENTRY_TAGS,tags||{});window.Raven.captureException(error,{tags:tags});}},{"object-assign":60}],363:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.buildPlotsApiUrl=buildPlotsApiUrl;exports.list=list;exports.feed=feed;var _apiUtils=require('./apiUtils');var _requestUtils=require('./requestUtils');function buildPlotsApiUrl(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return(0,_apiUtils.buildApiUrl)('plots',options);}
function list(){var params=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var url=buildPlotsApiUrl({params:params});return(0,_requestUtils.request)('GET',url);}
function feed(){var params=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var url=buildPlotsApiUrl({route:'feed',params:params});return(0,_requestUtils.request)('GET',url);}},{"./apiUtils":349,"./requestUtils":365}],364:[function(require,module,exports){"use strict";module.exports={url:"(?:(?:https?|ftp)://)"+"(?:\\S+(?::\\S*)?@)?"+"(?:"+"(?!(?:10|127)(?:\\.\\d{1,3}){3})"+"(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})"+"(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})"+"(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])"+"(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}"+"(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))"+"|"+"(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)"+"(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+"(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))"+"\\.?"+")"+"(?::\\d{2,5})?"+"(?:[/?#]\\S*)?"};},{}],365:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.generatePromiseID=generatePromiseID;exports.request=request;exports.onSuccess=onSuccess;exports.onFailure=onFailure;exports.makeOpts=makeOpts;exports.getCSRFToken=getCSRFToken;exports.getRequestStatus=getRequestStatus;var _apiUtils=require('./apiUtils');var _DefaultValues=require('../constants/DefaultValues');var _AppConstants=require('../constants/AppConstants');var _cookie=require('cookie');var _cookie2=_interopRequireDefault(_cookie);var _assignDeep=require('assign-deep');var _assignDeep2=_interopRequireDefault(_assignDeep);var _hat=require('hat');var _hat2=_interopRequireDefault(_hat);var _RequestActions=require('../actions/RequestActions');var _RequestActions2=_interopRequireDefault(_RequestActions);var _xhr=require('xhr');var _xhr2=_interopRequireDefault(_xhr);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _typeof(obj){return obj&&typeof Symbol!=="undefined"&&obj.constructor===Symbol?"symbol":typeof obj;}
var promiseIDRack=_hat2.default.rack();function generatePromiseID(){return promiseIDRack();}
function request(method,uri,opts){var xhrOpts=makeOpts(method,uri,opts);var requestID=generatePromiseID();var request;var promise=new Promise(function(resolve,reject){request=(0,_xhr2.default)(xhrOpts,function(error,response,body){var hasError=!!(error||response.err||body&&body.err);var statusCode=response.statusCode;var hasSuccessCode=statusCode>=200&&statusCode<300;var isSuccess=!hasError&&hasSuccessCode;_RequestActions2.default.updateRequest(requestID,{status:isSuccess?_AppConstants.STATUS.SUCCESS:_AppConstants.STATUS.SERVER_ERROR,statusCode:statusCode,error:error,data:body});if(isSuccess){resolve(onSuccess(error,response,body,xhrOpts));}else{reject(onFailure(error,response,body,xhrOpts));}});});_RequestActions2.default.updateRequest(requestID,{status:_AppConstants.STATUS.PENDING},request);promise._requestID=requestID;return promise;}
function onSuccess(error,response,body,opts){var opts=opts||{};var data={};if(body){if(typeof body==='string'&&opts.responseType!=='text'){data=JSON.parse(body);}else data=body;}
return data;}
function onFailure(error,response,body,xhrOpts){return(0,_apiUtils.handleAPIFailure)(error,response,body,xhrOpts);}
function makeOpts(method,uri,opts){var opts=opts||{};if(_typeof(opts.data)==='object'){opts.data=JSON.stringify(opts.data);}
return(0,_assignDeep2.default)({},_DefaultValues.XHR_DEFAULTS,opts,{method:method,uri:uri,headers:{'X-CSRFToken':getCSRFToken()}});}
function getCSRFToken(){var cookies=_cookie2.default.parse(document.cookie);return cookies.csrftoken;}
function getRequestStatus(statusCode){if(typeof statusCode!=="number"){throw new Error("Status code is not a number: "+statusCode);}else if(statusCode>=200&&statusCode<300){return _AppConstants.STATUS.SUCCESS;}else if(statusCode===429){return _AppConstants.STATUS.THROTTLED;}else{return _AppConstants.STATUS.FAILURE;}}},{"../actions/RequestActions":274,"../constants/AppConstants":324,"../constants/DefaultValues":326,"./apiUtils":349,"assign-deep":18,"cookie":23,"hat":27,"xhr":258}],366:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.list=list;var _apiUtils=require('./apiUtils');var _requestUtils=require('./requestUtils');function list(params){if(typeof params.q!=='string'){throw new Error('Must provide a search query!');}
var url=params.nextPage||(0,_apiUtils.buildApiUrl)('search',{params:params});return(0,_requestUtils.request)('GET',url);}},{"./apiUtils":349,"./requestUtils":365}],367:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.isFilePublic=isFilePublic;exports.isFilePrivateNoKey=isFilePrivateNoKey;exports.isFilePrivateShareKey=isFilePrivateShareKey;var _ContentStore=require("../stores/ContentStore");var _ContentStore2=_interopRequireDefault(_ContentStore);var _FileStore=require("../stores/FileStore");var _FileStore2=_interopRequireDefault(_FileStore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function isFilePublic(fileOrFid){var file=undefined;if(typeof fileOrFid==='string'){file=_FileStore2.default.getFile(fileOrFid);}else file=fileOrFid;return file.world_readable||_ContentStore2.default.hasPublicParent(file.fid);}
function isFilePrivateNoKey(fileOrFid){var file=undefined;if(typeof fileOrFid==='string'){file=_FileStore2.default.getFile(fileOrFid);}else file=fileOrFid;return!isFilePublic(file)&&!file.share_key_enabled;}
function isFilePrivateShareKey(fileOrFid){var file=undefined;if(typeof fileOrFid==='string'){file=_FileStore2.default.getFile(fileOrFid);}else file=fileOrFid;return!isFilePublic(file)&&file.share_key_enabled;}},{"../stores/ContentStore":337,"../stores/FileStore":340}],368:[function(require,module,exports){'use strict';var _slicedToArray=(function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};})();Object.defineProperty(exports,"__esModule",{value:true});exports.splitColumnId=splitColumnId;var _WorkspaceConstants=require('../constants/WorkspaceConstants');function splitColumnId(columnId){var isString=typeof columnId==='string';var numDelimiters=isString?columnId.split(':').length-1:null;var isNew=columnId&&isString&&numDelimiters===0;var isBad=!isNew&&numDelimiters!==2;if(isNew)return{type:_WorkspaceConstants.COLUMN_ID_TYPES.NEW,fid:'',uid:''};if(isBad)throw new Error('Bad columnId: '+columnId);var _columnId$split=columnId.split(':');var _columnId$split2=_slicedToArray(_columnId$split,3);var username=_columnId$split2[0];var idlocal=_columnId$split2[1];var uid=_columnId$split2[2];var fid=username+':'+idlocal;return{type:_WorkspaceConstants.COLUMN_ID_TYPES.REF,fid:fid,uid:uid};}},{"../constants/WorkspaceConstants":333}],369:[function(require,module,exports){'use strict';var _apiUtils=require('./apiUtils');module.exports=function(fid){var username;var idlocal;if(fid.indexOf(':')<0){if((0,_apiUtils.isPseudofid)(fid)){username=null;idlocal=fid;}else throw new Error('Cannot split fid: '+fid);}else{var parts=fid.split(':');var idstr=parts[1];username=parts[0];if((0,_apiUtils.isPseudofid)(idstr)){idlocal=idstr;}else{idlocal=parseInt(idstr,10);}}
return{username:username,idlocal:idlocal};};},{"./apiUtils":349}],370:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getStripeToken=getStripeToken;var _AppConstants=require("../constants/AppConstants");var _globalUtils=require("./globalUtils");var globalUtils=_interopRequireWildcard(_globalUtils);var _RequestActions=require("../actions/RequestActions");var _RequestActions2=_interopRequireDefault(_RequestActions);var _requestUtils=require("./requestUtils");var requestUtils=_interopRequireWildcard(_requestUtils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function getStripeToken(cardData){var globalContext=globalUtils.getWindow();var Promise=globalContext.Promise;var Stripe=globalContext.Stripe;var requestID=requestUtils.generatePromiseID();var request=undefined;var promise=new Promise(function(resolve,reject){Stripe.card.createToken(cardData,function(statusCode,response){var requestStatus=requestUtils.getRequestStatus(statusCode);var isSuccess=requestStatus===_AppConstants.STATUS.SUCCESS;_RequestActions2.default.updateRequest(requestID,{status:requestStatus,statusCode:statusCode,data:response,error:response.error});if(isSuccess){resolve(response);}else{reject(response);}});});_RequestActions2.default.updateRequest(requestID,{status:_AppConstants.STATUS.PENDING},request);promise._requestID=requestID;return promise;}},{"../actions/RequestActions":274,"../constants/AppConstants":324,"./globalUtils":359,"./requestUtils":365}],371:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getStripe=getStripe;exports.trackCharge=trackCharge;exports.validateCardNumber=validateCardNumber;exports.getCardType=getCardType;exports.formatCardNumber=formatCardNumber;exports.parseExpirationDate=parseExpirationDate;var _AppConstants=require("../constants/AppConstants");var _globalUtils=require("./globalUtils");var globalUtils=_interopRequireWildcard(_globalUtils);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function getStripe(){var context=globalUtils.getWindow();var environment=context["ENV"];if(!environment.STRIPE_ENABLED)return null;else if(!context.Stripe)return null;else return context.Stripe;}
function trackCharge(amount){var dollarAmount=amount?amount/100:0;var mixpanel=globalUtils.getWindow().mixpanel;mixpanel.people.track_charge(dollarAmount);}
function validateCardNumber(cardNumber){var Stripe=getStripe();if(Stripe)return Stripe.card.validateCardNumber(cardNumber);else return true;}
function getCardType(cardNumber){if(!cardNumber)return null;var Stripe=getStripe();if(Stripe){var cardType=Stripe.card.cardType(cardNumber).toLowerCase();var cardTypeKey=_AppConstants.STRIPE_CARD_TYPES[cardType];return _AppConstants.CREDIT_CARD_TYPES[cardTypeKey]||null;}else{return null;}}
function formatCardNumber(cardNumber){if(!cardNumber)return"";var rawNumber=cardNumber;rawNumber=rawNumber.replace(/[^\d]+/g,"");rawNumber=rawNumber.match(/.{1,4}/g);rawNumber=rawNumber?rawNumber.join(" "):"";return rawNumber;}
function parseExpirationDate(expDate){var expMonth="";var expYear="";if(expDate){var rawDate=expDate;rawDate=rawDate.replace(/[^\d]+/g,"");rawDate=rawDate.substr(0,6);expMonth=rawDate.substr(0,2);expYear=rawDate.substr(2,6);}
return{expMonth:expMonth,expYear:expYear};}},{"../constants/AppConstants":324,"./globalUtils":359}],372:[function(require,module,exports){'use strict';var _apiUtils=require('./apiUtils');var _requestUtils=require('./requestUtils');function buildSubscriptionsApiUrl(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return(0,_apiUtils.buildApiUrl)('subscriptions',options);}
module.exports={list:function list(){var url=buildSubscriptionsApiUrl();return(0,_requestUtils.request)('GET',url);},create:function create(params){var url=buildSubscriptionsApiUrl();return(0,_requestUtils.request)('POST',url,{data:params});},cancel:function cancel(id){var url=buildSubscriptionsApiUrl({id:id,route:'cancel'});return(0,_requestUtils.request)('POST',url);},reactivate:function reactivate(id){var url=buildSubscriptionsApiUrl({id:id,route:'reactivate'});return(0,_requestUtils.request)('POST',url);}};},{"./apiUtils":349,"./requestUtils":365}],373:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLoginURL=getLoginURL;exports.getPublicURL=getPublicURL;exports.getFolderProfileURL=getFolderProfileURL;var _apiUtils=require("./apiUtils");var apiUtils=_interopRequireWildcard(_apiUtils);var _FileStore=require("../stores/FileStore");var _FileStore2=_interopRequireDefault(_FileStore);var _getenv=require("./getenv");var _getenv2=_interopRequireDefault(_getenv);var _url=require("url");var _url2=_interopRequireDefault(_url);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function getLoginURL(redirectURL){return _url2.default.format({pathname:"/accounts/login",search:redirectURL?"next="+redirectURL:null});}
function getPublicURL(fid){if(!_FileStore2.default.hasFile(fid)){throw new Error("File '"+fid+"' does not exist locally!");}
var file=_FileStore2.default.getFile(fid);switch(file.filetype){case"plot":case"grid":return file["web_url"];case"fold":return getFolderProfileURL(fid);default:throw new Error("Unknown filetype \""+file.filetype+"\" for "+file.fid);}}
function getFolderProfileURL(fid){if(!_FileStore2.default.hasFile(fid)){throw new Error("File '"+fid+"' does not exist locally!");}
var folder=_FileStore2.default.getFile(fid);if(folder.filetype!=="fold"){throw new Error("File '"+fid+"' is not a folder!");}
var publicURL=_url2.default.parse((0,_getenv2.default)("BASE_URL"),true);var pathname=["~"+folder.owner,"folder",folder.fid].join("/");publicURL.pathname=pathname;return _url2.default.format(publicURL);}},{"../stores/FileStore":340,"./apiUtils":349,"./getenv":357,"url":13}],374:[function(require,module,exports){'use strict';var _apiUtils=require('./apiUtils');var _requestUtils=require('./requestUtils');var _querystring=require('querystring');var _querystring2=_interopRequireDefault(_querystring);var _AppConstants=require('../constants/AppConstants');var _AppConstants2=_interopRequireDefault(_AppConstants);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function buildUsersApiUrl(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return(0,_apiUtils.buildApiUrl)('users',options);}
module.exports={getLoggedInUser:function getLoggedInUser(){var url=buildUsersApiUrl({id:'current'});return(0,_requestUtils.request)('GET',url);},retrieve:function retrieve(username){var url=buildUsersApiUrl({id:username});return(0,_requestUtils.request)('GET',url);},partialUpdate:function partialUpdate(username,update){var url=buildUsersApiUrl({id:username});return(0,_requestUtils.request)('PATCH',url,{data:update});},changePassword:function changePassword(username,update){var url=buildUsersApiUrl({id:username,route:'change_password'});return(0,_requestUtils.request)('POST',url,{data:update});},triggerPasswordReset:function triggerPasswordReset(username){var uri='/reset_password_form/';var data=_querystring2.default.stringify({un_or_em:username}).toString('utf8');return(0,_requestUtils.request)('POST',uri,{data:data,headers:{'Content-Type':_AppConstants2.default.API.V1.CONTENT_TYPE_HEADER}});},collaborators:function collaborators(username){var url=buildUsersApiUrl({id:username,route:'collaborators'});return(0,_requestUtils.request)('GET',url);},resetAPIKey:function resetAPIKey(username){var url=buildUsersApiUrl({id:username,route:'reset_api_key'});return(0,_requestUtils.request)('POST',url);},createStreamToken:function createStreamToken(username){var url=buildUsersApiUrl({id:username,route:'create_stream_token'});return(0,_requestUtils.request)('POST',url);}};},{"../constants/AppConstants":324,"./apiUtils":349,"./requestUtils":365,"querystring":12}],375:[function(require,module,exports){'use strict';var _contentStore=require('../../../../filewell/static/filewell/src/components/mixins/contentStore.mixin');var _contentStore2=_interopRequireDefault(_contentStore);var _react=require('../../../../filewell/static/filewell/node_modules/react');var _react2=_interopRequireDefault(_react);var _FileStore=require('../../../../filewell/static/filewell/src/stores/FileStore');var _FileStore2=_interopRequireDefault(_FileStore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function updateTab(tab,file){tab.fid=file.fid;tab.parent=file.parent;tab.fn=file.filename;tab.world_readable=file.world_readable;}
var WorkspaceUIController=_react2.default.createClass({displayName:'WorkspaceUIController',mixins:[_contentStore2.default],getInitialState:function getInitialState(){return{};},getTabs:function getTabs(){return[].slice.call(document.querySelectorAll('.js-tab-contents'));},_onChange:function _onChange(){var tabs=this.getTabs().filter(function(f){return f.fid;});tabs.forEach(function(tab){var file=_FileStore2.default.getFile(Utils.fullFid(tab.fid));if(!file)return;updateTab(tab,file);set_title(tab,file.filename);});},render:function render(){return null;}});module.exports=WorkspaceUIController;},{"../../../../filewell/static/filewell/node_modules/react":236,"../../../../filewell/static/filewell/src/components/mixins/contentStore.mixin":288,"../../../../filewell/static/filewell/src/stores/FileStore":340}],376:[function(require,module,exports){'use strict';var _AppActions=require('../../../../filewell/static/filewell/src/actions/AppActions');var _AppActions2=_interopRequireDefault(_AppActions);var _DialogueController=require('../../../../filewell/static/filewell/src/components/modals/Dialogue.controller.react');var _DialogueController2=_interopRequireDefault(_DialogueController);var _ModalController=require('../../../../filewell/static/filewell/src/components/modals/Modal.controller.react');var _ModalController2=_interopRequireDefault(_ModalController);var _UserActions=require('../../../../filewell/static/filewell/src/actions/UserActions');var _UserActions2=_interopRequireDefault(_UserActions);var _FileSyncer=require('../../../../filewell/static/filewell/src/utils/FileSyncer');var _FileSyncer2=_interopRequireDefault(_FileSyncer);var _react=require('../../../../filewell/static/filewell/node_modules/react');var _react2=_interopRequireDefault(_react);var _reactDom=require('../../../../filewell/static/filewell/node_modules/react-dom');var _reactDom2=_interopRequireDefault(_reactDom);var _WorkspaceUIController=require('./WorkspaceUIController.react');var _WorkspaceUIController2=_interopRequireDefault(_WorkspaceUIController);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var AppController=_react2.default.createClass({displayName:'AppController',render:function render(){return _react2.default.createElement('div',null,_react2.default.createElement(_DialogueController2.default,null),_react2.default.createElement(_ModalController2.default,null),_react2.default.createElement(_WorkspaceUIController2.default,null));}});var App={init:function init(anchor){_FileSyncer2.default.start();_AppActions2.default.initializeEnvironment();_UserActions2.default.getUserCollaborators();var userPromise=_UserActions2.default.getUser(window._username);userPromise.then(function(user){window.userSubscription=user.feature_set_id||'community';});_reactDom2.default.render(_react2.default.createElement(AppController,null),anchor);}};module.exports=App;},{"../../../../filewell/static/filewell/node_modules/react":236,"../../../../filewell/static/filewell/node_modules/react-dom":61,"../../../../filewell/static/filewell/src/actions/AppActions":267,"../../../../filewell/static/filewell/src/actions/UserActions":276,"../../../../filewell/static/filewell/src/components/modals/Dialogue.controller.react":297,"../../../../filewell/static/filewell/src/components/modals/Modal.controller.react":299,"../../../../filewell/static/filewell/src/utils/FileSyncer":347,"./WorkspaceUIController.react":375}],377:[function(require,module,exports){'use strict';function min(a){return a[0]<a[1]?a[0]:a[1];}
function max(a){return a[0]>a[1]?a[0]:a[1];}
function calcBounds(a,b,win){var c1=win*a+(1-win)*b,c2=win*b+(1-win)*a;return[c1,c2];}
function makeUnequal(y1,y2,mindiff){if(Math.abs(y2-y1)<mindiff){y2=y1+mindiff*(y2>y1?1:-1);console.log('Moving a y value so the guesses are unequal',y2);}
return y2;}
function threePoints(x,y,options){var nx=x.length,xmin=x[0],xmax=x[nx-1],dx=xmax-xmin,x1=xmin+0.1*dx,x3=xmin+0.9*dx,x2=(x1+x3)/2,i1=Plotly.Lib.findBin(xmin+0.2*dx,x)+1,i2low=Plotly.Lib.findBin(xmin+0.4*dx,x,true)+1,i2high=Plotly.Lib.findBin(xmin+0.6*dx,x)+1,i3=Plotly.Lib.findBin(xmin+0.8*dx,x,true)+1;if(i2low>=i2high){i2low=i1;i2high=i3;}
var y1=numeric.sum(y.slice(0,i1))/i1,y3=numeric.sum(y.slice(i3))/(nx-i3),y2=i3>i1?numeric.sum(y.slice(i2low,i2high))/(i2high-i2low):y1*0.3+y3*0.7;if(!options){options={};}
var ycbounds_outer=calcBounds(y1,y3,0.02);if(options.nostraight){var ycbounds_inner=calcBounds(y1,y3,0.45);if(y2>min(ycbounds_inner)&&y2<max(ycbounds_inner)){y2=y2<(y1+y3)/2?min(ycbounds_inner):max(ycbounds_inner);console.log('moving y away from centre to',y2);}}
if(options.monotonic){if(y2<=min(ycbounds_outer)||y2>=max(ycbounds_outer)){y2=Plotly.Lib.constrain(y2,min(ycbounds_outer),max(ycbounds_outer));console.log('moving y2 within bounds to',y2);}}
if(options.unequal){var mindiff=0.02*(max(ycbounds_outer)-min(ycbounds_outer));y2=makeUnequal(y1,y2,mindiff);y2=makeUnequal(y3,y2,mindiff);y3=makeUnequal(y1,y3,mindiff);}
var tol=1e-5;if(Math.abs(ycbounds_outer[0]-ycbounds_outer[1])<tol){y1=min(ycbounds_outer)-2*1e5*tol;y3=max(ycbounds_outer)+2*1e5*tol;y2=min(ycbounds_outer)+8*1e4*tol;console.log('reticulating splines on tight bounds');}
return{x:[x1,x2,x3],y:[y1,y2,y3]};}
exports.exponential=function(x,y){var nx=x.length;if(nx<3){return{params:{},err:'Exponential fitting requires a minimum of 3 points'};}
var chunks=threePoints(x,y,{nostraight:true,monotonic:true}),y1=chunks.y[0],y2=chunks.y[1],y3=chunks.y[2],x1=chunks.x[0],x2=chunks.x[1],x3=chunks.x[2];var p=Math.pow(y2-y1,2)/(y3-2*y2+y1),q=(y3-y2)/(y2-y1);var xshift=x[q>1?x.length-1:0];for(var i=0;i<x.length;i++){x[i]-=xshift;}
var pshift={prefit:function prefit(params){params[1].value*=Math.exp(params[2].value*xshift);},postfit:function postfit(params){params[1].value/=Math.exp(params[2].value*xshift);}};var a=y1-p,c=Math.log(q)/(x2-x1),b=p*Math.exp(-c*x1);return{params:{a:a,b:b,c:c},err:'',xshift:xshift,pshift:pshift};};exports.inverse=function(x,y,square){var nx=x.length;if(nx<3){return{params:{},err:'Inverse fitting requires a minimum of 3 points'};}
var chunks=threePoints(x,y,{nostraight:true,unequal:true}),y1=chunks.y[0],y2=chunks.y[1],y3=chunks.y[2],x1=chunks.x[0],x2=chunks.x[1],x3=chunks.x[2];if(square){x1*=x1;x2*=x2;x3*=x3;}
var p=y1-2*y2+y3,x0=x1-2*(x2-x1)*(y2-y3)/p,y0=(2*y1*y3-y2*(y1+y3))/p,a=2*(x2-x1)*(y1-y3)*(y1-y2)*(y2-y3)/(p*p);return{params:{a:a,x0:x0,y0:y0},err:''};};exports.inverse2=function(x,y){return exports.inverse(x,y,true);};exports.inverseSimple=function(x,y,square){var nx=x.length;if(nx<3){return{params:{},err:'Inverse fitting requires a minimum of 3 points'};}
var chunks=threePoints(x,y,{nostraight:true,unequal:true}),y1=chunks.y[0],y3=chunks.y[2],x1=chunks.x[0],x3=chunks.x[2];if(square){x1=x1*x1;x3=x3*x3;}
var a=x1*x3*(y3-y1)/(x1-x3),y0=(x1*y1-x3*y3)/(x1-x3);return{params:{a:a,y0:y0},err:''};};exports.inverseSimple2=function(x,y){return exports.inverseSimple(x,y,true);};exports.peak=function(x,y){var a,h,x0,w,err='';var smoothedPoints=Math.min(x.length,100),ptsPerBin=x.length/smoothedPoints,xdelta=(x[x.length-1]-x[0])/(smoothedPoints-1/ptsPerBin),x2=[],y2=[],i,j,ysum,xi=0,inew,ynew,iprev,yprev;for(i=0;i<smoothedPoints;i++){x2.push(x[0]+xdelta*(i+0.5-0.5/ptsPerBin));ysum=0;for(j=xi;j<x.length&&x[j]<x2[i]+xdelta/2;j++){ysum+=y[j];}
ynew=j>xi?ysum/(j-xi):null;y2.push(ynew);xi=j;if(ynew!==null){inew=y2.length-1;for(j=iprev;j<inew;j++){y2[j]=yprev+(ynew-yprev)*(j-iprev)/(inew-iprev);}
iprev=inew;yprev=ynew;}}
var smoothsize=0.1;y2=Plotly.Lib.smooth(y2,y2.length*smoothsize);var ysort=y2.slice().sort(),ymin=ysort[0],ymed=ysort[Math.floor((ysort.length-1)/2)],ymax=ysort[ysort.length-1],ipeak,xleft,xright,HM,onedge=false;if(ymed>0.75*ymax+0.25*ymin){a=ymax;h=ymin-ymax;ipeak=y2.indexOf(ymin);}else{a=ymin;h=ymax-ymin;ipeak=y2.indexOf(ymax);}
HM=a+h/2;for(i=ipeak;i>=0;i--){if(h>0?y2[i]<HM:y2[i]>HM){xleft=x2[0]+xdelta*(i+(a+h/2-y2[i])/(y2[i+1]-y2[i]));break;}
if(i===0){xleft=x2[0];onedge=true;}}
for(i=ipeak;i<y2.length;i++){if(h>0?y2[i]<HM:y2[i]>HM){xright=x2[0]+xdelta*(i-(a+h/2-y2[i])/(y2[i-1]-y2[i]));break;}
if(i===y2.length-1){xright=x2[y2.length-1];onedge=true;}}
x0=(xleft+xright)/2;var w0=xright-xleft,wsmooth=y2.length*smoothsize*xdelta;if(onedge){wsmooth/=2;}
w=Math.max(xdelta*2,w0/5,Math.sqrt(w0*w0-wsmooth*wsmooth)||0);h*=w0/w;return{params:{a:a,h:h,x0:x0,FWHM:w},err:err};};exports.gauss=function(x,y){var peak=exports.peak(x,y);peak.params.w=peak.params.FWHM/Math.sqrt(8*Math.log(2));delete peak.params.FWHM;return peak;};},{}],378:[function(require,module,exports){'use strict';function _typeof(obj){return obj&&typeof Symbol!=="undefined"&&obj.constructor===Symbol?"symbol":typeof obj;}var autoGuess=require('./autoGuess');var polySolver=require('./polySolver');var funcSolver=require('./funcSolver');module.exports=function(TD){'use strict';var $TD=$(TD);var OPTS;var MATH=mathjs;var FUNCLIB=[{'libname':'Linear','variants':[{name:'Linear',func:'m*x + b',info:'',autoguess:function autoguess(x,y){return polySolver(x,y,['b','m']);}}]},{'libname':'Quadratic','variants':[{name:'Quadratic',func:'a*x^2 + b*x + c',info:'',autoguess:function autoguess(x,y){return polySolver(x,y,['c','b','a']);}}]},{'libname':'Polynomial','variants':[{name:'1st order',func:'a + b*x',info:'',autoguess:function autoguess(x,y){return polySolver(x,y,1);}},{name:'2nd order',func:'a + b*x + c*x^2',info:'',autoguess:function autoguess(x,y){return polySolver(x,y,2);}},{name:'3rd order',func:'a + b*x + c*x^2 + d*x^3',info:'',autoguess:function autoguess(x,y){return polySolver(x,y,3);}},{name:'4th order',func:'a + b*x + c*x^2 + d*x^3 + e*x^4',info:'',autoguess:function autoguess(x,y){return polySolver(x,y,4);}},{name:'5th order',func:'a + b*x + c*x^2 + d*x^3 + e*x^4 + f*x^5',info:'',autoguess:function autoguess(x,y){return polySolver(x,y,5);}},{name:'6th order',func:'a + b*x + c*x^2 + d*x^3 + e*x^4 + f*x^5 + g*x^6',info:'',autoguess:function autoguess(x,y){return polySolver(x,y,6);}}]},{libname:'Exponential',variants:[{name:'Exponential',func:'a + b*exp(c*x)',info:'',autoguess:autoGuess.exponential}]},{libname:'Peak',variants:[{name:'Gaussian',func:'a + h*exp( -(x-x0)^2/(2*w^2) )',info:'',autoguess:autoGuess.gauss},{name:'Gaussian FWHM',func:'a + h*exp( -4*log(2)*((x-x0)/FWHM)^2 )',info:'',autoguess:autoGuess.peak},{name:'Cauchy-Lorentz',func:'a + h/(1 + 4*((x-x0)/FWHM)^2)',info:'',autoguess:autoGuess.peak}]},{libname:'Inverse',variants:[{name:'y0 + a/x',func:'y0 + a/x',info:'',autoguess:autoGuess.inverseSimple},{name:'y0 + a/(x-x0)',func:'y0 + a/(x-x0)',info:'',autoguess:autoGuess.inverse}]},{libname:'Inverse squared',variants:[{name:'y0 + a/x<sup>2</sup>',func:'y0 + a/x^2',info:'',autoguess:autoGuess.inverseSimple2},{name:'y0 + a/(x-x0)<sup>2</sup>',func:'y0 + a/(x-x0)^2',info:'',autoguess:autoGuess.inverse2}]}];var ID=null,$FITBOX,DATA={},PANELS=null,PC=ParamControl(MATH);function buildTraceList(td){var i=0,gd=Tabs.getGraph(),cd=gd.calcdata,trace,traceName,calcObj,tracelist=[];for(;i<cd.length;i++){trace=gd._fullData[i];if(!Plotly.Plots.traceIs(trace,'cartesian'))continue;calcObj=$.extend(true,{},cd[i][0]);traceName=trace.name;calcObj.t.name=(traceName?traceName:'Trace '+i).replace(/[\s\n\r]+/gm,' ').replace(/^([A-z0-9\-_]+[\/:])?[0-9]+[\/:]/,'');calcObj.t.idx=i;calcObj.t.tx=gd.data[i].text?'T':'';if(!('guessCurve'in gd.data[i]&&gd.data[i].guessCurve))tracelist.push([calcObj]);}return tracelist;}function traceSelection(cls){var $traceDropdown=$FITBOX.find('.trace-dropdown');$traceDropdown.css({'float':'none'});$traceDropdown.html('');function setTrace(t){$FITBOX.find('.select-trace .selected-val').html($('.select-trace li > a')[t.idx].innerHTML);}var idx,tmeta,dn=$(Tabs.getGraph().toolPanel.dropdown('select-'+cls)).appendTo($traceDropdown).get(0),dd=Plotly.d3.select(dn),tracelist=buildTraceList(TD);if(Utils.isEmpty(DATA.uid)){idx=0;}else{Tabs.getGraph().data.forEach(function(data,i){if(data.uid===DATA.uid[0]){idx=i;}});}var traces=dd.select('ul').selectAll('li').data(tracelist).enter().append('li').append('a').attr('href','#').on('click',function(d){setTrace(d[0].t);updateData(d[0].t);PANELS.show('overview');Plotly.d3.event.preventDefault();});traces.call(initTraceSelect);tmeta=tracelist[idx][0].t;setTrace(tmeta);updateData(tmeta);}function initTraceSelect(s){var tw=40,th=20;s.append('svg').attr('width',tw).attr('height',th).append('g').attr('transform','translate(0,'+th/2+')').call(Plotly.Legend.style);s.append('span').text(function(d){return Plotly.util.plainText(d[0].t.name)+'';});}function setHeader(ev,info){var coli=info.coli,dim=info.rowtype,$fitElem;if(dim==='x')$fitElem=$FITBOX.find('.js-axis-col-x');else if(dim==='y')$fitElem=$FITBOX.find('.js-axis-col-y');else if(dim==='Ey')$fitElem=$FITBOX.find('.js-axis-col-error-y');else return void 0;var cMeta=TD.colMeta[coli],colElem=cMeta.headers[dim].elem;if($(colElem).hasClass('selected')){$fitElem.text(cMeta.name);if(dim==='Ey'){DATA.errorWeight=cMeta.uid;return;}if(updateData({col:cMeta,dim:dim})){PANELS.show('overview');}else PANELS.hideAll();}else{if(dim==='Ey'){DATA.errorWeight='';return $fitElem.text('Select an Ey column!');}$fitElem.text('Select a column for '+dim+' !');if(updateData({col:{},dim:dim})){PANELS.show('overview');}else PANELS.hideAll();}}function updateData(selectedData){var col;if(TD.tabtype==='plot'){var gd=Tabs.getGraph(),trace=gd._fullData[selectedData.idx];DATA.name=trace.name;DATA.uid=[trace.uid];DATA.axis=gd._fullLayout.xaxis;DATA.type=trace.type;DATA.orientation=trace.orientation;return true;}else{if(Utils.isEmpty(DATA)){DATA.uid=['',''];}col=selectedData.col;if(selectedData.dim==='y'){if(Utils.isEmpty(col)){DATA.name='';DATA.uid[1]='';}else{DATA.name=col.name?col.name:'';DATA.uid[1]=col.uid;}}else{if(Utils.isEmpty(col)){DATA.uid[0]='';DATA.axis={};}else{DATA.uid[0]=col.uid;DATA.axis={};DATA.axis=GridOperations.getColAxes(GridOperations.getColData(TD,col.coli));}}if(Utils.isEmpty(DATA.uid[0])||Utils.isEmpty(DATA.uid[1])){return false;}return true;}}function configureOverview($overview){var $msgDiv=$overview.find('.js-fit-status-msg'),$fitList=$overview.find('.js-fit-list'),$fitButton=$overview.find('.js-add-fit-btn');$fitList.find('.fit__overview-table').empty();var fits=findFits(),numFits=fits.length;if(numFits){fits.forEach(function(fit){addNewFitItem(fit);});$fitList.show();$msgDiv.hide();if(TD.tabtype==='plot'){$fitButton.text('Add another fit to this trace');}else{$fitButton.text('Add another fit to these columns');}}else{$fitList.hide();var msg=TD.tabtype==='plot'?'You don\'t have any fits for this trace yet.':'You don\'t have any fits for these columns yet.';$msgDiv.text(msg);$msgDiv.show();$fitButton.text('Add fit to this trace');}$fitButton.off('click').on('click',function(){PANELS.show('options');return false;});}function configureResults($results,fitmeta){var $fitR2=$results.find('.js-fit-result-r2'),$fitRMS=$results.find('.js-fit-result-rms'),$fitParamsFormatted=$results.find('.js-fit-result-params'),$fitParamsUnFormatted=$results.find('.js-fit-result-params-unformatted'),$fitEditBtn=$results.find('.js-fit-edit-btn'),$toggleAnno=$results.find('.js-toggle-fit-annotation'),$fitCancel=$results.find('.js-fit-cancel'),paramHTMLFormatted=fitmeta.params.map(function(p){var err;var sigval;var errstr='';var calval=Number(p.value);if(isNumber(p.err)){err=Number(p.err).toPrecision(2);sigval=Workspace.sigfigFormat(calval,err);if(Number(err)===0){err=Workspace.sigfigFormat(Number(err),sigval);}errstr='  +/- '+err;}else{sigval=calval.toPrecision(2);}var html='<div class="fit__param fit__param_sig">'+'<b class="fit__param-name">'+p.name+'</b>'+'<span class="fit__param-equals">=</span>'+'<span class="fit__param-val">'+sigval+errstr+'</span>'+'</div>';return html;}),paramHTMLUnFormatted=fitmeta.params.map(function(p){var calval=Number(p.value);var html='<div class="fit__param">'+'<b class="fit__param-name">'+p.name+'</b>'+'<span class="fit__param-equals">=</span>'+'<span class="fit__param-val">'+calval+'</span>'+'</div>';return html;});var R2=Number(fitmeta.corr);R2=R2*R2;if(!Utils.isEmpty(fitmeta.corr))$fitR2.text(R2.toPrecision(2));if(!Utils.isEmpty(fitmeta.rms))$fitRMS.text(Number(fitmeta.rms).toPrecision(2));if(!Utils.isEmpty(paramHTMLFormatted))$fitParamsFormatted.html(paramHTMLFormatted.join(''));if(!Utils.isEmpty(paramHTMLUnFormatted))$fitParamsUnFormatted.html(paramHTMLUnFormatted.join(''));$fitEditBtn.off('click').on('click',function(){PANELS.show('options',fitmeta);return false;});$fitCancel.off('click').on('click',function(){removeOldGuessCurves();PANELS.show('overview');return false;});$toggleAnno.off('click').on('click',function(){toggleAnnotation(fitmeta,'R<sup>2</sup> = '+R2.toPrecision(4));});if(TD.tabtype==='plot'){if(findAnnoIndexbyUID(fitmeta.uid)>-1){$toggleAnno.prop('checked',true);}else{$toggleAnno.prop('checked',false);}}}function configureOptions($options,fitmeta){var $fitPanels=$FITBOX.find('.js-fit-panels');initOptionControl(fitmeta);OPTS.fitname.setter($options);OPTS.inputfunc.setter($options);OPTS.inputxrange.setter($options);OPTS.outputxrange.setter($options);OPTS.ninterp.setter($options);OPTS.errorweights.setter($options);var $fitRunBtn=$fitPanels.find('.js-run-fit-btn'),$fitCancel=$fitPanels.find('.js-fit-cancel');$fitPanels.find('.option__btn').off('change').on('change',function(){var $this=$(this),$thisChoiceMore=$this.parents('.option').find('.option__this-choice-more');if($this.attr('type')==='radio'){var $otherChoicesMore=$this.parents('.option').siblings().find('.option__this-choice-more');$otherChoicesMore.find('.js-has-error-tooltip').removeClass('js-has-error-tooltip error__form-field').tipsy('hide');$fitRunBtn.tipsy('hide');$otherChoicesMore.hide();$thisChoiceMore.show();$thisChoiceMore.find('.js-has-error-tooltip').tipsy('show');$fitRunBtn.tipsy('show');}else{if($this.prop('checked')){$fitRunBtn.tipsy('hide');$thisChoiceMore.show();$fitRunBtn.tipsy('show');}else{$thisChoiceMore.find('.js-has-error-tooltip').removeClass('js-has-error-tooltip error__form-field').tipsy('hide');$fitRunBtn.tipsy('hide');$thisChoiceMore.hide();$fitRunBtn.tipsy('show');}}});function isReqFieldEmpty($input){var value=$input.val();if($input.parents('.option').find('.option__btn').prop('checked')&&value===''){var err='Fill this in!';return err;}return void 0;}
function setErrorTitle($elem,tabErrorObj){var newErrorTitle=buildErrorMsg(tabErrorObj);$elem.attr('title',newErrorTitle);}
function buildErrorMsg(tabErrorObj){var tabsWithErrors=Object.keys(tabErrorObj),errorMsg='Before we can run your fit, please fix ',errorMsgList=[],msgThisTab;tabsWithErrors.forEach(function(tabName){var numErrors=tabErrorObj[tabName];if(numErrors!==0){msgThisTab=numErrors+' error';if(numErrors!==1){msgThisTab+='s';}msgThisTab+=' in the '+tabName+' tab';errorMsgList.push(msgThisTab);}});errorMsgList.forEach(function(msg,index){if(index!==0){errorMsg+=', ';if(index===errorMsgList.length-1){errorMsg+='and ';}}errorMsg+=msg;});errorMsg+='!';return errorMsg;}function checkFitErrors(shouldRunFit){var $userdefinedFuncInput=$fitPanels.find('.js-fit-user-input');var err=isReqFieldEmpty($userdefinedFuncInput);if(err){$userdefinedFuncInput.addClass('js-has-error-tooltip error__form-field');$userdefinedFuncInput.attr('title',err);if($userdefinedFuncInput.parents('.js-minimal-tabs-content').css('display')==='block'){$userdefinedFuncInput.tipsy('show');}}var $userParamsInUse=$fitPanels.find('.js-fit-user-defined-func').find('.js-fit-param-in-use');$userParamsInUse.each(function(index,elem){var $input=$(elem);var err=isReqFieldEmpty($input);if(err){$input.addClass('js-has-error-tooltip error__form-field');$input.attr('title',err);}if($userParamsInUse.parents('.js-minimal-tabs-content').css('display')==='block'){$input.tipsy('show');}});var tabErrorObj={},numErrorsTotal=0;var $tabMenuItems=$fitPanels.find('.js-minimal-tabs-menu li a');$tabMenuItems.each(function(){var $tabMenuItem=$(this),href=$tabMenuItem.attr('href'),$tab=$tabMenuItem.parents('.js-minimal-tabs-menu').siblings('.js-minimal-tabs-container').find(href);var tabName=$tabMenuItem.text();var numErrorsThisTab=$tab.find('.error__form-field').length;numErrorsTotal+=numErrorsThisTab;tabErrorObj[tabName]=numErrorsThisTab;});if(numErrorsTotal===0&&shouldRunFit){$fitRunBtn.tipsy('hide');$('.tipsy.error__tooltip').remove();runFit();return false;}
else{console.log('****** need to fix errors');setErrorTitle($fitRunBtn,tabErrorObj);$fitRunBtn.tipsy('show');}return void 0;}$fitRunBtn.tipsy({className:'error__tooltip',trigger:'manual',gravity:'w',opacity:1});$fitRunBtn.off('click.errorcheck').on('click.errorcheck',function(){checkFitErrors(true);});$fitCancel.off('click').on('click',function(){removeOldGuessCurves();PANELS.show('overview');return false;});$FITBOX.find('.js-minimal-tabs-menu').find('li:first-child').find('a').click();}function PanelControl($elem){var self={};var panels=['overview','results','options'];self.overview=$elem.find('.js-fit-overview');self.results=$elem.find('.js-fit-results');self.options=$elem.find('.js-fit-options');self.show=function(panel,fitmeta){self.hideAll();configure(panel,fitmeta);self[panel].show();};self.hide=function(panel){self[panel].hide();};self.hideAll=function(){panels.forEach(function(panel){self[panel].hide();});};function configure(panel,fitmeta){if(!fitmeta){fitmeta=newFitmeta();fitmeta.parent=DATA.uid.slice(0);fitmeta.uid=newUID();}switch(panel){case'overview':configureOverview(self.overview);break;case'results':configureResults(self.results,fitmeta);break;case'options':configureOptions(self.options,fitmeta);break;}}return self;}function newFitmeta(){return{fitname:'',parent:'',funcStr:'',inputxrange:['',''],outputxrange:['',''],ninterp:'',rms:'',corr:'',weight:'',params:[]};}function findFits(){var data,fits=[];if(!Utils.isEmpty(DATA.uid)){data=getData(TD).filter(function(d){return'fit'in d;});fits=data.filter(function(d){return uidsMatch(d.fit.parent,DATA.uid);});}return fits;}function addNewFitItem(fit){var idx,$traces;var $existingFits=$FITBOX.find('.fit__overview-table');var $newFitItem=$($('script#load-fit-list-item').html());var $fitEqn=$newFitItem.find('.js-fit-object-eqn'),$fitViewEditBtn=$newFitItem.find('.js-fit-view-edit-btn'),$fitRmLink=$newFitItem.find('.js-fit-object-remove'),$fitGridPlotContainer=$newFitItem.find('.js-fit-gridplot-container'),$fitGridPlotBtn=$newFitItem.find('.js-fit-gridplot-btn');$fitEqn.text(fit.fit.funcStr);if(TD.tabtype==='plot'){idx=Tabs.getGraph().data.indexOf(fit);$traces=$FITBOX.find('.select-trace li > a');$newFitItem.find('.js-fit-object-name').html($($traces[idx]).html());$fitGridPlotContainer.remove();}else{$fitGridPlotBtn.off('click').on('click',function(){gridplot(fit);return false;});}$fitViewEditBtn.off('click').on('click',function(){PANELS.show('results',fit.fit);return false;});$fitRmLink.off('click').on('click',function(){removeFit(fit);return false;});$existingFits.append($newFitItem);}function initOptionControl(fitmeta){var Options=Plotly.Lib.OptionControl(fitmeta,'fitmeta');Options._newoption({name:'fitname',setter:function setter(){var name;var numfits=findFits().length;if(!this.fitmeta.fitname){numfits++;name=DATA.name+' - fit'+(numfits>1?' '+numfits:'');}else{name=this.fitmeta.fitname;}this.fitmeta.fitname=name;},getter:function getter(){var STATUS=true;return STATUS;}});Options._newoption({name:'inputfunc',setter:function setter($elem){this.anchor=$elem;this.nparams=0;this.ID='fitbox-'+TD.id+'-radio-fit-user-defined';var variant,lib=FUNCLIB[0],whichSelected=0,initParams=this.fitmeta.params,existingFuncStr=this.fitmeta.funcStr,self=this,libfit;if(existingFuncStr){libfit=getFuncfromLib(this.fitmeta.funcStr);if(libfit.lib){whichSelected=0;lib=libfit.lib;variant=libfit.variant;}else{whichSelected=1;}}var $radios=this.anchor.find('#'+this.ID).parents('.js-fit-option-set').find('.option__btn'),$selectedRadio=$($radios[whichSelected]),$unselectedRadio=$($radios[Math.abs(whichSelected-1)]);$selectedRadio.prop('checked',true);$selectedRadio.parents('.option').find('.option__this-choice-more').show();$unselectedRadio.parents('.option').find('.option__this-choice-more').hide();this.radios=$radios;var $predefinedFields=$elem.find('.js-fit-predefined-fields');var $userFields=$elem.find('.js-fit-user-fields');addParamFields($predefinedFields,8,initParams);addParamFields($userFields,8,initParams);$predefinedFields.children().find('.fit-param').each(function(index,elem){var $input=$(elem);$input.errorTip(checkForParamValError,'n',0,removeRunBtnTooltip);});var $userParams=$userFields.find('.fit-param');$userParams.each(function(){var $input=$(this);$input.errorTip(checkForParamValError,'n',0,removeRunBtnTooltip);});funcFamilyDropdown(lib,variantCB);if(variant){variantDropdown(lib,variant,variantCB);}var $plotParamLinks=$elem.find('.js-fit-plot-guess-curve');$plotParamLinks.each(function(idx,plotParamLink){var $plotParamLink=$(plotParamLink);if(TD.tabtype==='grid'){$plotParamLink.hide();}else{$plotParamLink.on('click',function(){var $fields,status=true;if(idx===0){$fields=$predefinedFields.children();}else{$fields=$userFields.children();}for(var i=0;i<self.nparams;i++){var $field=$($fields[i]);var $input=$field.find('.input');var value=$input.val();if(!isNumber(value)){$input.addClass('js-has-error-tooltip error__form-field');$input.attr('title','Guess required');status=false;}}if(status){runFit(true);}return false;});}});var $input=this.anchor.find('.js-fit-user-input');$input.errorTip(checkInputForErrors,'w',750,setParams);if(libfit&&libfit.lib){$input.val('');}else{$input.val(existingFuncStr);}if(initParams.length>0){if(whichSelected===0){setParamFields($predefinedFields,initParams,false);setParamFields($userFields,[],false);}else{setParamFields($predefinedFields,initParams,true);setParamFields($userFields,initParams,false);}}function checkInputForErrors($input){var value=$input.val();var err=PC.exprErr(value);if(value===''){return void 0;}if(!err){var vars=PC.getParams(value);var indeps=vars.indeps;if(indeps.length===0||indeps.indexOf('x')===-1){err='Function must include an independent variable x!';}else if(indeps.indexOf('x')>-1&&(indeps.indexOf('y')>-1||indeps.indexOf('z')>-1)){err='Sorry, y and z are reserved independent variables. Please use x!';}}if(!err){return void 0;}else{return err;}}function setParams($input){var vars=PC.getParams($input.val());var params=vars.params;setParamFields($userFields,params);removeRunBtnTooltip($input);self.nparams=params.length;}function variantCB(variant){var params=PC.getParams(variant).params;self.nparams=params.length;fitmeta.funcStr=variant;$elem.find('.js-fit-variant-function').text('f(x) = '+variant);setParamFields($predefinedFields,params,true);}function addParamFields($elem,num,params){var $span,$param;$elem.empty();for(var i=0;i<num;i++){$param=$(GridContent.labeled_input('input--small fit-param','','--','input--small'));$elem.append($param);}$span=$elem.find('.add-on');$span.off('click').on('click',function(){var $this=$(this);if(!$this.hasClass('disabled')){$(this).toggleClass('selected');}});setParamFields($elem,params,true);}function setParamFields($paramContainer,params,clear){var $paramFields=$paramContainer.children(),paramName;$paramFields.each(function(i){var $this=$(this);var $fieldLabel=$this.find('.add-on'),$input=$this.find('.input');if(i<params.length){$this.removeClass('hidden');$fieldLabel.removeClass('disabled');$input.removeClass('disabled');$input.prop('disabled',false);$input.addClass('js-fit-param-in-use');if(_typeof(params[i])==='object'){paramName=params[i].name;$input.val(params[i].value);if(params[i].hold){$fieldLabel.click();}}else{paramName=params[i];}if(clear){$input.val('');}$fieldLabel.text(paramName);}else if(i>=params.length&&i<4){$fieldLabel.text('--');$fieldLabel.addClass('disabled');$input.val('');$input.removeClass('js-fit-param-in-use');$input.addClass('disabled');$input.prop('disabled',true);}else{$this.addClass('hidden');$fieldLabel.text('--');$input.val('');}});}},getter:function getter(calcdata){var STATUS=true;var $fieldContainer,fitmeta=this.fitmeta,funcStr;var isUserDefinedChecked=this.anchor.find('#'+this.ID).prop('checked');if(!isUserDefinedChecked){$fieldContainer=this.anchor.find('.js-fit-predefined-fields');funcStr=fitmeta.funcStr;}else{$fieldContainer=this.anchor.find('.js-fit-user-fields');funcStr=this.anchor.find('.js-fit-user-input').val();}fitmeta.params=[];var $fields=$fieldContainer.children();for(var i=0;i<this.nparams;i++){var $field=$($fields[i]),$fieldLabel=$field.find('.add-on');var name,value,hold;name=$fieldLabel.text();hold=$fieldLabel.hasClass('selected');var $input=$field.find('input');value=$input.val();fitmeta.params.push({'name':name,'value':value,'hold':hold});if(!isNumber(value)&&value!==''){STATUS=false;}}this.fitmeta.funcStr=funcStr;return STATUS;}});Options._newoption({name:'inputxrange',setter:function setter($elem){var checkDefault=false;this.anchor=$elem;this.ID='fitbox-'+TD.id+'-check-fit-in-xrange';var xmin=this.fitmeta.inputxrange[0];var xmax=this.fitmeta.inputxrange[1];xmin=isNumber(xmin)||isDate(xmin)?xmin:'';xmax=isNumber(xmax)||isDate(xmax)?xmax:'';if(!Utils.isEmpty([xmin,xmax])){checkDefault=true;}var $checkbox=this.anchor.find('#'+this.ID);if(checkDefault){$checkbox.prop('checked',true);$checkbox.parents('.option').find('.option__this-choice-more').show();}else{$checkbox.prop('checked',false);$checkbox.parents('.option').find('.option__this-choice-more').hide();}this.checkbox=$checkbox;var $xminInput=$checkbox.parents('.option').find('.xmin');var $xmaxInput=$checkbox.parents('.option').find('.xmax');$xminInput.val(xmin);$xmaxInput.val(xmax);$xminInput.errorTip(checkForRangeValError,'n',250,removeRunBtnTooltip);$xmaxInput.errorTip(checkForRangeValError,'n',250,removeRunBtnTooltip);this.inputs=[$xminInput,$xmaxInput];},getter:function getter(){var STATUS=true,xvalues=['',''];var isChecked=this.checkbox.prop('checked');if(isChecked){this.inputs.forEach(function($elem,i){var err=checkForRangeValError($elem);if(err){STATUS=false;return;}setXVals($elem,i);});}function setXVals($input,i){var val=$input.val();if(isNumber(val)){xvalues[i]=cleanNumber(val);return;}if(isDate(val)){xvalues[i]=val;return;}return;}this.fitmeta.inputxrange=xvalues;return STATUS;}});Options._newoption({name:'outputxrange',setter:function setter($elem){var checkDefault=false;this.anchor=$elem;this.ID='fitbox-'+TD.id+'-check-fit-out-xrange';var xmin=this.fitmeta.outputxrange[0];var xmax=this.fitmeta.outputxrange[1];xmin=isNumber(xmin)||isDate(xmin)?xmin:'';xmax=isNumber(xmax)||isDate(xmax)?xmax:'';if(!Utils.isEmpty([xmin,xmax])){checkDefault=true;}var $checkbox=this.anchor.find('#'+this.ID);if(checkDefault){$checkbox.prop('checked',true);$checkbox.parents('.option').find('.option__this-choice-more').show();}else{$checkbox.prop('checked',false);$checkbox.parents('.option').find('.option__this-choice-more').hide();}this.checkbox=$checkbox;var $xminInput=$checkbox.parents('.option').find('.xmin');var $xmaxInput=$checkbox.parents('.option').find('.xmax');$xminInput.val(xmin);$xmaxInput.val(xmax);$xminInput.errorTip(checkForRangeValError,'n',250,removeRunBtnTooltip);$xmaxInput.errorTip(checkForRangeValError,'n',250,removeRunBtnTooltip);this.inputs=[$xminInput,$xmaxInput];},getter:function getter(){var STATUS=true,xvalues=['',''];var isChecked=this.checkbox.prop('checked');if(isChecked){this.inputs.forEach(function($elem,i){var err=checkForRangeValError($elem);if(err){STATUS=false;return;}setXVals($elem,i);});}function setXVals($input,i){var val=$input.val();if(isNumber(val)){xvalues[i]=cleanNumber(val);return;}if(isDate(val)){xvalues[i]=val;return;}return;}this.fitmeta.outputxrange=xvalues;return STATUS;}});Options._newoption({name:'ninterp',setter:function setter($elem){this.anchor=$elem;this.ID='fitbox-'+TD.id+'-radio-fit-evenly-spaced-x';var n=50;var whichSelected=TD.tabtype==='plot'?0:1;if(DATA.type==='category')whichSelected=1;if(this.fitmeta.ninterp!==''){n=this.fitmeta.ninterp;whichSelected=0;}var slider=initSlider($elem[0],'',n);this.anchor.find('#'+this.ID).parents('.option').find('.option__this-choice-more').empty().append(slider.html);this.sliderval=slider.init();var $radios=this.anchor.find('#'+this.ID).parents('.js-fit-option-set').find('.option__btn'),$selectedRadio=$($radios[whichSelected]),$unselectedRadio=$($radios[Math.abs(whichSelected-1)]);$selectedRadio.prop('checked',true);$selectedRadio.parents('.option').find('.option__this-choice-more').show();$unselectedRadio.parents('.option').find('.option__this-choice-more').hide();this.radios=$radios;},getter:function getter(){var STATUS=true;var val=null;var isEvenlySpacedChecked=$(this.radios[0]).prop('checked');if(isEvenlySpacedChecked){val=this.sliderval.val();}this.fitmeta.ninterp=val;return STATUS;}});Options._newoption({name:'errorweights',setter:function setter($elem){var that=this,traceErrorBar,dataArray,spec,defaultOption=this.fitmeta.weight,visible;that.$anchor=$elem.find('#fit-error-weights');that.$checkbox=that.$anchor.find('#fitbox-'+TD.id+'-check-fit-error-weights');that.$buttons=$(this.$anchor).find('.btn-group').children();that.$inputbox=$(this.$anchor).find('.inputtext');that.$inputbox.errorTip(checkForParamValError,'n',0,removeRunBtnTooltip);if(TD.tabtype==='plot'){traceErrorBar='existing errorbars',dataArray=buildTraceList(TD).map(function(container){return container[0].t;}),spec={items:dataArray.map(function(trace){if(uidsMatch(DATA.uid,Tabs.getGraph()._fullData[trace.idx].uid)&&hasErrorsAttached(trace.idx)){if(!defaultOption)defaultOption='errbar';return traceErrorBar;}else return trace.name;}),callback:onDropdownSelect};that.$dataSelector=Utils.dropdownSelector(spec).css({'overflow-y':'inherit'});$(this.$anchor).find('.js-error-weight-dropdown').empty().css({'display':'inline-block'}).append(that.$dataSelector);}if(TD.tabtype==='grid'){that.$dataSelector=that.$anchor.find('.js-error-weight-selector').css({'display':'inline-block'});}that.$inputbox.hide();that.$dataSelector.hide();if(TD.tabtype==='grid'){visible=(visible=TD.colMeta[0].headers)&&(visible=visible.Ey)&&(visible=visible.visible);if(visible)that.$buttons[2].click();}
that.$buttons.click(function(){that.$buttons.removeClass('active');$(this).addClass('active');var btntxt=this.textContent;switch(btntxt){case'%':showInput();break;case'':showSqrt();break;case'Data':showData();break;}});if(defaultOption){that.$checkbox.prop('checked',true);that.$checkbox.parents('.option').find('.option__this-choice-more').show();if(/%$/.test(defaultOption)){$(that.$buttons[0]).click();that.$inputbox.val(defaultOption.substring(0,defaultOption.length-1));}else if(defaultOption==='sqrt'){$(that.$buttons[1]).click();}else if(defaultOption==='errbar'&&TD.tabtype==='plot'){$(that.$buttons[2]).click();that.$dataSelector.find('.dropdown-menu').filter(function(i,item){return item.textContent===traceErrorBar;}).first().click();}else if(TD.tabtype==='plot'){$(that.$buttons[2]).click();Tabs.getGraph()._fullData.filter(function(d){if(d.uid===defaultOption){that.$dataSelector.find('.dropdown-menu').filter(function(i,item){return item.textContent===d.name;}).first().click();}});}else if(TD.tabtype==='grid'){TD.colMeta.forEach(function(meta){if(meta.uid===defaultOption){if(meta.headers.Ey){$(meta.headers.Ey.elem).click();$(that.$buttons[2]).click();}}});}}function showInput(){that.$dataSelector.hide();that.$inputbox.show();hideErrorBar();}function showSqrt(){that.$dataSelector.hide();that.$inputbox.hide();hideErrorBar();}function showData(){that.$inputbox.hide();that.$dataSelector.show();showErrorBar();}function onDropdownSelect(item,i){var traceIndex=dataArray[i].idx;var uid=Tabs.getGraph()._fullData[traceIndex].uid;that.dataErrorUID=item===traceErrorBar?'errbar':uid;}function hasErrorsAttached(traceid){var trace=Tabs.getGraph().calcdata[traceid][0];return'yh'in trace&&'ys'in trace;}function hideErrorBar(){if(TD.tabtype!=='grid')return;GridLayout.toggleHeaders('Ey',false);}function showErrorBar(){if(TD.tabtype!=='grid')return;GridLayout.toggleHeaders('Ey',true);}},getter:function getter(){var STATUS=true,percentValue,errval='';if(this.$checkbox.prop('checked')){this.$buttons.each(function(i,button){if($(button).hasClass('active'))errval=button.textContent;});if(errval==='%'){percentValue=this.$inputbox.val();if(isNumber(percentValue))errval=percentValue+'%';else errval='';}if(errval==='Data'){if(TD.tabtype==='plot')errval=this.dataErrorUID;else errval=DATA.errorWeight||'';}if(errval===''){errval='sqrt';}}this.fitmeta.weight=errval;return STATUS;}});OPTS=Options;}function removeRunBtnTooltip($input){var $tabs=$input.parents('.js-fit-options');if($tabs.find('.js-has-error-tooltip').length===0){$tabs.find('.js-run-fit-btn').attr('original-title','').tipsy('hide');}}function checkForParamValError($input){var err,value=$input.val();if(isNumber(value)||value===''){return void 0;}else{err='Enter a numeric value';return err;}}function checkForRangeValError($input){var value=$input.val();if(isNumber(value)){return void 0;}if(isDate(value)){return void 0;}else{var err='Please enter a number or a date!';return err;}}function funcFamilyDropdown(fam,cb){var $dropdownContainer=$FITBOX.find('.js-fit-family');$dropdownContainer.html(Tabs.getGraph().toolPanel.dropdown('',''));var $dn=$dropdownContainer.find('.editboxselector'),dd=Plotly.d3.select($dn[0]);function getFuncFamily(famname){return FUNCLIB.reduce(function(p,c){return p.libname===famname?p:c;});}function setFamily(f){dd.select('.btn-group .selected-val').text(f);variantDropdown(getFuncFamily(f),undefined,cb);}$dropdownContainer.find('.dropdown-toggle').addClass('dropdown-toggle--fixed-width');$dropdownContainer.find('.dropdown-menu').addClass('dropdown-toggle--fixed-width');var funcFamilies=FUNCLIB.map(function(fam){return fam.libname;});setFamily(fam?fam.libname:funcFamilies[0].libname);dd.select('ul').selectAll('li').data(funcFamilies).enter().append('li').append('a').attr('href','#').text(Plotly.Lib.identity).on('click',function(d,i){setFamily(d);Plotly.d3.event.preventDefault();});}function variantDropdown(lib,v,cb){var $dropdownContainer=$FITBOX.find('.js-fit-variant'),$fitVariantWrapper=$dropdownContainer.parent('.option__more-item');$dropdownContainer.html(Tabs.getGraph().toolPanel.dropdown('',''));var variants=lib.variants.map(function(v){return v.name;});var $dn=$dropdownContainer.find('.editboxselector'),dd=Plotly.d3.select($dn[0]),variantName;function setVariant(vName){dd.select('.btn-group .selected-val').text(vName);if(cb){var vs=lib.variants.filter(function(v){return v.name===vName;});cb(vs[0].func);}}$dropdownContainer.find('.dropdown-toggle').addClass('dropdown-toggle--fixed-width');$dropdownContainer.find('.dropdown-menu').addClass('dropdown-toggle--fixed-width');if(v){variantName=v.name;}else{variantName=variants[0];}setVariant(variantName);if(variants.length===1){$fitVariantWrapper.hide();}else{dd.select('ul').selectAll('li').data(variants).enter().append('li').append('a').attr('href','#').text(Plotly.Lib.identity).on('click',function(d,i){setVariant(d);Plotly.d3.event.preventDefault();});$fitVariantWrapper.show();}}function initSlider(s,title,npoints,cls,cb){var nmin=0,nmax=100,sliderVal,options={value:npoints||nmin,min:nmin,max:nmax,step:1,slide:function slide(e,ui){var newval=ui.value;sliderVal.val(newval);},stop:function stop(){if(cb)cb();}},sliderhtml='<div class="pickslider '+(cls?cls:'')+'">'+'<input type="text" class="slider-val" value="'+nmin+'"/>'+'<div class="slider"></div>'+(title&&title!==''?'<div class="sublabel">'+title+'</div>':'')+'</div>';function sliderinit(startval){if(startval)options.value=startval;else startval=options.value;$(s).find('.slider').slider(options);sliderVal=$(s).find('.slider-val').val(startval);return sliderVal;}return{html:sliderhtml,init:sliderinit};}function getCalcData(uids){var ix,cols,colx,coly,x,y,name,xorig;var type;if(!Array.isArray(uids))uids=[uids];if(TD.tabtype==='plot'){var gd=Tabs.getGraph();gd._fullData.forEach(function(d,i){if(d.uid===uids[0]){ix=i;xorig=d.x;name=d.name;type=d.type;}});if(type==='scatter'){x=gd.calcdata[ix].map(function(obj){return obj.x;});y=gd.calcdata[ix].map(function(obj){return obj.y;});}else if(type==='bar'||type.indexOf('histogram')>-1){x=xorig=gd.calcdata[ix].map(function(obj){return obj.p;});y=gd.calcdata[ix].map(function(obj){return obj.s;});}else{return{err:'Fitting data of this type is not supported'};}}else{cols=getData(TD);cols.forEach(function(col){if(col.uid===uids[0]){colx=col;}else if(col.uid===uids[1]){coly=col;name=col.name;}return;});xorig=GridOperations.getColData(TD,colx.coli);x=GridOperations.getCalcData(TD,colx.coli);y=GridOperations.getCalcData(TD,coly.coli);}if(Utils.isEmpty(x)||Utils.isEmpty(y))return{err:'data related to this fit is empty'};else return{x:x,y:y,xorig:xorig,name:name,err:null};}function getData(td,uids){var data;if(!Utils.isEmpty(uids)&&!Array.isArray(uids))uids=[uids];if(td.tabtype==='plot')data=Tabs.getGraph().data;else data=td.colMeta;if(!Utils.isEmpty(uids))data=data.filter(function(d){return uids.indexOf(d.uid)>-1;});return data;}function getErrorWeights(td,ydata,weightType){var gd=Tabs.getGraph();var edata,cols,percent;if(/%$/.test(weightType)){percent=Number(weightType.substring(0,weightType.length-1))/100;if(percent>0){edata=ydata.map(function(d){return percent*Math.abs(d);});}}else if(weightType==='sqrt'){edata=ydata.map(function(d){return Math.sqrt(Math.abs(d));});}else if(weightType==='errbar'&&td.tabtype==='plot'){gd.data.forEach(function(d,i){if(uidsMatch(DATA.uid,d.uid)&&'yh'in gd.calcdata[i][0]){edata=gd.calcdata[i].map(function(obj){return(obj.yh-obj.ys)/2;});}});}else if(weightType){if(td.tabtype==='plot'){gd.data.forEach(function(d,i){if(uidsMatch(weightType.uid,d.uid)){edata=gd.calcdata[i].map(function(obj){return obj.y;});}});}if(td.tabtype==='grid'){cols=getData(td,weightType);if(!cols)return void 0;edata=GridOperations.getCalcData(td,cols[0].coli);}}if(!edata)edata=ydata.map(function(){return 1;});return edata;}function newUID(){var data=getData(TD,null).filter(function(d){return'uid'in d;});var uids=data.map(function(d){return d.uid;});return Plotly.Lib.randstr(uids);}function uidsMatch(uidx,uidy){var matches;if(Array.isArray(uidx)){if(!Array.isArray(uidy))uidy=[uidy];matches=uidx.filter(function(ux,i){return ux===uidy[i];});return matches.length===uidx.length;}else return uidx===uidy;}function getFuncfromLib(func){var found={'lib':null,'variant':{name:'unknown',func:func}},lfunc,ufunc=func.toUpperCase().replace(/ /g,'');FUNCLIB.forEach(function(lib){lib.variants.forEach(function(v){lfunc=v.func.replace(/ /g,'').toUpperCase();if(lfunc===ufunc){found={'lib':lib,'variant':v};}});});return found;}function removeFit(fitobj){var idx,col,fitmeta;if(TD.tabtype==='plot'){var gd=Tabs.getGraph();idx=gd.data.indexOf(fitobj);gd.data.splice(idx,1);gd.calcdata=false;Plotly.plot(gd).then(function(){var annidx=findAnnoIndexbyUID(fitobj.uid);if(annidx>-1){Plotly.relayout(gd,'annotations['+annidx+']','remove');}}).then(function(){traceSelection('trace');PANELS.show('overview');});}else{col=getData(TD,fitobj.uid)[0];if('coli'in col)GridOperations.deleteCol(TD,col.coli);fitmeta=fitobj.fit;if(!Utils.isEmpty(fitmeta.xpair)&&fitmeta.xpair.length===6){col=getData(TD,fitmeta.xpair)[0];if('coli'in col)GridOperations.deleteCol(TD,col.coli);}PANELS.show('overview');}}function removeOldGuessCurves(){if(TD.tabtype!=='plot')return;var gd=Tabs.getGraph();var oldGuessCurves=gd.data.filter(function(d){return d.guessCurve;});oldGuessCurves.forEach(function(d){var idx=gd.data.indexOf(d);gd.data.splice(idx,1);gd.calcdata=false;Plotly.plot(gd);});}function toggleAnnotation(fitmeta,txt){var gd=Tabs.getGraph();var Aindex=findAnnoIndexbyUID(fitmeta.uid);if(Aindex>-1){return Plotly.relayout(gd,'annotations['+Aindex+']','remove');}
var anno={};var scope={};if(!txt)txt='';fitmeta.params.forEach(function(p){scope[p.name]=p.value;});var options={precision:3};var data=getData(TD,fitmeta.uid)[0],midp=Math.round(data.x.length/2);anno.text=txt+'<br>'+'f(x) = '+MATH.prettyprint(fitmeta.funcStr,scope,options);anno.uid=fitmeta.uid;anno.xref='x';anno.yref='y';anno.x=gd._fullLayout.xaxis.d2l(data.x[midp]);anno.y=gd._fullLayout.xaxis.d2l(data.y[midp]);anno.arrowcolor='#636363';anno.font={size:16};anno.align='left';anno.opacity=0.8;var nextAnn=(gd.layout.annotations||[]).length;return Plotly.relayout(gd,'annotations['+nextAnn+']',anno);}function findAnnoIndexbyUID(uid){var gd=Tabs.getGraph();if('annotations'in gd.layout&&Array.isArray(gd.layout.annotations)){return gd.layout.annotations.map(function(ann){return ann.uid;}).indexOf(uid);}else{return-1;}}function onPopoverDestroy($elem,cb){(function(){$.event.special.destroyed={remove:function remove(o){if(o.handler){o.handler();}}};})();$elem.bind('destroyed',function(){cb();});}function runFit(plotParamFlag){var calcdata=getCalcData(OPTS._fitmeta.parent);if(calcdata.err){console.log('DATA RETRIEVAL ERROR',calcdata.err);var msg='Oops! There was a problem plotting your fit. '+calcdata.err;Workspace.PopActions.showDialogue(msg,{duration:3000});delMessage('Generating Fit...');return;}var STATUS=true;OPTS.optionList.forEach(function(opt){var status=opt.getter(calcdata);if(!status){console.log('option getter failing on '+opt.name);}STATUS=STATUS&&status;});if(!STATUS){return;}var fitmeta=OPTS._fitmeta,xcalc=calcdata.x,ycalc=calcdata.y,ecalc=getErrorWeights(TD,ycalc,fitmeta.weight),xorig=calcdata.xorig,fitmetaSaved;if(plotParamFlag){fitmetaSaved=$.extend(true,fitmeta);}var r=stripNaNs(xcalc,ycalc,ecalc),xinput=r.x,yinput=r.y,weights=r.w,xoutput=xcalc.slice(0),inx=cleanxlim(xinput,fitmeta.inputxrange),outx=cleanxlim(xinput,fitmeta.outputxrange),ninterp=cleanNumber(fitmeta.ninterp),datenormal=100000,initDate;var z=Plotly.d3.zip(xinput,yinput,weights).sort(function(a,b){return a[0]-b[0];});z.forEach(function(zipped,idx){xinput[idx]=zipped[0];yinput[idx]=zipped[1];weights[idx]=zipped[2];});var xo=findInsertionIndex(xinput,inx[0]);var xf=findInsertionIndex(xinput,inx[1]);if(xinput[xf]===inx[1])xf++;xinput=xinput.slice(xo,xf);yinput=yinput.slice(xo,xf);weights=weights.slice(xo,xf);if(DATA.axis.type==='date'){initDate=xinput[0];xinput=numeric.sub(xinput,initDate);xinput=numeric.div(xinput,datenormal);}var funct=fitmeta.funcStr,params=fitmeta.params,libfit=getFuncfromLib(funct),lib=libfit.lib,variant=libfit.variant,err='',xshift=0,pshift={},guess;params.forEach(function(p){p.value=cleanNumber(p.value);if(plotParamFlag)p.hold=true;});if(lib&&variant.autoguess&&!plotParamFlag){guess=variant.autoguess(xinput,yinput);if(guess.err)err=guess.err;xshift=guess.xshift||0;pshift=guess.pshift;params.forEach(function(p){var guessval=guess.params[p.name];if(!isNumber(p.value)&&isNumber(guessval)&&!p.hold){p.value=guessval;}});if(!Utils.isEmpty(pshift)){pshift.prefit(params);}}var results,fit,fitter,scope={};var freeparams=params.filter(function(p){return!p.hold;}),freeparamnames=freeparams.map(function(p){return p.name;}),freeparamvals=freeparams.map(function(p){return p.value;});params.forEach(function(p){scope[p.name]=p.value;});var fitfunc=PC.makeEvaluator(funct,scope,freeparamnames);if(!plotParamFlag)addMessage('Generating Fit...');if(plotParamFlag){results={};results.params=[];}fitter=funcSolver();results=fitter.run(xinput,yinput,weights,freeparamvals,fitfunc);results.corr=computeCorr(yinput,results.fit);params.forEach(function(pobj){var idx=freeparamnames.indexOf(pobj.name);if(idx>-1){pobj.value=results.params[idx];pobj.err=results.err[idx];}});freeparams=params.filter(function(p){return!p.hold;});freeparamvals=freeparams.map(function(p){return p.value;});if(!Utils.isEmpty(pshift)){pshift.postfit(params);}var x0,x1,xaltered=false;if(ninterp){xoutput=numeric.linspace(outx[0],outx[1],ninterp);xaltered=true;}else if(!Utils.isEmpty(fitmeta.outputxrange)){var reversed;if(xoutput.length>1)reversed=xcalc[0]>xcalc[1];xoutput=xoutput.filter(function(x){return isNumber(x);});xoutput=xoutput.sort();x0=findInsertionIndex(xoutput,outx[0]);x1=findInsertionIndex(xoutput,outx[1]);if(xoutput[x1]===outx[1])x1++;xoutput=xoutput.slice(x0,x1);if(reversed)xoutput.reverse();xaltered=true;}if(initDate){fit=xoutput.map(function(x){if(isNumber(x))return fitfunc((x-initDate)/datenormal-xshift,freeparamvals);else return'';});}else{fit=xoutput.map(function(x){if(isNumber(x))return fitfunc(x-xshift,freeparamvals);else return'';});}if(!xaltered)xoutput=xorig;else xoutput=xoutput.map(DATA.axis.c2d);fitmeta.rms=results.rms;fitmeta.corr=results.corr;fitmeta.iterations=results.iterations;fitmeta.params=params;if(plotParamFlag)fitmeta=fitmetaSaved;var errMsg;if(err){errMsg='Oops! There was a problem plotting your fit. '+err;Workspace.PopActions.showDialogue(msg,{duration:3000});delMessage('Generating Fit...');return;}if(numeric.all(numeric.isNaN(fit))){errMsg='Oops! There was a problem plotting your fit. '+'Try another fit type or try windowing your data with xmin and xmax.';Workspace.PopActions.showDialogue(msg,{duration:3000});delMessage('Generating Fit...');return;}TD.changed=true;if(TD.tabtype==='plot'){if(DATA.orientation==='h'){plotfit(fit,xoutput,fitmeta,plotParamFlag);}else{plotfit(xoutput,fit,fitmeta,plotParamFlag);}}else{gridfit(xoutput,fit,fitmeta,xaltered);}setTimeout(function(){delMessage('Generating Fit...');},800);}function cleanxlim(xs,xlims){xlims=xlims.map(function(x){var xParsed=Plotly.Lib.parseDate(x);if(xParsed!==false)return xParsed.getTime();else return x;});xlims=xlims.map(cleanNumber);if(!isNumber(xlims[0]))xlims[0]=MATH.max(xs);if(!isNumber(xlims[1]))xlims[1]=MATH.min(xs);if(xlims[0]>xlims[1]){var mn_cp=xlims[0];xlims[0]=xlims[1];xlims[1]=mn_cp;}return xlims;}function stripNaNs(x,y,w){var xf=[],yf=[],wf=[];for(var j=0;j<x.length;j++){if(!isNumber(x[j])||!isNumber(y[j])){x.splice(j,1,false);y.splice(j,1,false);if(w){w.splice(j,1,false);}}}xf=x.filter(function(xi){return xi!==false;});yf=y.filter(function(xi){return xi!==false;});if(w)wf=w.filter(function(xi){return xi!==false;});return{x:xf,y:yf,w:wf};}function plotfit(xnew,fit,fitmeta,plotParamFlag){var gd=Tabs.getGraph();var fitData={},plotDone=Promise.resolve();removeOldGuessCurves();var data,color,xaxis,yaxis;gd.data.forEach(function(trace,i){var fullTrace=gd._fullData[i];if(trace.uid===fitmeta.parent[0]){xaxis=fullTrace.xaxis;yaxis=fullTrace.yaxis;if('marker'in fullTrace)color=fullTrace.marker.color;else if('line'in fullTrace)color=fullTrace.line.color;}if(trace.uid===fitmeta.uid)data=trace;});if(plotParamFlag){fitData.uid=newUID();fitData.line={color:'#444',width:4,dash:'dot'};fitData.opacity=0.7;fitData.name='Guess curve';fitData.x=xnew;fitData.y=fit;fitData.xaxis=xaxis;fitData.yaxis=yaxis;fitData.guessCurve=true;plotDone=Plotly.plot(gd,[fitData]);}else if(data){var idx=gd.data.indexOf(data);gd.calcdata.splice(idx,1);data.x=xnew;data.y=fit;data.fit=fitmeta;plotDone=Plotly.plot(gd);}else{fitData.uid=fitmeta.uid;fitData.line={color:color,width:4};fitData.opacity=0.5;fitData.name=fitmeta.fitname;fitData.x=xnew;fitData.y=fit;fitData.xaxis=xaxis;fitData.yaxis=yaxis;fitData.fit=fitmeta;plotDone=Plotly.plot(gd,[fitData]);}plotDone.then(function(){traceSelection('trace');if(!plotParamFlag){PANELS.show('results',fitmeta);}});}function gridfit(x,fit,fitmeta,xaltered){var resultx,resulty,xMeta,yMeta;TD.colMeta.forEach(function(c){if(c.uid===fitmeta.uid){yMeta=c;}if(fitmeta.xpair&&c.uid===fitmeta.xpair){xMeta=c;}});if(yMeta){if(xaltered&&Utils.isEmpty(fitmeta.xpair)){resultx={data:x,name:fitmeta.fitname.replace('fit','newx'),uid:newUID()};fitmeta.xpair=resultx.uid;GridOperations.deleteCol(TD,yMeta.coli);resulty={data:fit,name:fitmeta.fitname,fit:fitmeta,uid:fitmeta.uid};GridOperations.addCol(TD,resultx);GridOperations.addCol(TD,resulty);}else{if(xaltered){GridOperations.replaceCol(TD,x,xMeta.coli);}yMeta.name=fitmeta.fitname;yMeta.fit=fitmeta;yMeta.uid=fitmeta.uid;GridOperations.replaceCol(TD,fit,yMeta.coli);}}else{if(xaltered){resultx={data:x,name:fitmeta.fitname.replace('fit','newx'),uid:newUID()};GridOperations.addCol(TD,resultx);fitmeta.xpair=resultx.uid;}resulty={data:fit,name:fitmeta.fitname,fit:fitmeta,uid:fitmeta.uid};GridOperations.addCol(TD,resulty);}PANELS.show('results',fitmeta);}function gridplot(fitobj){var parentGridData,fitData,parentPlotData,edata,newfitData={},fitmeta=fitobj.fit,tdGRID=TD;if(TD.fid!==undefined)Plotly.Grids.saveGrid(TD);parentGridData=getCalcData(fitmeta.parent);if(parentGridData.err)console.log('CALC DATA ERROR',parentGridData.err);var xuid=Utils.isEmpty(fitmeta.xpair)?fitmeta.parent[0]:fitmeta.xpair;fitData=getCalcData([xuid,fitobj.uid]);if(fitData.err)throw new Error(fitData.err);Tabs.fresh('plot');var gd=Tabs.getGraph();var newFitmeta={};Object.keys(fitmeta).forEach(function(key){if(key==='parent'){newFitmeta[key]=[fitmeta[key][1]];}else if(key==='xpair'){newFitmeta[key]='';}else{newFitmeta[key]=fitmeta[key];}});parentPlotData={x:parentGridData.xorig,y:parentGridData.y,uid:newFitmeta.parent[0],name:parentGridData.name,type:'scatter',mode:'markers'};if(fitmeta.weight){edata=getErrorWeights(tdGRID,parentGridData.x,fitmeta.weight);parentPlotData.error_y={};if(edata){parentPlotData.error_y.array=edata;if(/%$/.test(fitmeta.weight))parentPlotData.error_y.type='percent';else if(fitmeta.weight==='sqrt')parentPlotData.error_y.type='sqrt';else parentPlotData.error_y.type='data';parentPlotData.error_y.visible=true;}}var numfits,fit_colors=['rgb(228, 26, 28)','rgb(55, 126, 184)','rgb(77, 175, 74)','rgb(52, 78, 163)','rgb(255, 127, 0)','rgb(66, 86, 40)','rgb(166, 86, 40)','rgb(247, 129, 191)','rgb(53, 153, 153)'];if(gd.data){numfits=gd.data.filter(function(data){return'fit'in data;}).length;}else{numfits=0;}if(numfits>8){numfits=MATH.floor(MATH.random()*8);}newfitData.uid=newFitmeta.uid;newfitData.line={color:fit_colors[numfits+1],width:6};newfitData.opacity=0.5;newfitData.name=fitData.name;newfitData.x=fitData.xorig;newfitData.y=fitData.y;newfitData.fit=newFitmeta;Plotly.plot(gd,[parentPlotData,newfitData]).then(function(){setTimeout(function(){Workspace.PopActions.showDialogue('Nice fit!',{duration:3000});},500);TD=tdGRID;});}function ParamControl(math){var self={},independents=['x','y','z'],constants=['pi','PI'];self.getParams=getParams;self.makeEvaluator=makeEvaluator;self.exprErr=exprErr;self.math=math;function exprErr(expr,scope){scope=scope||{};var err='';try{var ps=getParams(expr),params=ps.indeps.concat(ps.params);params.forEach(function(p){scope[p]=scope[p]||1;});math.eval(expr,scope);}catch(e){err=e;}return err;}function makeEvaluator(expr,scope,freeParams){var param=getParams(expr),indeps=param.indeps;if(!indeps.length){throw new Error('no independent variables in expression!');}freeParams=freeParams||param.params;if(!Array.isArray(freeParams)){freeParams=[freeParams];}return function(indp,params){if(!Array.isArray(indp))indp=[indp];if(!Array.isArray(params))params=[params];if(params.length!==freeParams.length){throw new Error('input parameters not equal to freeParams length');}
freeParams.forEach(function(p,i){scope[p]=params[i];});indeps.forEach(function(x,i){scope[x]=indp[i];});return math.eval(expr,scope);};}function getParams(expr){var foundIndeps=[],foundConstants=[],params=extractParams(math.parse(expr));independents.forEach(function(x){var ix=params.indexOf(x);if(ix>-1){foundIndeps.push(params.splice(ix,1)[0]);}});constants.forEach(function(c){var ic=params.indexOf(c);if(ic>-1){foundConstants.push(params.splice(ic,1)[0]);}});params=params.sort();foundIndeps=foundIndeps.sort();foundConstants=foundConstants.sort();return{indeps:foundIndeps,params:params,constants:foundConstants};}function extractParams(node){var params=[];if('expr'in node){node=node.expr;}if('params'in node){node.params.forEach(function(node){params=params.concat(extractParams(node));});}else{if(node.name){params.push(node.name);}}return getunique(params);}function getunique(inputArray){var outputArray=[];for(var i=0;i<inputArray.length;i++){if(outputArray.indexOf(inputArray[i])===-1){outputArray.push(inputArray[i]);}}return outputArray;}return self;}function findInsertionIndex(sortedArr,val){var low=0,high=sortedArr.length;if(val<sortedArr[0])return low;if(val>sortedArr[high-1])return high;var mid=-1;while(low<high){mid=low+high>>1;if(sortedArr[mid]<val){low=mid+1;}else if(sortedArr[mid]>val){high=mid;}else{return mid;}}return low;}function cleanNumber(v){if(v===null||v===undefined||v===false){return'';}if(isNumber(v)){return Number(v);}
v=v.toString().replace(/[^0-9.-]/g,'');if(isNumber(v)){return Number(v);}return'';}function isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n);}function isDate(val){var valParsed=Plotly.Lib.parseDate(val);if(valParsed!==false)return isNumber(valParsed.getTime());else return false;}function computeCorr(x,y){var i;var xy=[];var x2=[];var y2=[];for(i=0;i<x.length;i++){xy.push(x[i]*y[i]);x2.push(x[i]*x[i]);y2.push(y[i]*y[i]);}var sum_x=0;var sum_y=0;var sum_xy=0;var sum_x2=0;var sum_y2=0;for(i=0;i<x.length;i++){sum_x+=x[i];sum_y+=y[i];sum_xy+=xy[i];sum_x2+=x2[i];sum_y2+=y2[i];}var step1=x.length*sum_xy-sum_x*sum_y;var step2=x.length*sum_x2-sum_x*sum_x;var step3=x.length*sum_y2-sum_y*sum_y;var step4=Math.sqrt(step2*step3);var answer=step1/step4;return answer;}
return{initPlotFit:function initPlotFit(popover){var gd=Tabs.getGraph();ID=popover;$FITBOX=$(popover);var $popoverInner=$FITBOX.find('.slideout-content');$popoverInner.html($('script#load-fitbox-plot').html());var $fitPanels=$popoverInner.find('.js-fit-panels'),$fitOptions=$popoverInner.find('.js-fit-options'),$tabMenu=$fitOptions.find('.js-minimal-tabs-menu');$fitPanels.css('min-width','450px');$fitOptions.find('.js-minimal-tabs-content').each(function(index,tabContent){var $tabMenuItem=$($tabMenu.find('a')[index]);var tid='fitbox-'+TD.id+'-'+index;$(tabContent).attr('id',tid);$tabMenuItem.attr('href','#'+tid);});Tabs.getGraph().toolPanel.initMinimalTabs($FITBOX);PANELS=new PanelControl($FITBOX);$FITBOX.find('.option__btn').each(function(){var btnID=$(this).attr('id'),btnNewID='fitbox-'+TD.id+'-'+btnID,$btnLabel=$FITBOX.find('label[for="'+btnID+'"]');$(this).attr('id',btnNewID);$btnLabel.attr('for',btnNewID);});gd.data.forEach(function(d){if(!d.uid||typeof d.uid!=='string'||d.uid.length<6){d.uid=newUID();}});traceSelection('trace');PANELS.show('overview');onPopoverDestroy($FITBOX,removeOldGuessCurves);},initGridFit:function initGridFit(container){ID=container;$FITBOX=$(ID).show();$FITBOX.html($('script#load-fitbox-grid').html());$FITBOX.find('.trace-dropdown').html('<div class="js-fit-gridrow-selected"></div>'+'<div class="js-fit-gridrow-selected"></div>');var $fitOptions=$FITBOX.find('.js-fit-options'),$tabMenu=$fitOptions.find('.js-minimal-tabs-menu');$fitOptions.find('.js-minimal-tabs-content').each(function(index,tabContent){var $tabMenuItem=$($tabMenu.find('a')[index]);var tid='fitbox-'+TD.id+'-'+index;$(tabContent).attr('id',tid);$tabMenuItem.attr('href','#'+tid);});Tabs.getGraph().toolPanel.initMinimalTabs($FITBOX);PANELS=new PanelControl($FITBOX);$FITBOX.find('.option__btn').each(function(){var btnID=$(this).attr('id'),btnNewID='fitbox-'+TD.id+'-'+btnID,$btnLabel=$FITBOX.find('label[for="'+btnID+'"]');$(this).attr('id',btnNewID);$btnLabel.attr('for',btnNewID);});$TD.on('grid-header-click',setHeader);updateData({col:{},dim:'x'});updateData({col:{},dim:'y'});setTimeout(function(){try{$(TD.colMeta[0].headers.x.elem).click();$(TD.colMeta[1].headers.y.elem).click();}catch(e){}},50);PANELS.show('overview');}};};},{"./autoGuess":377,"./funcSolver":379,"./polySolver":381}],379:[function(require,module,exports){'use strict';var PI=Math.PI,PID2=PI/2;function MAX(x1,x2){return Math.max(x1,x2);}
function MIN(x1,x2){return Math.min(x1,x2);}
function ABS(x){return Math.abs(x);}
function SQRT(x){return Math.sqrt(x);}
function EXP(x){return Math.exp(x);}
function LN(x){return Math.log(x);}
function POWER(x,y){return Math.pow(x,y);}
function SIN(x){return Math.sin(x);}
function COS(x){return Math.cos(x);}
function ATAN(x){return Math.atan(x);}
function CHISQ(x,n){if(x>1000||n>1000){var q=NORM((POWER(x/n,1/3)+2/(9*n)-1)/SQRT(2/(9*n)))/2;return x>n?q:1-q;}
var p=EXP(-0.5*x);if(n%2===1)p=p*SQRT(2*x/PI);var k=n;while(k>=2){p=p*x/k;k=k-2;}
var t=p,a=n;while(t>1e-15*p){a+=2;t*=x/a;p+=t;}
return 1-p;}
function NORM(z){var q=z*z;if(ABS(z)>7)return(1-1/q+3/(q*q))*EXP(-q/2)/(ABS(z)*SQRT(PID2));else return CHISQ(q,1);}
function STATCOM(q,i,j,b){var zz=1,z=zz,k=i;while(k<=j){zz*=q*k/(k-b);z+=zz;k+=2;}
return z;}
function STUDT(t,n){t=ABS(t);var w=t/SQRT(n),th=ATAN(w);if(n===1)return 1-th/PID2;var sth=SIN(th),cth=COS(th);if(n%2===1)return 1-(th+sth*cth*STATCOM(cth*cth,2,n-3,-1))/PID2;else return 1-sth*STATCOM(cth*cth,1,n-3,-1);}
function INVERSE(f,p){var v=0.5,dv=0.25,x;while(dv>1e-15){x=1/v-1;v+=f(x)>p?-dv:dv;dv/=2;}
return x;}
function ASTUDT(p,n){return INVERSE(function(a){return STUDT(a,n);},p);}
function Fmt(x){var v;if(ABS(x)<0.00005){x=0;}
v=' '+(x+(x>0?0.00005:-0.00005));v=v.substring(0,v.indexOf('.')+5);return v.substring(v.length-10,v.length);}
function vFmt(x){var v;if(ABS(x)<0.0000005){x=0;}
v=' '+(x+(x>0?0.0000005:-0.0000005));v=v.substring(0,v.indexOf('.')+7);return v.substring(v.length-18,v.length);}
function ix(j,k,p){return j*(p+1)+k;}
function cropNum(v,vmin,vmax,vdefault){if(typeof v!=='number'){return vdefault;}else{return MAX(vmin,MIN(vmax,v));}}
module.exports=function FuncSolver(options){if(!options)options={};var debug=options.log||false;var self={};function Iterate(input){if(debug)console.log('starting Iterate',input);var Par=input.params.slice(0);var SEP=[1,1,1,1,1,1,1,1];var Der=[0,0,0,0,0,0,0,0,0];var Arr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var Cov;if('cov'in input&&input.cov)Cov=input.cov;else{Cov=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];}
var NL=decodeURI('%0D')+decodeURI('%0A');var i=0,j=0,k=0;var nPts=input.data.length;var nPar='npar'in input?input.npar:input.params.length;var nVar=cropNum(input.nvar,1,8,1);var dgfr=nPts-nPar;var St95=ASTUDT(0.05,dgfr);var Pctile=cropNum(input.pctile/100,0,1,0.5);var func=input.func;var SSq=0;var out={params:[],fit:[],res:[],conf_lo:[],conf_hi:[],rms:0,corr:0,cov:[]};var Y,X,yc,w,Save,Del;var savedWeight=[];for(j=0;j<nPar*(nPar+1);j++){Arr[j]=0;}
for(i=0;i<nPts;i++){X=input.data[i][0];yc=func(X,Par);Y=input.data[i][nVar];w=input.errorform==='w'?input.data[i][nVar+1]:1;var yo=Y;if(w===0){w=0.001;}
if(input.leastabs){w*=MAX(SQRT(ABS(Y-yc)*(Y<yc?Pctile:1-Pctile)),0.001*Y);}
savedWeight.push(w);for(j=0;j<nPar;j++){Save=Par[j];Del=Save===0?0.0001:Save/1000;if(debug&&i===0)console.log(i,j,Del);Par[j]=Save+Del;var ycDecr,ycIncr=func(X,Par);if(input.centered){Par[j]=Save-Del;ycDecr=func(X,Par);Der[j]=(ycIncr-ycDecr)/(2*Del*w);}else Der[j]=(ycIncr-yc)/(Del*w);Par[j]=Save;}
Der[nPar]=(Y-yc)/w;SSq+=Der[nPar]*Der[nPar];var SEest=0;for(j=0;j<nPar;j++){for(k=0;k<=nPar;k++){Arr[ix(j,k,nPar)]+=Der[j]*Der[k];}SEest+=Cov[ix(j,j,nPar)]*Der[j]*Der[j];for(k=j+1;k<nPar;k++){SEest+=2*Cov[ix(j,k,nPar)]*Der[j]*Der[k];}}
SEest=w*SQRT(SEest);var yco=yc,ycl=yc-St95*SEest,ych=yc+St95*SEest;out.fit.push(yco);out.res.push(yo-yco);out.conf_lo.push(ycl);out.conf_hi.push(ych);}
var RMS=SQRT(SSq/MAX(1,dgfr));if(debug)console.log('RMS Error = '+vFmt(RMS)+'; d.f = '+dgfr+'; SSq = '+vFmt(SSq));var AICc,AIC=nPts*LN(SSq/nPts)+2*(nPar+1);if(nPts>=nPar+2){AICc=AIC+2*(nPar+1)*(nPar+1+1)/(nPts-(nPar+1)-1);}else{AICc=AIC;}
if(debug)console.log('AIC = '+vFmt(AIC)+'; AIC(corrected) = '+vFmt(AICc));for(i=0;i<nPar;i++){var s=Arr[ix(i,i,nPar)]||1e-15*SSq;Arr[ix(i,i,nPar)]=1;for(k=0;k<=nPar;k++){Arr[ix(i,k,nPar)]=Arr[ix(i,k,nPar)]/s;}
for(j=0;j<nPar;j++){if(i!=j){s=Arr[ix(j,i,nPar)];Arr[ix(j,i,nPar)]=0;for(k=0;k<=nPar;k++){Arr[ix(j,k,nPar)]-=s*Arr[ix(i,k,nPar)];}}}}
var initialPar=Par.slice();function updatePar(frac){for(i=0;i<nPar;i++){Par[i]=initialPar[i]+frac*Arr[ix(i,nPar,nPar)];}}
function getRMS(newparams){SSq=0;var err;for(i=0;i<nPts;i++){err=(input.data[i][nVar]-func(input.data[i][0],newparams))/savedWeight[i];SSq+=err*err;}
return SQRT(SSq/MAX(1,dgfr));}
if(debug)console.log(NL+'Parameter Estimates...');updatePar(1);for(i=0;i<nPar;i++){SEP[i]=RMS*SQRT(Arr[ix(i,i,nPar)]);if(debug){console.log('p'+(i+1)+'='+vFmt(Par[i])+' +/- '+vFmt(SEP[i])+'; p='+Fmt(STUDT(Par[i]/SEP[i],dgfr)));}}
if(debug){console.log(NL+'Covariance Matrix Terms and Error-Correlations...');}
var changeFraction=1,newRMS=getRMS(Par),midRMS=newRMS,finalFraction,finalRMS=newRMS;if(newRMS>RMS){while(changeFraction>0.01&&midRMS>=RMS){changeFraction/=2;updatePar(changeFraction);newRMS=midRMS;midRMS=getRMS(Par);}
if(midRMS<RMS){finalFraction=changeFraction*(3*RMS+newRMS-4*midRMS)/(2*RMS+2*newRMS-4*midRMS);updatePar(finalFraction);finalRMS=getRMS(Par);if(finalRMS>midRMS){updatePar(changeFraction);finalRMS=midRMS;}
console.log('took a smaller step than originally calculated',changeFraction);}else{console.log('Oops - didnt find a lower RMS anywhere on the old to new parameter vector - stopping');finalRMS=RMS;Par=initialPar;}}
var v;for(j=0;j<nPar;j++){for(k=j;k<nPar;k++){Cov[ix(j,k,nPar)]=Arr[ix(j,k,nPar)]*RMS*RMS;if(debug){v=Arr[ix(j,k,nPar)]/SQRT(Arr[ix(j,j,nPar)]*Arr[ix(k,k,nPar)]);var o='B('+(j+1)+','+(k+1)+')=';if(j!=k)o+='B('+(k+1)+','+(j+1)+')=';v=Fmt(v);o+=' '+Cov[ix(j,k,nPar)]+'; r='+v.substring(v.length-7,v.length);console.log(o);}}}
for(i=0;i<8;i++){out.params[i]={val:Par[i],err:SEP[i],pval:vFmt(STUDT(Par[i]/SEP[i],dgfr))};}out.rms=finalRMS;out.cov=Cov;return out;}
function zip(x,y,z){var arr=[];for(var i=0;i<x.length;i++){if(z)arr[i]=[x[i],y[i],z[i]];else arr[i]=[x[i],y[i]];}
return arr;}
function run(x,y,w,params,fitfunc,itermax,tol){function applyFuncWith(params){var y=[];for(var i=0;i<x.length;++i){y[i]=fitfunc(x[i],params);}
return y;}
if(!itermax)itermax=20;if(!tol)tol=0.0001;var iter=0,data=zip(x,y,w),fit=applyFuncWith(params),rms,prms,newfit,newparams,out,cov;while(iter<itermax){out=Iterate({data:data,params:params,npar:params.length,errorform:w.length?'w':'',func:fitfunc,cov:cov});newparams=out.params.slice(0,params.length).map(function(p){return p.val;});newfit=applyFuncWith(newparams);rms=out.rms;if(iter===0)prms=rms+tol+1;if(debug){console.log('NEWFITTER params = '+newparams+'\n oldparams = '+params+'\nrms = '+out.rms+' prms = '+prms);}
if(!newparams.every($.isNumeric)){console.log('oops, non-numeric parameter... stopping.');Workspace.PopActions.showDialogue('Snap! there was a problem iterating your fit',{duration:3000});newparams=params;break;}
params=newparams;cov=out.cov;fit=newfit;if(Math.abs(rms-prms)<tol)break;iter++;prms=rms;}
var pout={fit:fit,rms:rms,err:out.params.slice(0,params.length).map(function(p){return p.err;}),params:params,iterations:iter};return pout;}
self.run=run;return self;};},{}],380:[function(require,module,exports){'use strict';function b64toBlob(b64Data,contentType,sliceSize){contentType=contentType;sliceSize=sliceSize||512;if(!b64Data)throw new Error('no data provided!');if(!contentType)throw new Error('no content type provided!');if(typeof sliceSize!=='number')throw new Error('slice size must be a number!');var byteCharacters=window.atob(b64Data);var byteArrays=[];for(var offset=0;offset<byteCharacters.length;offset+=sliceSize){var slice=byteCharacters.slice(offset,offset+sliceSize);var byteNumbers=new Array(slice.length);for(var i=0;i<slice.length;i++){byteNumbers[i]=slice.charCodeAt(i);}
var byteArray=new Uint8Array(byteNumbers);byteArrays.push(byteArray);}
var blob=new Blob(byteArrays,{type:contentType});return blob;}
exports.b64toBlob=b64toBlob;},{}],381:[function(require,module,exports){'use strict';module.exports=function PolySolver(xdata,ydata,porder){function Pair(x,y){this.x=x;this.y=y;};Pair.prototype.toString=function(){return this.x+','+this.y;};function gj_divide(A,i,j,m){for(var q=j+1;q<m;q++){A[i][q]/=A[i][j];}
A[i][j]=1;}
function gj_eliminate(A,i,j,n,m){for(var k=0;k<n;k++){if(k!=i&&A[k][j]!=0){for(var q=j+1;q<m;q++){A[k][q]-=A[k][j]*A[i][q];}
A[k][j]=0;}}}
function gj_echelonize(A){var n=A.length;var m=A[0].length;var i=0;var j=0;var k;var swap;while(i<n&&j<m){k=i;while(k<n&&A[k][j]==0){k++;}
if(k<n){if(k!=i){swap=A[i];A[i]=A[k];A[k]=swap;}
if(A[i][j]!=1){gj_divide(A,i,j,m);}
gj_eliminate(A,i,j,n,m);i++;}
j++;}}
function compute_coefficients(data,p){p+=1;var i,n=data.length;var pr,terms,mc,r,c;var rs=2*p-1;var mm,m=Array();for(i=0;i<p;i++){mm=Array();for(var j=0;j<=p;j++){mm[j]=0;}
m[i]=mm;}
var mpc=Array();for(i=0;i<rs;i++){mpc[i]=0;}
mpc[0]=n;for(i=0;i<data.length;i++){pr=data[i];for(r=1;r<rs;r++){mpc[r]+=Math.pow(pr.x,r);}
m[0][p]+=pr.y;for(r=1;r<p;r++){m[r][p]+=Math.pow(pr.x,r)*pr.y;}}
for(r=0;r<p;r++){for(c=0;c<p;c++){m[r][c]=mpc[r+c];}}
gj_echelonize(m);terms=Array();for(i=0;i<m.length;i++){mc=m[i];terms[i]=mc[p];}
return terms;}
function process_data(xd,yd,p){var data=[];for(var i=0;i<xd.length;i++){var xi=xd[i],yi=yd[i];if(typeof xi==='string'){xi=Number(xi.replace(/[^0-9.-]/g,''));}
if(typeof yi==='string'){yi=Number(yi.replace(/[^0-9.-]/g,''));}
data[i]=new Pair(xi,yi);}
var terms=compute_coefficients(data,p);return terms;}
var polyParams,order;if(Array.isArray(porder)){order=porder.length-1;polyParams=porder;}else{order=porder;polyParams=['a','b','c','d','e','f','g','h','i'];}
var params=process_data(xdata,ydata,order);var result={err:'',params:{}};for(var i=0;i<=order;i++){result.params[polyParams[i]]=params[i];}
return result;};},{}],382:[function(require,module,exports){'use strict';function LSDIndex(dx){var lsdIndex=0;dx+='';var idx=dx.indexOf('.');if(idx>-1){lsdIndex=idx-dx.length+1;}else{while(dx[dx.length-1-lsdIndex]==='0'){lsdIndex++;}}
return lsdIndex;}
function roundToIndex(x,index){var power=Math.pow(10,-index);return Math.round(x*power)/power;}
function sigfigFormat(x,dx){var overshot;if(dx===undefined||Number(dx)===0&&LSDIndex(dx)>LSDIndex(x)){return x.toString();}
var roundingIndex=LSDIndex(dx);var roundedString=roundToIndex(x,roundingIndex).toString();if(roundingIndex>=0){overshot=roundingIndex-roundedString.length+1;if(overshot<=0){return roundedString;}else{return Array(overshot+1).join('0')+roundedString;}}else{return Number(roundedString).toFixed(Math.abs(roundingIndex));}}
module.exports=sigfigFormat;},{}],383:[function(require,module,exports){'use strict';var Workspace={};Workspace.isNumeric=require('fast-isnumeric');Workspace.Fit=require('./fit');Workspace.Lib=require('./lib');Workspace.PopStore=require('../../../../filewell/static/filewell/src/stores/PopStore.js');Workspace.FileStore=require('../../../../filewell/static/filewell/src/stores/FileStore.js');Workspace.UserStore=require('../../../../filewell/static/filewell/src/stores/UserStore.js');Workspace.UserActions=require('../../../../filewell/static/filewell/src/actions/UserActions.js');Workspace.PopActions=require('../../../../filewell/static/filewell/src/actions/PopActions.js');Workspace.FileActions=require('../../../../filewell/static/filewell/src/actions/FileActions.js');Workspace.FolderActions=require('../../../../filewell/static/filewell/src/actions/FolderActions.js');Workspace.LoadingActions=require('../../../../filewell/static/filewell/src/actions/LoadingActions.js');Workspace.fileAPI=require('../../../../filewell/static/filewell/src/utils/fileAPI');Workspace.FolderAPI=require('../../../../filewell/static/filewell/src/utils/folderAPI.js');Workspace.userAPI=require('../../../../filewell/static/filewell/src/utils/userAPI.js');Workspace.urls=require('../../../../filewell/static/filewell/src/utils/appUtils.js');Workspace.sigfigFormat=require('./sigfigFormat');var app=require('./app.js');var anchor=document.getElementById('newSharingModal');if(anchor)app.init(anchor);module.exports=Workspace;},{"../../../../filewell/static/filewell/src/actions/FileActions.js":269,"../../../../filewell/static/filewell/src/actions/FolderActions.js":270,"../../../../filewell/static/filewell/src/actions/LoadingActions.js":271,"../../../../filewell/static/filewell/src/actions/PopActions.js":273,"../../../../filewell/static/filewell/src/actions/UserActions.js":276,"../../../../filewell/static/filewell/src/stores/FileStore.js":340,"../../../../filewell/static/filewell/src/stores/PopStore.js":341,"../../../../filewell/static/filewell/src/stores/UserStore.js":344,"../../../../filewell/static/filewell/src/utils/appUtils.js":350,"../../../../filewell/static/filewell/src/utils/fileAPI":353,"../../../../filewell/static/filewell/src/utils/folderAPI.js":355,"../../../../filewell/static/filewell/src/utils/userAPI.js":374,"./app.js":376,"./fit":378,"./lib":380,"./sigfigFormat":382,"fast-isnumeric":17}]},{},[383])(383)});